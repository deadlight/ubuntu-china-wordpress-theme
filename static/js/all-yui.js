if(typeof YUI!="undefined"){YUI._YUI=YUI}var YUI=function(){var i=0,Y=this,args=arguments,l=args.length,instanceOf=function(o,type){return o&&o.hasOwnProperty&&o instanceof type},gconf=typeof YUI_config!=="undefined"&&YUI_config;if(!instanceOf(Y,YUI)){Y=new YUI}else{Y._init();if(YUI.GlobalConfig){Y.applyConfig(YUI.GlobalConfig)}if(gconf){Y.applyConfig(gconf)}if(!l){Y._setup()}}if(l){for(;i<l;i++){Y.applyConfig(args[i])}Y._setup()}Y.instanceOf=instanceOf;return Y};(function(){var proto,prop,VERSION="3.9.1",PERIOD=".",BASE="http://yui.yahooapis.com/",DOC_LABEL="yui3-js-enabled",CSS_STAMP_EL="yui3-css-stamp",NOOP=function(){},SLICE=Array.prototype.slice,APPLY_TO_AUTH={"io.xdrReady":1,"io.xdrResponse":1,"SWF.eventHandler":1},hasWin=typeof window!="undefined",win=hasWin?window:null,doc=hasWin?win.document:null,docEl=doc&&doc.documentElement,docClass=docEl&&docEl.className,instances={},time=(new Date).getTime(),add=function(el,type,fn,capture){if(el&&el.addEventListener){el.addEventListener(type,fn,capture)}else if(el&&el.attachEvent){el.attachEvent("on"+type,fn)}},remove=function(el,type,fn,capture){if(el&&el.removeEventListener){try{el.removeEventListener(type,fn,capture)}catch(ex){}}else if(el&&el.detachEvent){el.detachEvent("on"+type,fn)}},handleLoad=function(){YUI.Env.windowLoaded=true;YUI.Env.DOMReady=true;if(hasWin){remove(window,"load",handleLoad)}},getLoader=function(Y,o){var loader=Y.Env._loader,lCore=["loader-base"],G_ENV=YUI.Env,mods=G_ENV.mods;if(loader){loader.ignoreRegistered=false;loader.onEnd=null;loader.data=null;loader.required=[];loader.loadType=null}else{loader=new Y.Loader(Y.config);Y.Env._loader=loader}if(mods&&mods.loader){lCore=[].concat(lCore,YUI.Env.loaderExtras)}YUI.Env.core=Y.Array.dedupe([].concat(YUI.Env.core,lCore));return loader},clobber=function(r,s){for(var i in s){if(s.hasOwnProperty(i)){r[i]=s[i]}}},ALREADY_DONE={success:true};if(docEl&&docClass.indexOf(DOC_LABEL)==-1){if(docClass){docClass+=" "}docClass+=DOC_LABEL;docEl.className=docClass}if(VERSION.indexOf("@")>-1){VERSION="3.5.0"}proto={applyConfig:function(o){o=o||NOOP;var attr,name,config=this.config,mods=config.modules,groups=config.groups,aliases=config.aliases,loader=this.Env._loader;for(name in o){if(o.hasOwnProperty(name)){attr=o[name];if(mods&&name=="modules"){clobber(mods,attr)}else if(aliases&&name=="aliases"){clobber(aliases,attr)}else if(groups&&name=="groups"){clobber(groups,attr)}else if(name=="win"){config[name]=attr&&attr.contentWindow||attr;config.doc=config[name]?config[name].document:null}else if(name=="_yuid"){}else{config[name]=attr}}}if(loader){loader._config(o)}},_config:function(o){this.applyConfig(o)},_init:function(){var filter,el,Y=this,G_ENV=YUI.Env,Env=Y.Env,prop;Y.version=VERSION;if(!Env){Y.Env={core:["get","features","intl-base","yui-log","yui-later"],loaderExtras:["loader-rollup","loader-yui3"],mods:{},versions:{},base:BASE,cdn:BASE+VERSION+"/build/",_idx:0,_used:{},_attached:{},_missed:[],_yidx:0,_uidx:0,_guidp:"y",_loaded:{},_BASE_RE:/(?:\?(?:[^&]*&)*([^&]*))?\b(simpleyui|yui(?:-\w+)?)\/\2(?:-(min|debug))?\.js/,parseBasePath:function(src,pattern){var match=src.match(pattern),path,filter;if(match){path=RegExp.leftContext||src.slice(0,src.indexOf(match[0]));filter=match[3];if(match[1]){path+="?"+match[1]}path={filter:filter,path:path}}return path},getBase:G_ENV&&G_ENV.getBase||function(pattern){var nodes=doc&&doc.getElementsByTagName("script")||[],path=Env.cdn,parsed,i,len,src;for(i=0,len=nodes.length;i<len;++i){src=nodes[i].src;if(src){parsed=Y.Env.parseBasePath(src,pattern);if(parsed){filter=parsed.filter;path=parsed.path;break}}}return path}};Env=Y.Env;Env._loaded[VERSION]={};if(G_ENV&&Y!==YUI){Env._yidx=++G_ENV._yidx;Env._guidp=("yui_"+VERSION+"_"+Env._yidx+"_"+time).replace(/[^a-z0-9_]+/g,"_")}else if(YUI._YUI){G_ENV=YUI._YUI.Env;Env._yidx+=G_ENV._yidx;Env._uidx+=G_ENV._uidx;for(prop in G_ENV){if(!(prop in Env)){Env[prop]=G_ENV[prop]}}delete YUI._YUI}Y.id=Y.stamp(Y);instances[Y.id]=Y}Y.constructor=YUI;Y.config=Y.config||{bootstrap:true,cacheUse:true,debug:true,doc:doc,fetchCSS:true,throwFail:true,useBrowserConsole:true,useNativeES5:true,win:win,global:Function("return this")()};if(doc&&!doc.getElementById(CSS_STAMP_EL)){el=doc.createElement("div");el.innerHTML='<div id="'+CSS_STAMP_EL+'" style="position: absolute !important; visibility: hidden !important"></div>';YUI.Env.cssStampEl=el.firstChild;if(doc.body){doc.body.appendChild(YUI.Env.cssStampEl)}else{docEl.insertBefore(YUI.Env.cssStampEl,docEl.firstChild)}}else if(doc&&doc.getElementById(CSS_STAMP_EL)&&!YUI.Env.cssStampEl){YUI.Env.cssStampEl=doc.getElementById(CSS_STAMP_EL)}Y.config.lang=Y.config.lang||"en-US";Y.config.base=YUI.config.base||Y.Env.getBase(Y.Env._BASE_RE);if(!filter||!"mindebug".indexOf(filter)){filter="min"}filter=filter?"-"+filter:filter;Y.config.loaderPath=YUI.config.loaderPath||"loader/loader"+filter+".js"},_setup:function(){var i,Y=this,core=[],mods=YUI.Env.mods,extras=Y.config.core||[].concat(YUI.Env.core);for(i=0;i<extras.length;i++){if(mods[extras[i]]){core.push(extras[i])}}Y._attach(["yui-base"]);Y._attach(core);if(Y.Loader){getLoader(Y)}},applyTo:function(id,method,args){if(!(method in APPLY_TO_AUTH)){this.log(method+": applyTo not allowed","warn","yui");return null}var instance=instances[id],nest,m,i;if(instance){nest=method.split(".");m=instance;for(i=0;i<nest.length;i=i+1){m=m[nest[i]];if(!m){this.log("applyTo not found: "+method,"warn","yui")}}return m&&m.apply(instance,args)}return null},add:function(name,fn,version,details){details=details||{};var env=YUI.Env,mod={name:name,fn:fn,version:version,details:details},applied={},loader,inst,i,versions=env.versions;env.mods[name]=mod;versions[version]=versions[version]||{};versions[version][name]=mod;for(i in instances){if(instances.hasOwnProperty(i)){inst=instances[i];if(!applied[inst.id]){applied[inst.id]=true;loader=inst.Env._loader;if(loader){if(!loader.moduleInfo[name]||loader.moduleInfo[name].temp){loader.addModule(details,name)}}}}}return this},_attach:function(r,moot){var i,name,mod,details,req,use,after,mods=YUI.Env.mods,aliases=YUI.Env.aliases,Y=this,j,cache=YUI.Env._renderedMods,loader=Y.Env._loader,done=Y.Env._attached,len=r.length,loader,def,go,c=[];for(i=0;i<len;i++){name=r[i];mod=mods[name];c.push(name);if(loader&&loader.conditions[name]){for(j in loader.conditions[name]){if(loader.conditions[name].hasOwnProperty(j)){def=loader.conditions[name][j];go=def&&(def.ua&&Y.UA[def.ua]||def.test&&def.test(Y));if(go){c.push(def.name)}}}}}r=c;len=r.length;for(i=0;i<len;i++){if(!done[r[i]]){name=r[i];mod=mods[name];if(aliases&&aliases[name]&&!mod){Y._attach(aliases[name]);continue}if(!mod){if(loader&&loader.moduleInfo[name]){mod=loader.moduleInfo[name];moot=true}if(!moot&&name){if(name.indexOf("skin-")===-1&&name.indexOf("css")===-1){Y.Env._missed.push(name);Y.Env._missed=Y.Array.dedupe(Y.Env._missed);Y.message("NOT loaded: "+name,"warn","yui")}}}else{done[name]=true;for(j=0;j<Y.Env._missed.length;j++){if(Y.Env._missed[j]===name){Y.message("Found: "+name+" (was reported as missing earlier)","warn","yui");Y.Env._missed.splice(j,1)}}if(loader&&cache&&cache[name]&&cache[name].temp){loader.getRequires(cache[name]);req=[];for(j in loader.moduleInfo[name].expanded_map){if(loader.moduleInfo[name].expanded_map.hasOwnProperty(j)){req.push(j)}}Y._attach(req)}details=mod.details;req=details.requires;use=details.use;after=details.after;if(details.lang){req=req||[];req.unshift("intl")}if(req){for(j=0;j<req.length;j++){if(!done[req[j]]){if(!Y._attach(req)){return false}break}}}if(after){for(j=0;j<after.length;j++){if(!done[after[j]]){if(!Y._attach(after,true)){return false}break}}}if(mod.fn){if(Y.config.throwFail){mod.fn(Y,name)}else{try{mod.fn(Y,name)}catch(e){Y.error("Attach error: "+name,e,name);return false}}}if(use){for(j=0;j<use.length;j++){if(!done[use[j]]){if(!Y._attach(use)){return false}break}}}}}}return true},_delayCallback:function(cb,until){var Y=this,mod=["event-base"];until=Y.Lang.isObject(until)?until:{event:until};if(until.event==="load"){mod.push("event-synthetic")}return function(){var args=arguments;Y._use(mod,function(){Y.on(until.event,function(){args[1].delayUntil=until.event;cb.apply(Y,args)},until.args)})}},use:function(){var args=SLICE.call(arguments,0),callback=args[args.length-1],Y=this,i=0,name,Env=Y.Env,provisioned=true;if(Y.Lang.isFunction(callback)){args.pop();if(Y.config.delayUntil){callback=Y._delayCallback(callback,Y.config.delayUntil)}}else{callback=null}if(Y.Lang.isArray(args[0])){args=args[0]}if(Y.config.cacheUse){while(name=args[i++]){if(!Env._attached[name]){provisioned=false;break}}if(provisioned){if(args.length){}Y._notify(callback,ALREADY_DONE,args);return Y}}if(Y._loading){Y._useQueue=Y._useQueue||new Y.Queue;Y._useQueue.add([args,callback])}else{Y._use(args,function(Y,response){Y._notify(callback,response,args)})}return Y},_notify:function(callback,response,args){if(!response.success&&this.config.loadErrorFn){this.config.loadErrorFn.call(this,this,callback,response,args)}else if(callback){if(this.Env._missed&&this.Env._missed.length){response.msg="Missing modules: "+this.Env._missed.join();response.success=false}if(this.config.throwFail){callback(this,response)}else{try{callback(this,response)}catch(e){this.error("use callback error",e,args)}}}},_use:function(args,callback){if(!this.Array){this._attach(["yui-base"])}var len,loader,handleBoot,Y=this,G_ENV=YUI.Env,mods=G_ENV.mods,Env=Y.Env,used=Env._used,aliases=G_ENV.aliases,queue=G_ENV._loaderQueue,firstArg=args[0],YArray=Y.Array,config=Y.config,boot=config.bootstrap,missing=[],i,r=[],ret=true,fetchCSS=config.fetchCSS,process=function(names,skip){var i=0,a=[],name,len,m,req,use;if(!names.length){return}if(aliases){len=names.length;for(i=0;i<len;i++){if(aliases[names[i]]&&!mods[names[i]]){a=[].concat(a,aliases[names[i]])}else{a.push(names[i])}}names=a}len=names.length;for(i=0;i<len;i++){name=names[i];if(!skip){r.push(name)}if(used[name]){continue}m=mods[name];req=null;use=null;if(m){used[name]=true;req=m.details.requires;use=m.details.use}else{if(!G_ENV._loaded[VERSION][name]){missing.push(name)}else{used[name]=true}}if(req&&req.length){process(req)}if(use&&use.length){process(use,1)}}},handleLoader=function(fromLoader){var response=fromLoader||{success:true,msg:"not dynamic"},redo,origMissing,ret=true,data=response.data;Y._loading=false;if(data){origMissing=missing;missing=[];r=[];process(data);redo=missing.length;if(redo){if([].concat(missing).sort().join()==origMissing.sort().join()){redo=false}}}if(redo&&data){Y._loading=true;Y._use(missing,function(){if(Y._attach(data)){Y._notify(callback,response,data)}})}else{if(data){ret=Y._attach(data)}if(ret){Y._notify(callback,response,args)}}if(Y._useQueue&&Y._useQueue.size()&&!Y._loading){Y._use.apply(Y,Y._useQueue.next())}};if(firstArg==="*"){args=[];for(i in mods){if(mods.hasOwnProperty(i)){args.push(i)}}ret=Y._attach(args);if(ret){handleLoader()}return Y}if((mods.loader||mods["loader-base"])&&!Y.Loader){Y._attach(["loader"+(!mods.loader?"-base":"")])}if(boot&&Y.Loader&&args.length){loader=getLoader(Y);loader.require(args);loader.ignoreRegistered=true;loader._boot=true;loader.calculate(null,fetchCSS?null:"js");args=loader.sorted;loader._boot=false}process(args);len=missing.length;if(len){missing=YArray.dedupe(missing);len=missing.length}if(boot&&len&&Y.Loader){Y._loading=true;loader=getLoader(Y);loader.onEnd=handleLoader;loader.context=Y;loader.data=args;loader.ignoreRegistered=false;loader.require(missing);loader.insert(null,fetchCSS?null:"js")}else if(boot&&len&&Y.Get&&!Env.bootstrapped){Y._loading=true;handleBoot=function(){Y._loading=false;queue.running=false;Env.bootstrapped=true;G_ENV._bootstrapping=false;if(Y._attach(["loader"])){Y._use(args,callback)}};if(G_ENV._bootstrapping){queue.add(handleBoot)}else{G_ENV._bootstrapping=true;Y.Get.script(config.base+config.loaderPath,{onEnd:handleBoot})}}else{ret=Y._attach(args);if(ret){handleLoader()}}return Y},namespace:function(){var a=arguments,o,i=0,j,d,arg;for(;i<a.length;i++){o=this;arg=a[i];if(arg.indexOf(PERIOD)>-1){d=arg.split(PERIOD);for(j=d[0]=="YAHOO"?1:0;j<d.length;j++){o[d[j]]=o[d[j]]||{};o=o[d[j]]}}else{o[arg]=o[arg]||{};o=o[arg]}}return o},log:NOOP,message:NOOP,dump:function(o){return""+o},error:function(msg,e,src){var Y=this,ret;if(Y.config.errorFn){ret=Y.config.errorFn.apply(Y,arguments)}if(!ret){throw e||new Error(msg)}else{Y.message(msg,"error",""+src)}return Y},guid:function(pre){var id=this.Env._guidp+"_"+ ++this.Env._uidx;return pre?pre+id:id},stamp:function(o,readOnly){var uid;if(!o){return o}if(o.uniqueID&&o.nodeType&&o.nodeType!==9){uid=o.uniqueID}else{uid=typeof o==="string"?o:o._yuid}if(!uid){uid=this.guid();if(!readOnly){try{o._yuid=uid}catch(e){uid=null}}}return uid},destroy:function(){var Y=this;if(Y.Event){Y.Event._unload()}delete instances[Y.id];delete Y.Env;delete Y.config}};YUI.prototype=proto;for(prop in proto){if(proto.hasOwnProperty(prop)){YUI[prop]=proto[prop]}}YUI.applyConfig=function(o){if(!o){return}if(YUI.GlobalConfig){this.prototype.applyConfig.call(this,YUI.GlobalConfig)}this.prototype.applyConfig.call(this,o);YUI.GlobalConfig=this.config};YUI._init();if(hasWin){add(window,"load",handleLoad)}else{handleLoad()}YUI.Env.add=add;YUI.Env.remove=remove;if(typeof exports=="object"){exports.YUI=YUI;YUI.setLoadHook=function(fn){YUI._getLoadHook=fn};YUI._getLoadHook=null}})();YUI.add("yui-base",function(Y,NAME){var L=Y.Lang||(Y.Lang={}),STRING_PROTO=String.prototype,TOSTRING=Object.prototype.toString,TYPES={undefined:"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},SUBREGEX=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,TRIMREGEX=/^\s+|\s+$/g,NATIVE_FN_REGEX=/\{\s*\[(?:native code|function)\]\s*\}/i;L._isNative=function(fn){return!!(Y.config.useNativeES5&&fn&&NATIVE_FN_REGEX.test(fn))};L.isArray=L._isNative(Array.isArray)?Array.isArray:function(o){return L.type(o)==="array"};L.isBoolean=function(o){return typeof o==="boolean"};L.isDate=function(o){return L.type(o)==="date"&&o.toString()!=="Invalid Date"&&!isNaN(o)};L.isFunction=function(o){return L.type(o)==="function"};L.isNull=function(o){return o===null};L.isNumber=function(o){return typeof o==="number"&&isFinite(o)};L.isObject=function(o,failfn){var t=typeof o;return o&&(t==="object"||!failfn&&(t==="function"||L.isFunction(o)))||false};L.isString=function(o){return typeof o==="string"};L.isUndefined=function(o){return typeof o==="undefined"};L.isValue=function(o){var t=L.type(o);switch(t){case"number":return isFinite(o);case"null":case"undefined":return false;default:return!!t}};L.now=Date.now||function(){return(new Date).getTime()};L.sub=function(s,o){return s.replace?s.replace(SUBREGEX,function(match,key){return L.isUndefined(o[key])?match:o[key]}):s};L.trim=STRING_PROTO.trim?function(s){return s&&s.trim?s.trim():s}:function(s){try{return s.replace(TRIMREGEX,"")}catch(e){return s}};L.trimLeft=STRING_PROTO.trimLeft?function(s){return s.trimLeft()}:function(s){return s.replace(/^\s+/,"")};L.trimRight=STRING_PROTO.trimRight?function(s){return s.trimRight()}:function(s){return s.replace(/\s+$/,"")};L.type=function(o){return TYPES[typeof o]||TYPES[TOSTRING.call(o)]||(o?"object":"null")};var Lang=Y.Lang,Native=Array.prototype,hasOwn=Object.prototype.hasOwnProperty;function YArray(thing,startIndex,force){var len,result;startIndex||(startIndex=0);if(force||YArray.test(thing)){try{return Native.slice.call(thing,startIndex)}catch(ex){result=[];for(len=thing.length;startIndex<len;++startIndex){result.push(thing[startIndex])}return result}}return[thing]}Y.Array=YArray;YArray.dedupe=function(array){var hash={},results=[],i,item,len;for(i=0,len=array.length;i<len;++i){item=array[i];if(!hasOwn.call(hash,item)){hash[item]=1;results.push(item)}}return results};YArray.each=YArray.forEach=Lang._isNative(Native.forEach)?function(array,fn,thisObj){Native.forEach.call(array||[],fn,thisObj||Y);return Y}:function(array,fn,thisObj){for(var i=0,len=array&&array.length||0;i<len;++i){if(i in array){fn.call(thisObj||Y,array[i],i,array)}}return Y};YArray.hash=function(keys,values){var hash={},vlen=values&&values.length||0,i,len;for(i=0,len=keys.length;i<len;++i){if(i in keys){hash[keys[i]]=vlen>i&&i in values?values[i]:true}}return hash};YArray.indexOf=Lang._isNative(Native.indexOf)?function(array,value,from){return Native.indexOf.call(array,value,from)}:function(array,value,from){var len=array.length;from=+from||0;from=(from>0||-1)*Math.floor(Math.abs(from));if(from<0){from+=len;if(from<0){from=0}}for(;from<len;++from){if(from in array&&array[from]===value){return from}}return-1};YArray.numericSort=function(a,b){return a-b};YArray.some=Lang._isNative(Native.some)?function(array,fn,thisObj){return Native.some.call(array,fn,thisObj)}:function(array,fn,thisObj){for(var i=0,len=array.length;i<len;++i){if(i in array&&fn.call(thisObj,array[i],i,array)){return true}}return false};YArray.test=function(obj){var result=0;if(Lang.isArray(obj)){result=1}else if(Lang.isObject(obj)){try{if("length"in obj&&!obj.tagName&&!(obj.scrollTo&&obj.document)&&!obj.apply){result=2}}catch(ex){}}return result};function Queue(){this._init();this.add.apply(this,arguments)}Queue.prototype={_init:function(){this._q=[]},next:function(){return this._q.shift()},last:function(){return this._q.pop()},add:function(){this._q.push.apply(this._q,arguments);return this},size:function(){return this._q.length}};Y.Queue=Queue;YUI.Env._loaderQueue=YUI.Env._loaderQueue||new Queue;var CACHED_DELIMITER="__",hasOwn=Object.prototype.hasOwnProperty,isObject=Y.Lang.isObject;Y.cached=function(source,cache,refetch){cache||(cache={});return function(arg){var key=arguments.length>1?Array.prototype.join.call(arguments,CACHED_DELIMITER):String(arg);if(!(key in cache)||refetch&&cache[key]==refetch){cache[key]=source.apply(source,arguments)}return cache[key]}};Y.getLocation=function(){var win=Y.config.win;return win&&win.location};Y.merge=function(){var i=0,len=arguments.length,result={},key,obj;for(;i<len;++i){obj=arguments[i];for(key in obj){if(hasOwn.call(obj,key)){result[key]=obj[key]}}}return result};Y.mix=function(receiver,supplier,overwrite,whitelist,mode,merge){var alwaysOverwrite,exists,from,i,key,len,to;if(!receiver||!supplier){return receiver||Y}if(mode){if(mode===2){Y.mix(receiver.prototype,supplier.prototype,overwrite,whitelist,0,merge)}from=mode===1||mode===3?supplier.prototype:supplier;to=mode===1||mode===4?receiver.prototype:receiver;if(!from||!to){return receiver}}else{from=supplier;to=receiver}alwaysOverwrite=overwrite&&!merge;if(whitelist){for(i=0,len=whitelist.length;i<len;++i){key=whitelist[i];if(!hasOwn.call(from,key)){continue}exists=alwaysOverwrite?false:key in to;if(merge&&exists&&isObject(to[key],true)&&isObject(from[key],true)){Y.mix(to[key],from[key],overwrite,null,0,merge)}else if(overwrite||!exists){to[key]=from[key]}}}else{for(key in from){if(!hasOwn.call(from,key)){continue}exists=alwaysOverwrite?false:key in to;if(merge&&exists&&isObject(to[key],true)&&isObject(from[key],true)){Y.mix(to[key],from[key],overwrite,null,0,merge)}else if(overwrite||!exists){to[key]=from[key]}}if(Y.Object._hasEnumBug){Y.mix(to,from,overwrite,Y.Object._forceEnum,mode,merge)}}return receiver};var Lang=Y.Lang,hasOwn=Object.prototype.hasOwnProperty,UNDEFINED,O=Y.Object=Lang._isNative(Object.create)?function(obj){return Object.create(obj)}:function(){function F(){}return function(obj){F.prototype=obj;return new F}}(),forceEnum=O._forceEnum=["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],hasEnumBug=O._hasEnumBug=!{valueOf:0}.propertyIsEnumerable("valueOf"),hasProtoEnumBug=O._hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),owns=O.owns=function(obj,key){return!!obj&&hasOwn.call(obj,key)};O.hasKey=owns;O.keys=Lang._isNative(Object.keys)?Object.keys:function(obj){if(!Lang.isObject(obj)){throw new TypeError("Object.keys called on a non-object")}var keys=[],i,key,len;if(hasProtoEnumBug&&typeof obj==="function"){for(key in obj){if(owns(obj,key)&&key!=="prototype"){keys.push(key)}}}else{for(key in obj){if(owns(obj,key)){keys.push(key)}}}if(hasEnumBug){for(i=0,len=forceEnum.length;i<len;++i){key=forceEnum[i];if(owns(obj,key)){keys.push(key)}}}return keys};O.values=function(obj){var keys=O.keys(obj),i=0,len=keys.length,values=[];for(;i<len;++i){values.push(obj[keys[i]])}return values};O.size=function(obj){try{return O.keys(obj).length}catch(ex){return 0}};O.hasValue=function(obj,value){return Y.Array.indexOf(O.values(obj),value)>-1};O.each=function(obj,fn,thisObj,proto){var key;for(key in obj){if(proto||owns(obj,key)){fn.call(thisObj||Y,obj[key],key,obj)}}return Y};O.some=function(obj,fn,thisObj,proto){var key;for(key in obj){if(proto||owns(obj,key)){if(fn.call(thisObj||Y,obj[key],key,obj)){return true}}}return false};O.getValue=function(o,path){if(!Lang.isObject(o)){return UNDEFINED}var i,p=Y.Array(path),l=p.length;for(i=0;o!==UNDEFINED&&i<l;i++){o=o[p[i]]}return o};O.setValue=function(o,path,val){var i,p=Y.Array(path),leafIdx=p.length-1,ref=o;if(leafIdx>=0){for(i=0;ref!==UNDEFINED&&i<leafIdx;i++){ref=ref[p[i]]}if(ref!==UNDEFINED){ref[p[i]]=val}else{return UNDEFINED}}return o};O.isEmpty=function(obj){return!O.keys(Object(obj)).length};YUI.Env.parseUA=function(subUA){var numberify=function(s){var c=0;return parseFloat(s.replace(/\./g,function(){return c++===1?"":"."}))},win=Y.config.win,nav=win&&win.navigator,o={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,accel:false,webos:0,caja:nav&&nav.cajaVersion,secure:false,os:null,nodejs:0,winjs:!!(typeof Windows!=="undefined"&&Windows.System),touchEnabled:false},ua=subUA||nav&&nav.userAgent,loc=win&&win.location,href=loc&&loc.href,m;o.userAgent=ua;o.secure=href&&href.toLowerCase().indexOf("https")===0;if(ua){if(/windows|win32/i.test(ua)){o.os="windows"}else if(/macintosh|mac_powerpc/i.test(ua)){o.os="macintosh"}else if(/android/i.test(ua)){o.os="android"}else if(/symbos/i.test(ua)){o.os="symbos"}else if(/linux/i.test(ua)){o.os="linux"}else if(/rhino/i.test(ua)){o.os="rhino"}if(/KHTML/.test(ua)){o.webkit=1}if(/IEMobile|XBLWP7/.test(ua)){o.mobile="windows"}if(/Fennec/.test(ua)){o.mobile="gecko"}m=ua.match(/AppleWebKit\/([^\s]*)/);if(m&&m[1]){o.webkit=numberify(m[1]);o.safari=o.webkit;if(/PhantomJS/.test(ua)){m=ua.match(/PhantomJS\/([^\s]*)/);if(m&&m[1]){o.phantomjs=numberify(m[1])}}if(/ Mobile\//.test(ua)||/iPad|iPod|iPhone/.test(ua)){o.mobile="Apple";m=ua.match(/OS ([^\s]*)/);if(m&&m[1]){m=numberify(m[1].replace("_","."))}o.ios=m;o.os="ios";o.ipad=o.ipod=o.iphone=0;m=ua.match(/iPad|iPod|iPhone/);if(m&&m[0]){o[m[0].toLowerCase()]=o.ios}}else{m=ua.match(/NokiaN[^\/]*|webOS\/\d\.\d/);if(m){o.mobile=m[0]}if(/webOS/.test(ua)){o.mobile="WebOS";m=ua.match(/webOS\/([^\s]*);/);if(m&&m[1]){o.webos=numberify(m[1])}}if(/ Android/.test(ua)){if(/Mobile/.test(ua)){o.mobile="Android"}m=ua.match(/Android ([^\s]*);/);if(m&&m[1]){o.android=numberify(m[1])}}if(/Silk/.test(ua)){m=ua.match(/Silk\/([^\s]*)\)/);if(m&&m[1]){o.silk=numberify(m[1])}if(!o.android){o.android=2.34;o.os="Android"}if(/Accelerated=true/.test(ua)){o.accel=true}}}m=ua.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/);if(m&&m[1]&&m[2]){o.chrome=numberify(m[2]);o.safari=0;if(m[1]==="CrMo"){o.mobile="chrome"}}else{m=ua.match(/AdobeAIR\/([^\s]*)/);if(m){o.air=m[0]}}}if(!o.webkit){if(/Opera/.test(ua)){m=ua.match(/Opera[\s\/]([^\s]*)/);if(m&&m[1]){o.opera=numberify(m[1])}m=ua.match(/Version\/([^\s]*)/);if(m&&m[1]){o.opera=numberify(m[1])}if(/Opera Mobi/.test(ua)){o.mobile="opera";m=ua.replace("Opera Mobi","").match(/Opera ([^\s]*)/);if(m&&m[1]){o.opera=numberify(m[1])}}m=ua.match(/Opera Mini[^;]*/);if(m){o.mobile=m[0]}}else{m=ua.match(/MSIE\s([^;]*)/);if(m&&m[1]){o.ie=numberify(m[1])}else{m=ua.match(/Gecko\/([^\s]*)/);if(m){o.gecko=1;m=ua.match(/rv:([^\s\)]*)/);if(m&&m[1]){o.gecko=numberify(m[1])}}}}}}if(win&&nav&&!(o.chrome&&o.chrome<6)){o.touchEnabled="ontouchstart"in win||"msMaxTouchPoints"in nav&&nav.msMaxTouchPoints>0}if(!subUA){if(typeof process==="object"){if(process.versions&&process.versions.node){o.os=process.platform;o.nodejs=numberify(process.versions.node)}}YUI.Env.UA=o}return o};Y.UA=YUI.Env.UA||YUI.Env.parseUA();Y.UA.compareVersions=function(a,b){var aPart,aParts,bPart,bParts,i,len;if(a===b){return 0}aParts=(a+"").split(".");bParts=(b+"").split(".");for(i=0,len=Math.max(aParts.length,bParts.length);i<len;++i){aPart=parseInt(aParts[i],10);bPart=parseInt(bParts[i],10);isNaN(aPart)&&(aPart=0);isNaN(bPart)&&(bPart=0);if(aPart<bPart){return-1}if(aPart>bPart){return 1}}return 0};YUI.Env.aliases={anim:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"],"anim-shape-transform":["anim-shape"],app:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","router","view","view-node-map"],attribute:["attribute-base","attribute-complex"],"attribute-events":["attribute-observable"],autocomplete:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"],axes:["axis-numeric","axis-category","axis-time","axis-stacked"],"axes-base":["axis-numeric-base","axis-category-base","axis-time-base","axis-stacked-base"],base:["base-base","base-pluginhost","base-build"],cache:["cache-base","cache-offline","cache-plugin"],charts:["charts-base"],collection:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"],color:["color-base","color-hsl","color-harmony"],controller:["router"],dataschema:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"],datasource:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"],datatable:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"],datatype:["datatype-date","datatype-number","datatype-xml"],"datatype-date":["datatype-date-parse","datatype-date-format","datatype-date-math"],"datatype-number":["datatype-number-parse","datatype-number-format"],"datatype-xml":["datatype-xml-parse","datatype-xml-format"],dd:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"],dom:["dom-base","dom-screen","dom-style","selector-native","selector"],editor:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"],event:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"],"event-custom":["event-custom-base","event-custom-complex"],"event-gestures":["event-flick","event-move"],handlebars:["handlebars-compiler"],highlight:["highlight-base","highlight-accentfold"],history:["history-base","history-hash","history-hash-ie","history-html5"],io:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"],json:["json-parse","json-stringify"],loader:["loader-base","loader-rollup","loader-yui3"],node:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"],pluginhost:["pluginhost-base","pluginhost-config"],querystring:["querystring-parse","querystring-stringify"],recordset:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"],resize:["resize-base","resize-proxy","resize-constrain"],slider:["slider-base","slider-value-range","clickable-rail","range-slider"],template:["template-base","template-micro"],text:["text-accentfold","text-wordbreak"],widget:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]}},"3.9.1",{use:["get","features","intl-base","yui-log","yui-later"]});YUI.add("get",function(Y,NAME){var Lang=Y.Lang,CUSTOM_ATTRS,Get,Transaction;Y.Get=Get={cssOptions:{attributes:{rel:"stylesheet"},doc:Y.config.linkDoc||Y.config.doc,pollInterval:50},jsOptions:{autopurge:true,doc:Y.config.scriptDoc||Y.config.doc},options:{attributes:{charset:"utf-8"},purgethreshold:20},REGEX_CSS:/\.css(?:[?;].*)?$/i,REGEX_JS:/\.js(?:[?;].*)?$/i,_insertCache:{},_pending:null,_purgeNodes:[],_queue:[],abort:function(transaction){var i,id,item,len,pending;if(!transaction.abort){id=transaction;pending=this._pending;transaction=null;if(pending&&pending.transaction.id===id){transaction=pending.transaction;this._pending=null}else{for(i=0,len=this._queue.length;i<len;++i){item=this._queue[i].transaction;if(item.id===id){transaction=item;this._queue.splice(i,1);break}}}}transaction&&transaction.abort()},css:function(urls,options,callback){return this._load("css",urls,options,callback)},js:function(urls,options,callback){return this._load("js",urls,options,callback)},load:function(urls,options,callback){return this._load(null,urls,options,callback)},_autoPurge:function(threshold){if(threshold&&this._purgeNodes.length>=threshold){this._purge(this._purgeNodes)}},_getEnv:function(){var doc=Y.config.doc,ua=Y.UA;return this._env={async:doc&&doc.createElement("script").async===true||ua.ie>=10,cssFail:ua.gecko>=9||ua.compareVersions(ua.webkit,535.24)>=0,cssLoad:(!ua.gecko&&!ua.webkit||ua.gecko>=9||ua.compareVersions(ua.webkit,535.24)>=0)&&!(ua.chrome&&ua.chrome<=18),preservesScriptOrder:!!(ua.gecko||ua.opera||ua.ie&&ua.ie>=10)}},_getTransaction:function(urls,options){var requests=[],i,len,req,url;if(!Lang.isArray(urls)){urls=[urls]}options=Y.merge(this.options,options);options.attributes=Y.merge(this.options.attributes,options.attributes);for(i=0,len=urls.length;i<len;++i){url=urls[i];req={attributes:{}};if(typeof url==="string"){req.url=url}else if(url.url){Y.mix(req,url,false,null,0,true);url=url.url}else{continue}Y.mix(req,options,false,null,0,true);if(!req.type){if(this.REGEX_CSS.test(url)){req.type="css"}else{if(!this.REGEX_JS.test(url)){}req.type="js"}}Y.mix(req,req.type==="js"?this.jsOptions:this.cssOptions,false,null,0,true);req.attributes.id||(req.attributes.id=Y.guid());if(req.win){req.doc=req.win.document}else{req.win=req.doc.defaultView||req.doc.parentWindow}if(req.charset){req.attributes.charset=req.charset}requests.push(req)}return new Transaction(requests,options)},_load:function(type,urls,options,callback){var transaction;if(typeof options==="function"){callback=options;options={}}options||(options={});options.type=type;options._onFinish=Get._onTransactionFinish;if(!this._env){this._getEnv()}transaction=this._getTransaction(urls,options);this._queue.push({callback:callback,transaction:transaction});this._next();return transaction},_onTransactionFinish:function(){Get._pending=null;Get._next()},_next:function(){var item;if(this._pending){return}item=this._queue.shift();if(item){this._pending=item;item.transaction.execute(item.callback)}},_purge:function(nodes){var purgeNodes=this._purgeNodes,isTransaction=nodes!==purgeNodes,index,node;while(node=nodes.pop()){if(!node._yuiget_finished){continue}node.parentNode&&node.parentNode.removeChild(node);if(isTransaction){index=Y.Array.indexOf(purgeNodes,node);if(index>-1){purgeNodes.splice(index,1)}}}}};Get.script=Get.js;Get.Transaction=Transaction=function(requests,options){var self=this;self.id=Transaction._lastId+=1;self.data=options.data;self.errors=[];self.nodes=[];self.options=options;self.requests=requests;self._callbacks=[];self._queue=[];self._reqsWaiting=0;self.tId=self.id;self.win=options.win||Y.config.win};Transaction._lastId=0;Transaction.prototype={_state:"new",abort:function(msg){this._pending=null;this._pendingCSS=null;this._pollTimer=clearTimeout(this._pollTimer);this._queue=[];this._reqsWaiting=0;this.errors.push({error:msg||"Aborted"});this._finish()},execute:function(callback){var self=this,requests=self.requests,state=self._state,i,len,queue,req;
if(state==="done"){callback&&callback(self.errors.length?self.errors:null,self);return}else{callback&&self._callbacks.push(callback);if(state==="executing"){return}}self._state="executing";self._queue=queue=[];if(self.options.timeout){self._timeout=setTimeout(function(){self.abort("Timeout")},self.options.timeout)}self._reqsWaiting=requests.length;for(i=0,len=requests.length;i<len;++i){req=requests[i];if(req.async||req.type==="css"){self._insert(req)}else{queue.push(req)}}self._next()},purge:function(){Get._purge(this.nodes)},_createNode:function(name,attrs,doc){var node=doc.createElement(name),attr,testEl;if(!CUSTOM_ATTRS){testEl=doc.createElement("div");testEl.setAttribute("class","a");CUSTOM_ATTRS=testEl.className==="a"?{}:{"for":"htmlFor","class":"className"}}for(attr in attrs){if(attrs.hasOwnProperty(attr)){node.setAttribute(CUSTOM_ATTRS[attr]||attr,attrs[attr])}}return node},_finish:function(){var errors=this.errors.length?this.errors:null,options=this.options,thisObj=options.context||this,data,i,len;if(this._state==="done"){return}this._state="done";for(i=0,len=this._callbacks.length;i<len;++i){this._callbacks[i].call(thisObj,errors,this)}data=this._getEventData();if(errors){if(options.onTimeout&&errors[errors.length-1].error==="Timeout"){options.onTimeout.call(thisObj,data)}if(options.onFailure){options.onFailure.call(thisObj,data)}}else if(options.onSuccess){options.onSuccess.call(thisObj,data)}if(options.onEnd){options.onEnd.call(thisObj,data)}if(options._onFinish){options._onFinish()}},_getEventData:function(req){if(req){return Y.merge(this,{abort:this.abort,purge:this.purge,request:req,url:req.url,win:req.win})}else{return this}},_getInsertBefore:function(req){var doc=req.doc,el=req.insertBefore,cache,docStamp;if(el){return typeof el==="string"?doc.getElementById(el):el}cache=Get._insertCache;docStamp=Y.stamp(doc);if(el=cache[docStamp]){return el}if(el=doc.getElementsByTagName("base")[0]){return cache[docStamp]=el}el=doc.head||doc.getElementsByTagName("head")[0];if(el){el.appendChild(doc.createTextNode(""));return cache[docStamp]=el.lastChild}return cache[docStamp]=doc.getElementsByTagName("script")[0]},_insert:function(req){var env=Get._env,insertBefore=this._getInsertBefore(req),isScript=req.type==="js",node=req.node,self=this,ua=Y.UA,cssTimeout,nodeType;if(!node){if(isScript){nodeType="script"}else if(!env.cssLoad&&ua.gecko){nodeType="style"}else{nodeType="link"}node=req.node=this._createNode(nodeType,req.attributes,req.doc)}function onError(){self._progress("Failed to load "+req.url,req)}function onLoad(){if(cssTimeout){clearTimeout(cssTimeout)}self._progress(null,req)}if(isScript){node.setAttribute("src",req.url);if(req.async){node.async=true}else{if(env.async){node.async=false}if(!env.preservesScriptOrder){this._pending=req}}}else{if(!env.cssLoad&&ua.gecko){node.innerHTML=(req.attributes.charset?'@charset "'+req.attributes.charset+'";':"")+'@import "'+req.url+'";'}else{node.setAttribute("href",req.url)}}if(isScript&&ua.ie&&(ua.ie<9||document.documentMode&&document.documentMode<9)){node.onreadystatechange=function(){if(/loaded|complete/.test(node.readyState)){node.onreadystatechange=null;onLoad()}}}else if(!isScript&&!env.cssLoad){this._poll(req)}else{if(ua.ie>=10){node.onerror=function(){setTimeout(onError,0)};node.onload=function(){setTimeout(onLoad,0)}}else{node.onerror=onError;node.onload=onLoad}if(!env.cssFail&&!isScript){cssTimeout=setTimeout(onError,req.timeout||3e3)}}this.nodes.push(node);insertBefore.parentNode.insertBefore(node,insertBefore)},_next:function(){if(this._pending){return}if(this._queue.length){this._insert(this._queue.shift())}else if(!this._reqsWaiting){this._finish()}},_poll:function(newReq){var self=this,pendingCSS=self._pendingCSS,isWebKit=Y.UA.webkit,i,hasRules,j,nodeHref,req,sheets;if(newReq){pendingCSS||(pendingCSS=self._pendingCSS=[]);pendingCSS.push(newReq);if(self._pollTimer){return}}self._pollTimer=null;for(i=0;i<pendingCSS.length;++i){req=pendingCSS[i];if(isWebKit){sheets=req.doc.styleSheets;j=sheets.length;nodeHref=req.node.href;while(--j>=0){if(sheets[j].href===nodeHref){pendingCSS.splice(i,1);i-=1;self._progress(null,req);break}}}else{try{hasRules=!!req.node.sheet.cssRules;pendingCSS.splice(i,1);i-=1;self._progress(null,req)}catch(ex){}}}if(pendingCSS.length){self._pollTimer=setTimeout(function(){self._poll.call(self)},self.options.pollInterval)}},_progress:function(err,req){var options=this.options;if(err){req.error=err;this.errors.push({error:err,request:req})}req.node._yuiget_finished=req.finished=true;if(options.onProgress){options.onProgress.call(options.context||this,this._getEventData(req))}if(req.autopurge){Get._autoPurge(this.options.purgethreshold);Get._purgeNodes.push(req.node)}if(this._pending===req){this._pending=null}this._reqsWaiting-=1;this._next()}}},"3.9.1",{requires:["yui-base"]});YUI.add("features",function(Y,NAME){var feature_tests={};Y.mix(Y.namespace("Features"),{tests:feature_tests,add:function(cat,name,o){feature_tests[cat]=feature_tests[cat]||{};feature_tests[cat][name]=o},all:function(cat,args){var cat_o=feature_tests[cat],result=[];if(cat_o){Y.Object.each(cat_o,function(v,k){result.push(k+":"+(Y.Features.test(cat,k,args)?1:0))})}return result.length?result.join(";"):""},test:function(cat,name,args){args=args||[];var result,ua,test,cat_o=feature_tests[cat],feature=cat_o&&cat_o[name];if(!feature){}else{result=feature.result;if(Y.Lang.isUndefined(result)){ua=feature.ua;if(ua){result=Y.UA[ua]}test=feature.test;if(test&&(!ua||result)){result=test.apply(Y,args)}feature.result=result}}return result}});var add=Y.Features.add;add("load","0",{name:"app-transitions-native",test:function(Y){var doc=Y.config.doc,node=doc?doc.documentElement:null;if(node&&node.style){return"MozTransition"in node.style||"WebkitTransition"in node.style||"transition"in node.style}return false},trigger:"app-transitions"});add("load","1",{name:"autocomplete-list-keys",test:function(Y){return!(Y.UA.ios||Y.UA.android)},trigger:"autocomplete-list"});add("load","2",{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"});add("load","3",{name:"dom-style-ie",test:function(Y){var testFeature=Y.Features.test,addFeature=Y.Features.add,WINDOW=Y.config.win,DOCUMENT=Y.config.doc,DOCUMENT_ELEMENT="documentElement",ret=false;addFeature("style","computedStyle",{test:function(){return WINDOW&&"getComputedStyle"in WINDOW}});addFeature("style","opacity",{test:function(){return DOCUMENT&&"opacity"in DOCUMENT[DOCUMENT_ELEMENT].style}});ret=!testFeature("style","opacity")&&!testFeature("style","computedStyle");return ret},trigger:"dom-style"});add("load","4",{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"});add("load","5",{name:"event-base-ie",test:function(Y){var imp=Y.config.doc&&Y.config.doc.implementation;return imp&&!imp.hasFeature("Events","2.0")},trigger:"node-base"});add("load","6",{name:"graphics-canvas",test:function(Y){var DOCUMENT=Y.config.doc,useCanvas=Y.config.defaultGraphicEngine&&Y.config.defaultGraphicEngine=="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!svg||useCanvas)&&canvas&&canvas.getContext&&canvas.getContext("2d")},trigger:"graphics"});add("load","7",{name:"graphics-canvas-default",test:function(Y){var DOCUMENT=Y.config.doc,useCanvas=Y.config.defaultGraphicEngine&&Y.config.defaultGraphicEngine=="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!svg||useCanvas)&&canvas&&canvas.getContext&&canvas.getContext("2d")},trigger:"graphics"});add("load","8",{name:"graphics-svg",test:function(Y){var DOCUMENT=Y.config.doc,useSVG=!Y.config.defaultGraphicEngine||Y.config.defaultGraphicEngine!="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return svg&&(useSVG||!canvas)},trigger:"graphics"});add("load","9",{name:"graphics-svg-default",test:function(Y){var DOCUMENT=Y.config.doc,useSVG=!Y.config.defaultGraphicEngine||Y.config.defaultGraphicEngine!="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return svg&&(useSVG||!canvas)},trigger:"graphics"});add("load","10",{name:"graphics-vml",test:function(Y){var DOCUMENT=Y.config.doc,canvas=DOCUMENT&&DOCUMENT.createElement("canvas");return DOCUMENT&&!DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!canvas||!canvas.getContext||!canvas.getContext("2d"))},trigger:"graphics"});add("load","11",{name:"graphics-vml-default",test:function(Y){var DOCUMENT=Y.config.doc,canvas=DOCUMENT&&DOCUMENT.createElement("canvas");return DOCUMENT&&!DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!canvas||!canvas.getContext||!canvas.getContext("2d"))},trigger:"graphics"});add("load","12",{name:"history-hash-ie",test:function(Y){var docMode=Y.config.doc&&Y.config.doc.documentMode;return Y.UA.ie&&(!("onhashchange"in Y.config.win)||!docMode||docMode<8)},trigger:"history-hash"});add("load","13",{name:"io-nodejs",trigger:"io-base",ua:"nodejs"});add("load","14",{name:"json-parse-shim",test:function(Y){var _JSON=Y.config.global.JSON,Native=Object.prototype.toString.call(_JSON)==="[object JSON]"&&_JSON,nativeSupport=Y.config.useNativeJSONParse!==false&&!!Native;function workingNative(k,v){return k==="ok"?true:v}if(nativeSupport){try{nativeSupport=Native.parse('{"ok":false}',workingNative).ok}catch(e){nativeSupport=false}}return!nativeSupport},trigger:"json-parse"});add("load","15",{name:"json-stringify-shim",test:function(Y){var _JSON=Y.config.global.JSON,Native=Object.prototype.toString.call(_JSON)==="[object JSON]"&&_JSON,nativeSupport=Y.config.useNativeJSONStringify!==false&&!!Native;if(nativeSupport){try{nativeSupport="0"===Native.stringify(0)}catch(e){nativeSupport=false}}return!nativeSupport},trigger:"json-stringify"});add("load","16",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"});add("load","17",{name:"selector-css2",test:function(Y){var DOCUMENT=Y.config.doc,ret=DOCUMENT&&!("querySelectorAll"in DOCUMENT);return ret},trigger:"selector"});add("load","18",{name:"transition-timer",test:function(Y){var DOCUMENT=Y.config.doc,node=DOCUMENT?DOCUMENT.documentElement:null,ret=true;if(node&&node.style){ret=!("MozTransition"in node.style||"WebkitTransition"in node.style||"transition"in node.style)}return ret},trigger:"transition"});add("load","19",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"});add("load","20",{name:"yql-jsonp",test:function(Y){return!Y.UA.nodejs&&!Y.UA.winjs},trigger:"yql",when:"after"});add("load","21",{name:"yql-nodejs",trigger:"yql",ua:"nodejs",when:"after"});add("load","22",{name:"yql-winjs",trigger:"yql",ua:"winjs",when:"after"})},"3.9.1",{requires:["yui-base"]});YUI.add("intl-base",function(Y,NAME){var SPLIT_REGEX=/[, ]/;Y.mix(Y.namespace("Intl"),{lookupBestLang:function(preferredLanguages,availableLanguages){var i,language,result,index;function scan(language){var i;for(i=0;i<availableLanguages.length;i+=1){if(language.toLowerCase()===availableLanguages[i].toLowerCase()){return availableLanguages[i]}}}if(Y.Lang.isString(preferredLanguages)){preferredLanguages=preferredLanguages.split(SPLIT_REGEX)}for(i=0;i<preferredLanguages.length;i+=1){language=preferredLanguages[i];if(!language||language==="*"){continue}while(language.length>0){result=scan(language);if(result){return result}else{index=language.lastIndexOf("-");if(index>=0){language=language.substring(0,index);if(index>=2&&language.charAt(index-2)==="-"){language=language.substring(0,index-2)}}else{break}}}}return""}})},"3.9.1",{requires:["yui-base"]});YUI.add("yui-log",function(Y,NAME){var INSTANCE=Y,LOGEVENT="yui:log",UNDEFINED="undefined",LEVELS={debug:1,info:1,warn:1,error:1};INSTANCE.log=function(msg,cat,src,silent){var bail,excl,incl,m,f,Y=INSTANCE,c=Y.config,publisher=Y.fire?Y:YUI.Env.globalEvents;if(c.debug){src=src||"";if(typeof src!=="undefined"){excl=c.logExclude;incl=c.logInclude;if(incl&&!(src in incl)){bail=1}else if(incl&&src in incl){bail=!incl[src]}else if(excl&&src in excl){bail=excl[src]}}if(!bail){if(c.useBrowserConsole){m=src?src+": "+msg:msg;if(Y.Lang.isFunction(c.logFn)){c.logFn.call(Y,msg,cat,src)}else if(typeof console!==UNDEFINED&&console.log){f=cat&&console[cat]&&cat in LEVELS?cat:"log";console[f](m)}else if(typeof opera!==UNDEFINED){opera.postError(m)}}if(publisher&&!silent){if(publisher===Y&&!publisher.getEvent(LOGEVENT)){publisher.publish(LOGEVENT,{broadcast:2})}publisher.fire(LOGEVENT,{msg:msg,cat:cat,src:src})}}}return Y};INSTANCE.message=function(){return INSTANCE.log.apply(INSTANCE,arguments)}},"3.9.1",{requires:["yui-base"]});YUI.add("yui-later",function(Y,NAME){var NO_ARGS=[];Y.later=function(when,o,fn,data,periodic){when=when||0;data=!Y.Lang.isUndefined(data)?Y.Array(data):NO_ARGS;o=o||Y.config.win||Y;var cancelled=false,method=o&&Y.Lang.isString(fn)?o[fn]:fn,wrapper=function(){if(!cancelled){if(!method.apply){method(data[0],data[1],data[2],data[3])}else{method.apply(o,data||NO_ARGS)}}},id=periodic?setInterval(wrapper,when):setTimeout(wrapper,when);return{id:id,interval:periodic,cancel:function(){cancelled=true;if(this.interval){clearInterval(id)}else{clearTimeout(id)}}}};Y.Lang.later=Y.later},"3.9.1",{requires:["yui-base"]});YUI.add("yui",function(Y,NAME){},"3.9.1",{use:["get","features","intl-base","yui-log","yui-later"]});YUI.add("oop",function(Y,NAME){var L=Y.Lang,A=Y.Array,OP=Object.prototype,CLONE_MARKER="_~yuim~_",hasOwn=OP.hasOwnProperty,toString=OP.toString;function dispatch(o,f,c,proto,action){if(o&&o[action]&&o!==Y){return o[action].call(o,f,c)}else{switch(A.test(o)){case 1:return A[action](o,f,c);case 2:return A[action](Y.Array(o,0,true),f,c);default:return Y.Object[action](o,f,c,proto)}}}Y.augment=function(receiver,supplier,overwrite,whitelist,args){var rProto=receiver.prototype,sequester=rProto&&supplier,sProto=supplier.prototype,to=rProto||receiver,copy,newPrototype,replacements,sequestered,unsequester;args=args?Y.Array(args):[];if(sequester){newPrototype={};replacements={};sequestered={};copy=function(value,key){if(overwrite||!(key in rProto)){if(toString.call(value)==="[object Function]"){sequestered[key]=value;newPrototype[key]=replacements[key]=function(){return unsequester(this,value,arguments)}}else{newPrototype[key]=value}}};unsequester=function(instance,fn,fnArgs){for(var key in sequestered){if(hasOwn.call(sequestered,key)&&instance[key]===replacements[key]){instance[key]=sequestered[key]}}supplier.apply(instance,args);return fn.apply(instance,fnArgs)};if(whitelist){Y.Array.each(whitelist,function(name){if(name in sProto){copy(sProto[name],name)}})}else{Y.Object.each(sProto,copy,null,true)}}Y.mix(to,newPrototype||sProto,overwrite,whitelist);if(!sequester){supplier.apply(to,args)}return receiver};Y.aggregate=function(r,s,ov,wl){return Y.mix(r,s,ov,wl,0,true)};Y.extend=function(r,s,px,sx){if(!s||!r){Y.error("extend failed, verify dependencies")}var sp=s.prototype,rp=Y.Object(sp);r.prototype=rp;rp.constructor=r;r.superclass=sp;if(s!=Object&&sp.constructor==OP.constructor){sp.constructor=s}if(px){Y.mix(rp,px,true)}if(sx){Y.mix(r,sx,true)}return r};Y.each=function(o,f,c,proto){return dispatch(o,f,c,proto,"each")};Y.some=function(o,f,c,proto){return dispatch(o,f,c,proto,"some")};Y.clone=function(o,safe,f,c,owner,cloned){if(!L.isObject(o)){return o}if(Y.instanceOf(o,YUI)){return o}var o2,marked=cloned||{},stamp,yeach=Y.each;switch(L.type(o)){case"date":return new Date(o);case"regexp":return o;case"function":return o;case"array":o2=[];break;default:if(o[CLONE_MARKER]){return marked[o[CLONE_MARKER]]}stamp=Y.guid();o2=safe?{}:Y.Object(o);o[CLONE_MARKER]=stamp;marked[stamp]=o}if(!o.addEventListener&&!o.attachEvent){yeach(o,function(v,k){if((k||k===0)&&(!f||f.call(c||this,v,k,this,o)!==false)){if(k!==CLONE_MARKER){if(k=="prototype"){}else{this[k]=Y.clone(v,safe,f,c,owner||o,marked)}}}},o2)}if(!cloned){Y.Object.each(marked,function(v,k){if(v[CLONE_MARKER]){try{delete v[CLONE_MARKER]}catch(e){v[CLONE_MARKER]=null}}},this);marked=null}return o2};Y.bind=function(f,c){var xargs=arguments.length>2?Y.Array(arguments,2,true):null;return function(){var fn=L.isString(f)?c[f]:f,args=xargs?xargs.concat(Y.Array(arguments,0,true)):arguments;return fn.apply(c||fn,args)}};Y.rbind=function(f,c){var xargs=arguments.length>2?Y.Array(arguments,2,true):null;return function(){var fn=L.isString(f)?c[f]:f,args=xargs?Y.Array(arguments,0,true).concat(xargs):arguments;return fn.apply(c||fn,args)}}},"3.9.1",{requires:["yui-base"]});YUI.add("event-custom-base",function(Y,NAME){Y.Env.evt={handles:{},plugins:{}};var DO_BEFORE=0,DO_AFTER=1,DO={objs:null,before:function(fn,obj,sFn,c){var f=fn,a;if(c){a=[fn,c].concat(Y.Array(arguments,4,true));f=Y.rbind.apply(Y,a)}return this._inject(DO_BEFORE,f,obj,sFn)},after:function(fn,obj,sFn,c){var f=fn,a;if(c){a=[fn,c].concat(Y.Array(arguments,4,true));f=Y.rbind.apply(Y,a)}return this._inject(DO_AFTER,f,obj,sFn)},_inject:function(when,fn,obj,sFn){var id=Y.stamp(obj),o,sid;if(!obj._yuiaop){obj._yuiaop={}}o=obj._yuiaop;if(!o[sFn]){o[sFn]=new Y.Do.Method(obj,sFn);obj[sFn]=function(){return o[sFn].exec.apply(o[sFn],arguments)}}sid=id+Y.stamp(fn)+sFn;o[sFn].register(sid,fn,when);return new Y.EventHandle(o[sFn],sid)},detach:function(handle){if(handle.detach){handle.detach()}},_unload:function(e,me){}};Y.Do=DO;DO.Method=function(obj,sFn){this.obj=obj;this.methodName=sFn;this.method=obj[sFn];this.before={};this.after={}};DO.Method.prototype.register=function(sid,fn,when){if(when){this.after[sid]=fn}else{this.before[sid]=fn}};DO.Method.prototype._delete=function(sid){delete this.before[sid];delete this.after[sid]};DO.Method.prototype.exec=function(){var args=Y.Array(arguments,0,true),i,ret,newRet,bf=this.before,af=this.after,prevented=false;for(i in bf){if(bf.hasOwnProperty(i)){ret=bf[i].apply(this.obj,args);if(ret){switch(ret.constructor){case DO.Halt:return ret.retVal;case DO.AlterArgs:args=ret.newArgs;break;case DO.Prevent:prevented=true;break;default:}}}}if(!prevented){ret=this.method.apply(this.obj,args)}DO.originalRetVal=ret;DO.currentRetVal=ret;for(i in af){if(af.hasOwnProperty(i)){newRet=af[i].apply(this.obj,args);if(newRet&&newRet.constructor==DO.Halt){return newRet.retVal}else if(newRet&&newRet.constructor==DO.AlterReturn){ret=newRet.newRetVal;DO.currentRetVal=ret}}}return ret};DO.AlterArgs=function(msg,newArgs){this.msg=msg;this.newArgs=newArgs};DO.AlterReturn=function(msg,newRetVal){this.msg=msg;this.newRetVal=newRetVal};DO.Halt=function(msg,retVal){this.msg=msg;this.retVal=retVal};DO.Prevent=function(msg){this.msg=msg};DO.Error=DO.Halt;var YArray=Y.Array,AFTER="after",CONFIGS=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],CONFIGS_HASH=YArray.hash(CONFIGS),nativeSlice=Array.prototype.slice,YUI3_SIGNATURE=9,YUI_LOG="yui:log",mixConfigs=function(r,s,ov){var p;for(p in s){if(CONFIGS_HASH[p]&&(ov||!(p in r))){r[p]=s[p]}}return r};Y.CustomEvent=function(type,o){this._kds=Y.CustomEvent.keepDeprecatedSubs;o=o||{};this.id=Y.stamp(this);this.type=type;this.context=Y;this.logSystem=type==YUI_LOG;this.silent=this.logSystem;if(this._kds){this.subscribers={}}this._subscribers=[];if(this._kds){this.afters={}}this._afters=[];this.preventable=true;this.bubbles=true;this.signature=YUI3_SIGNATURE;this.applyConfig(o,true)};Y.CustomEvent.keepDeprecatedSubs=false;Y.CustomEvent.mixConfigs=mixConfigs;Y.CustomEvent.prototype={constructor:Y.CustomEvent,hasSubs:function(when){var s=this._subscribers.length,a=this._afters.length,sib=this.sibling;if(sib){s+=sib._subscribers.length;a+=sib._afters.length}if(when){return when=="after"?a:s}return s+a},monitor:function(what){this.monitored=true;var type=this.id+"|"+this.type+"_"+what,args=nativeSlice.call(arguments,0);args[0]=type;return this.host.on.apply(this.host,args)},getSubs:function(){var s=this._subscribers,a=this._afters,sib=this.sibling;s=sib?s.concat(sib._subscribers):s.concat();a=sib?a.concat(sib._afters):a.concat();return[s,a]},applyConfig:function(o,force){mixConfigs(this,o,force)},_on:function(fn,context,args,when){var s=new Y.Subscriber(fn,context,args,when);if(this.fireOnce&&this.fired){if(this.async){setTimeout(Y.bind(this._notify,this,s,this.firedWith),0)}else{this._notify(s,this.firedWith)}}if(when==AFTER){this._afters.push(s)}else{this._subscribers.push(s)}if(this._kds){if(when==AFTER){this.afters[s.id]=s}else{this.subscribers[s.id]=s}}return new Y.EventHandle(this,s)},subscribe:function(fn,context){var a=arguments.length>2?nativeSlice.call(arguments,2):null;return this._on(fn,context,a,true)},on:function(fn,context){var a=arguments.length>2?nativeSlice.call(arguments,2):null;if(this.monitored&&this.host){this.host._monitor("attach",this,{args:arguments})}return this._on(fn,context,a,true)},after:function(fn,context){var a=arguments.length>2?nativeSlice.call(arguments,2):null;return this._on(fn,context,a,AFTER)},detach:function(fn,context){if(fn&&fn.detach){return fn.detach()}var i,s,found=0,subs=this._subscribers,afters=this._afters;for(i=subs.length;i>=0;i--){s=subs[i];if(s&&(!fn||fn===s.fn)){this._delete(s,subs,i);found++}}for(i=afters.length;i>=0;i--){s=afters[i];if(s&&(!fn||fn===s.fn)){this._delete(s,afters,i);found++}}return found},unsubscribe:function(){return this.detach.apply(this,arguments)},_notify:function(s,args,ef){var ret;ret=s.notify(args,this);if(false===ret||this.stopped>1){return false}return true},log:function(msg,cat){},fire:function(){if(this.fireOnce&&this.fired){return true}else{var args=nativeSlice.call(arguments,0);this.fired=true;if(this.fireOnce){this.firedWith=args}if(this.emitFacade){return this.fireComplex(args)}else{return this.fireSimple(args)}}},fireSimple:function(args){this.stopped=0;this.prevented=0;if(this.hasSubs()){var subs=this.getSubs();this._procSubs(subs[0],args);this._procSubs(subs[1],args)}this._broadcast(args);return this.stopped?false:true},fireComplex:function(args){args[0]=args[0]||{};return this.fireSimple(args)},_procSubs:function(subs,args,ef){var s,i,l;for(i=0,l=subs.length;i<l;i++){s=subs[i];if(s&&s.fn){if(false===this._notify(s,args,ef)){this.stopped=2}if(this.stopped==2){return false}}}return true},_broadcast:function(args){if(!this.stopped&&this.broadcast){var a=args.concat();a.unshift(this.type);if(this.host!==Y){Y.fire.apply(Y,a)}if(this.broadcast==2){Y.Global.fire.apply(Y.Global,a)}}},unsubscribeAll:function(){return this.detachAll.apply(this,arguments)},detachAll:function(){return this.detach()},_delete:function(s,subs,i){var when=s._when;if(!subs){subs=when===AFTER?this._afters:this._subscribers;i=YArray.indexOf(subs,s,0)}if(s&&subs[i]===s){subs.splice(i,1)}if(this._kds){if(when===AFTER){delete this.afters[s.id]}else{delete this.subscribers[s.id]}}if(this.monitored&&this.host){this.host._monitor("detach",this,{ce:this,sub:s})}if(s){s.deleted=true}}};Y.Subscriber=function(fn,context,args,when){this.fn=fn;this.context=context;this.id=Y.stamp(this);this.args=args;this._when=when};Y.Subscriber.prototype={constructor:Y.Subscriber,_notify:function(c,args,ce){if(this.deleted&&!this.postponed){if(this.postponed){delete this.fn;delete this.context}else{delete this.postponed;return null}}var a=this.args,ret;switch(ce.signature){case 0:ret=this.fn.call(c,ce.type,args,c);break;case 1:ret=this.fn.call(c,args[0]||null,c);break;default:if(a||args){args=args||[];a=a?args.concat(a):args;ret=this.fn.apply(c,a)}else{ret=this.fn.call(c)}}if(this.once){ce._delete(this)}return ret},notify:function(args,ce){var c=this.context,ret=true;if(!c){c=ce.contextFn?ce.contextFn():ce.context}if(Y.config&&Y.config.throwFail){ret=this._notify(c,args,ce)}else{try{ret=this._notify(c,args,ce)}catch(e){Y.error(this+" failed: "+e.message,e)}}return ret},contains:function(fn,context){if(context){return this.fn==fn&&this.context==context}else{return this.fn==fn}},valueOf:function(){return this.id}};Y.EventHandle=function(evt,sub){this.evt=evt;this.sub=sub};Y.EventHandle.prototype={batch:function(f,c){f.call(c||this,this);if(Y.Lang.isArray(this.evt)){Y.Array.each(this.evt,function(h){h.batch.call(c||h,f)})}},detach:function(){var evt=this.evt,detached=0,i;if(evt){if(Y.Lang.isArray(evt)){for(i=0;i<evt.length;i++){detached+=evt[i].detach()}}else{evt._delete(this.sub);detached=1}}return detached},monitor:function(what){return this.evt.monitor.apply(this.evt,arguments)}};var L=Y.Lang,PREFIX_DELIMITER=":",CATEGORY_DELIMITER="|",AFTER_PREFIX="~AFTER~",WILD_TYPE_RE=/(.*?)(:)(.*?)/,_wildType=Y.cached(function(type){return type.replace(WILD_TYPE_RE,"*$2$3")}),_getType=Y.cached(function(type,pre){if(!pre||typeof type!=="string"||type.indexOf(PREFIX_DELIMITER)>-1){return type}return pre+PREFIX_DELIMITER+type}),_parseType=Y.cached(function(type,pre){var t=type,detachcategory,after,i;if(!L.isString(t)){return t}i=t.indexOf(AFTER_PREFIX);if(i>-1){after=true;t=t.substr(AFTER_PREFIX.length)}i=t.indexOf(CATEGORY_DELIMITER);if(i>-1){detachcategory=t.substr(0,i);t=t.substr(i+1);if(t=="*"){t=null}}return[detachcategory,pre?_getType(t,pre):t,after,t]}),ET=function(opts){var o=L.isObject(opts)?opts:{};this._yuievt=this._yuievt||{id:Y.guid(),events:{},targets:{},config:o,chain:"chain"in o?o.chain:Y.config.chain,bubbling:false,defaults:{context:o.context||this,host:this,emitFacade:o.emitFacade,fireOnce:o.fireOnce,queuable:o.queuable,monitored:o.monitored,broadcast:o.broadcast,defaultTargetOnly:o.defaultTargetOnly,bubbles:"bubbles"in o?o.bubbles:true}}};ET.prototype={constructor:ET,once:function(){var handle=this.on.apply(this,arguments);handle.batch(function(hand){if(hand.sub){hand.sub.once=true}});return handle},onceAfter:function(){var handle=this.after.apply(this,arguments);handle.batch(function(hand){if(hand.sub){hand.sub.once=true}});return handle},parseType:function(type,pre){return _parseType(type,pre||this._yuievt.config.prefix)},on:function(type,fn,context){var yuievt=this._yuievt,parts=_parseType(type,yuievt.config.prefix),f,c,args,ret,ce,detachcategory,handle,store=Y.Env.evt.handles,after,adapt,shorttype,Node=Y.Node,n,domevent,isArr;this._monitor("attach",parts[1],{args:arguments,category:parts[0],after:parts[2]});if(L.isObject(type)){if(L.isFunction(type)){return Y.Do.before.apply(Y.Do,arguments)}f=fn;c=context;args=nativeSlice.call(arguments,0);ret=[];if(L.isArray(type)){isArr=true}after=type._after;delete type._after;Y.each(type,function(v,k){if(L.isObject(v)){f=v.fn||(L.isFunction(v)?v:f);c=v.context||c}var nv=after?AFTER_PREFIX:"";args[0]=nv+(isArr?v:k);args[1]=f;args[2]=c;ret.push(this.on.apply(this,args))},this);return yuievt.chain?this:new Y.EventHandle(ret)}detachcategory=parts[0];after=parts[2];shorttype=parts[3];if(Node&&Y.instanceOf(this,Node)&&shorttype in Node.DOM_EVENTS){args=nativeSlice.call(arguments,0);args.splice(2,0,Node.getDOMNode(this));return Y.on.apply(Y,args)}type=parts[1];if(Y.instanceOf(this,YUI)){adapt=Y.Env.evt.plugins[type];args=nativeSlice.call(arguments,0);args[0]=shorttype;if(Node){n=args[2];if(Y.instanceOf(n,Y.NodeList)){n=Y.NodeList.getDOMNodes(n)}else if(Y.instanceOf(n,Node)){n=Node.getDOMNode(n)}domevent=shorttype in Node.DOM_EVENTS;if(domevent){args[2]=n}}if(adapt){handle=adapt.on.apply(Y,args)}else if(!type||domevent){handle=Y.Event._attach(args)}}if(!handle){ce=yuievt.events[type]||this.publish(type);handle=ce._on(fn,context,arguments.length>3?nativeSlice.call(arguments,3):null,after?"after":true)}if(detachcategory){store[detachcategory]=store[detachcategory]||{};store[detachcategory][type]=store[detachcategory][type]||[];store[detachcategory][type].push(handle)}return yuievt.chain?this:handle},subscribe:function(){return this.on.apply(this,arguments)},detach:function(type,fn,context){var evts=this._yuievt.events,i,Node=Y.Node,isNode=Node&&Y.instanceOf(this,Node);if(!type&&this!==Y){for(i in evts){if(evts.hasOwnProperty(i)){evts[i].detach(fn,context)}}if(isNode){Y.Event.purgeElement(Node.getDOMNode(this))}return this}var parts=_parseType(type,this._yuievt.config.prefix),detachcategory=L.isArray(parts)?parts[0]:null,shorttype=parts?parts[3]:null,adapt,store=Y.Env.evt.handles,detachhost,cat,args,ce,keyDetacher=function(lcat,ltype,host){var handles=lcat[ltype],ce,i;if(handles){for(i=handles.length-1;i>=0;--i){ce=handles[i].evt;if(ce.host===host||ce.el===host){handles[i].detach()}}}};if(detachcategory){cat=store[detachcategory];type=parts[1];detachhost=isNode?Y.Node.getDOMNode(this):this;if(cat){if(type){keyDetacher(cat,type,detachhost)}else{for(i in cat){if(cat.hasOwnProperty(i)){keyDetacher(cat,i,detachhost)}}}return this}}else if(L.isObject(type)&&type.detach){type.detach();return this}else if(isNode&&(!shorttype||shorttype in Node.DOM_EVENTS)){args=nativeSlice.call(arguments,0);args[2]=Node.getDOMNode(this);Y.detach.apply(Y,args);return this}adapt=Y.Env.evt.plugins[shorttype];if(Y.instanceOf(this,YUI)){args=nativeSlice.call(arguments,0);if(adapt&&adapt.detach){adapt.detach.apply(Y,args);return this}else if(!type||!adapt&&Node&&type in Node.DOM_EVENTS){args[0]=type;Y.Event.detach.apply(Y.Event,args);return this}}ce=evts[parts[1]];if(ce){ce.detach(fn,context)}return this},unsubscribe:function(){return this.detach.apply(this,arguments)},detachAll:function(type){return this.detach(type)},unsubscribeAll:function(){return this.detachAll.apply(this,arguments)},publish:function(type,opts){var events,ce,ret,defaults,edata=this._yuievt,pre=edata.config.prefix;if(L.isObject(type)){ret={};Y.each(type,function(v,k){ret[k]=this.publish(k,v||opts)},this);return ret}type=pre?_getType(type,pre):type;events=edata.events;ce=events[type];this._monitor("publish",type,{args:arguments});if(ce){if(opts){ce.applyConfig(opts,true)}}else{defaults=edata.defaults;ce=new Y.CustomEvent(type,defaults);if(opts){ce.applyConfig(opts,true)}events[type]=ce}return events[type]},_monitor:function(what,eventType,o){var monitorevt,ce,type;if(eventType){if(typeof eventType==="string"){type=eventType;ce=this.getEvent(eventType,true)}else{ce=eventType;type=eventType.type}if(this._yuievt.config.monitored&&(!ce||ce.monitored)||ce&&ce.monitored){monitorevt=type+"_"+what;o.monitored=what;this.fire.call(this,monitorevt,o)}}},fire:function(type){var typeIncluded=L.isString(type),t=typeIncluded?type:type&&type.type,yuievt=this._yuievt,pre=yuievt.config.prefix,ce,ret,ce2,args=typeIncluded?nativeSlice.call(arguments,1):arguments;t=pre?_getType(t,pre):t;ce=this.getEvent(t,true);ce2=this.getSibling(t,ce);if(ce2&&!ce){ce=this.publish(t)}this._monitor("fire",ce||t,{args:args});if(!ce){if(yuievt.hasTargets){return this.bubble({type:t},args,this)}ret=true}else{ce.sibling=ce2;ret=ce.fire.apply(ce,args)}return yuievt.chain?this:ret},getSibling:function(type,ce){var ce2;if(type.indexOf(PREFIX_DELIMITER)>-1){type=_wildType(type);ce2=this.getEvent(type,true);if(ce2){ce2.applyConfig(ce);ce2.bubbles=false;ce2.broadcast=0}}return ce2},getEvent:function(type,prefixed){var pre,e;if(!prefixed){pre=this._yuievt.config.prefix;type=pre?_getType(type,pre):type}e=this._yuievt.events;return e[type]||null},after:function(type,fn){var a=nativeSlice.call(arguments,0);switch(L.type(type)){case"function":return Y.Do.after.apply(Y.Do,arguments);case"array":case"object":a[0]._after=true;break;default:a[0]=AFTER_PREFIX+type}return this.on.apply(this,a)},before:function(){return this.on.apply(this,arguments)}};Y.EventTarget=ET;Y.mix(Y,ET.prototype);ET.call(Y,{bubbles:false});YUI.Env.globalEvents=YUI.Env.globalEvents||new ET;Y.Global=YUI.Env.globalEvents},"3.9.1",{requires:["oop"]});YUI.add("querystring-stringify-simple",function(Y,NAME){var QueryString=Y.namespace("QueryString"),EUC=encodeURIComponent;QueryString.stringify=function(obj,c){var qs=[],s=c&&c.arrayKey?true:false,key,i,l;
for(key in obj){if(obj.hasOwnProperty(key)){if(Y.Lang.isArray(obj[key])){for(i=0,l=obj[key].length;i<l;i++){qs.push(EUC(s?key+"[]":key)+"="+EUC(obj[key][i]))}}else{qs.push(EUC(key)+"="+EUC(obj[key]))}}}return qs.join("&")}},"3.9.1",{requires:["yui-base"]});YUI.add("io-base",function(Y,NAME){var EVENTS=["start","complete","end","success","failure","progress"],XHR_PROPS=["status","statusText","responseText","responseXML"],win=Y.config.win,uid=0;function IO(config){var io=this;io._uid="io:"+uid++;io._init(config);Y.io._map[io._uid]=io}IO.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(config){var io=this,i,len;io.cfg=config||{};Y.augment(io,Y.EventTarget);for(i=0,len=EVENTS.length;i<len;++i){io.publish("io:"+EVENTS[i],Y.merge({broadcast:1},config));io.publish("io-trn:"+EVENTS[i],config)}},_create:function(config,id){var io=this,transaction={id:Y.Lang.isNumber(id)?id:io._id++,uid:io._uid},alt=config.xdr?config.xdr.use:null,form=config.form&&config.form.upload?"iframe":null,use;if(alt==="native"){alt=Y.UA.ie&&!SUPPORTS_CORS?"xdr":null;io.setHeader("X-Requested-With")}use=alt||form;transaction=use?Y.merge(Y.IO.customTransport(use),transaction):Y.merge(Y.IO.defaultTransport(),transaction);if(transaction.notify){config.notify=function(e,t,c){io.notify(e,t,c)}}if(!use){if(win&&win.FormData&&config.data instanceof win.FormData){transaction.c.upload.onprogress=function(e){io.progress(transaction,e,config)};transaction.c.onload=function(e){io.load(transaction,e,config)};transaction.c.onerror=function(e){io.error(transaction,e,config)};transaction.upload=true}}return transaction},_destroy:function(transaction){if(win&&!transaction.notify&&!transaction.xdr){if(XHR&&!transaction.upload){transaction.c.onreadystatechange=null}else if(transaction.upload){transaction.c.upload.onprogress=null;transaction.c.onload=null;transaction.c.onerror=null}else if(Y.UA.ie&&!transaction.e){transaction.c.abort()}}transaction=transaction.c=null},_evt:function(eventName,transaction,config){var io=this,params,args=config["arguments"],emitFacade=io.cfg.emitFacade,globalEvent="io:"+eventName,trnEvent="io-trn:"+eventName;this.detach(trnEvent);if(transaction.e){transaction.c={status:0,statusText:transaction.e}}params=[emitFacade?{id:transaction.id,data:transaction.c,cfg:config,arguments:args}:transaction.id];if(!emitFacade){if(eventName===EVENTS[0]||eventName===EVENTS[2]){if(args){params.push(args)}}else{if(transaction.evt){params.push(transaction.evt)}else{params.push(transaction.c)}if(args){params.push(args)}}}params.unshift(globalEvent);io.fire.apply(io,params);if(config.on){params[0]=trnEvent;io.once(trnEvent,config.on[eventName],config.context||Y);io.fire.apply(io,params)}},start:function(transaction,config){this._evt(EVENTS[0],transaction,config)},complete:function(transaction,config){this._evt(EVENTS[1],transaction,config)},end:function(transaction,config){this._evt(EVENTS[2],transaction,config);this._destroy(transaction)},success:function(transaction,config){this._evt(EVENTS[3],transaction,config);this.end(transaction,config)},failure:function(transaction,config){this._evt(EVENTS[4],transaction,config);this.end(transaction,config)},progress:function(transaction,e,config){transaction.evt=e;this._evt(EVENTS[5],transaction,config)},load:function(transaction,e,config){transaction.evt=e.target;this._evt(EVENTS[1],transaction,config)},error:function(transaction,e,config){transaction.evt=e;this._evt(EVENTS[4],transaction,config)},_retry:function(transaction,uri,config){this._destroy(transaction);config.xdr.use="flash";return this.send(uri,config,transaction.id)},_concat:function(uri,data){uri+=(uri.indexOf("?")===-1?"?":"&")+data;return uri},setHeader:function(name,value){if(value){this._headers[name]=value}else{delete this._headers[name]}},_setHeaders:function(transaction,headers){headers=Y.merge(this._headers,headers);Y.Object.each(headers,function(value,name){if(value!=="disable"){transaction.setRequestHeader(name,headers[name])}})},_startTimeout:function(transaction,timeout){var io=this;io._timeout[transaction.id]=setTimeout(function(){io._abort(transaction,"timeout")},timeout)},_clearTimeout:function(id){clearTimeout(this._timeout[id]);delete this._timeout[id]},_result:function(transaction,config){var status;try{status=transaction.c.status}catch(e){status=0}if(status>=200&&status<300||status===304||status===1223){this.success(transaction,config)}else{this.failure(transaction,config)}},_rS:function(transaction,config){var io=this;if(transaction.c.readyState===4){if(config.timeout){io._clearTimeout(transaction.id)}setTimeout(function(){io.complete(transaction,config);io._result(transaction,config)},0)}},_abort:function(transaction,type){if(transaction&&transaction.c){transaction.e=type;transaction.c.abort()}},send:function(uri,config,id){var transaction,method,i,len,sync,data,io=this,u=uri,response={};config=config?Y.Object(config):{};transaction=io._create(config,id);method=config.method?config.method.toUpperCase():"GET";sync=config.sync;data=config.data;if(Y.Lang.isObject(data)&&!data.nodeType&&!transaction.upload){if(Y.QueryString&&Y.QueryString.stringify){config.data=data=Y.QueryString.stringify(data)}else{}}if(config.form){if(config.form.upload){return io.upload(transaction,uri,config)}else{data=io._serialize(config.form,data)}}data||(data="");if(data){switch(method){case"GET":case"HEAD":case"DELETE":u=io._concat(u,data);data="";break;case"POST":case"PUT":config.headers=Y.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},config.headers);break}}if(transaction.xdr){return io.xdr(u,transaction,config)}else if(transaction.notify){return transaction.c.send(transaction,uri,config)}if(!sync&&!transaction.upload){transaction.c.onreadystatechange=function(){io._rS(transaction,config)}}try{transaction.c.open(method,u,!sync,config.username||null,config.password||null);io._setHeaders(transaction.c,config.headers||{});io.start(transaction,config);if(config.xdr&&config.xdr.credentials&&SUPPORTS_CORS){transaction.c.withCredentials=true}transaction.c.send(data);if(sync){for(i=0,len=XHR_PROPS.length;i<len;++i){response[XHR_PROPS[i]]=transaction.c[XHR_PROPS[i]]}response.getAllResponseHeaders=function(){return transaction.c.getAllResponseHeaders()};response.getResponseHeader=function(name){return transaction.c.getResponseHeader(name)};io.complete(transaction,config);io._result(transaction,config);return response}}catch(e){if(transaction.xdr){return io._retry(transaction,uri,config)}else{io.complete(transaction,config);io._result(transaction,config)}}if(config.timeout){io._startTimeout(transaction,config.timeout)}return{id:transaction.id,abort:function(){return transaction.c?io._abort(transaction,"abort"):false},isInProgress:function(){return transaction.c?transaction.c.readyState%4:false},io:io}}};Y.io=function(url,config){var transaction=Y.io._map["io:0"]||new IO;return transaction.send.apply(transaction,[url,config])};Y.io.header=function(name,value){var transaction=Y.io._map["io:0"]||new IO;transaction.setHeader(name,value)};Y.IO=IO;Y.io._map={};var XHR=win&&win.XMLHttpRequest,XDR=win&&win.XDomainRequest,AX=win&&win.ActiveXObject,SUPPORTS_CORS=XHR&&"withCredentials"in new XMLHttpRequest;Y.mix(Y.IO,{_default:"xhr",defaultTransport:function(id){if(id){Y.IO._default=id}else{var o={c:Y.IO.transports[Y.IO._default](),notify:Y.IO._default==="xhr"?false:true};return o}},transports:{xhr:function(){return XHR?new XMLHttpRequest:AX?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return XDR?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(id){var o={c:Y.IO.transports[id]()};o[id==="xdr"||id==="flash"?"xdr":"notify"]=true;return o}});Y.mix(Y.IO.prototype,{notify:function(event,transaction,config){var io=this;switch(event){case"timeout":case"abort":case"transport error":transaction.c={status:0,statusText:event};event="failure";default:io[event].apply(io,[transaction,config])}}})},"3.9.1",{requires:["event-custom-base","querystring-stringify-simple"]});YUI.add("io-nodejs",function(Y,NAME){if(!Y.IO.request){Y.IO.request=require("request").defaults({jar:false})}var codes=require("http").STATUS_CODES;var flatten=function(o){var str=[];Object.keys(o).forEach(function(name){str.push(name+": "+o[name])});return str.join("\n")};Y.IO.transports.nodejs=function(){return{send:function(transaction,uri,config){config.notify("start",transaction,config);config.method=config.method||"GET";config.method=config.method.toUpperCase();var rconf={method:config.method,uri:uri};if(config.data){if(Y.Lang.isString(config.data)){rconf.body=config.data}if(rconf.body&&rconf.method==="GET"){rconf.uri+=(rconf.uri.indexOf("?")>-1?"&":"?")+rconf.body;rconf.body=""}}if(config.headers){rconf.headers=config.headers}if(config.timeout){rconf.timeout=config.timeout}if(config.request){Y.mix(rconf,config.request)}Y.IO.request(rconf,function(err,data){if(err){transaction.c=err;config.notify(err.code==="ETIMEDOUT"?"timeout":"failure",transaction,config);return}if(data){transaction.c={status:data.statusCode,statusCode:data.statusCode,statusText:codes[data.statusCode],headers:data.headers,responseText:data.body||"",responseXML:null,getResponseHeader:function(name){return this.headers[name]},getAllResponseHeaders:function(){return flatten(this.headers)}}}config.notify("complete",transaction,config);config.notify(data&&data.statusCode>=200&&data.statusCode<=299?"success":"failure",transaction,config)});var ret={io:transaction};return ret}}};Y.IO.defaultTransport("nodejs")},"3.9.1",{requires:["io-base"]});YUI.add("datatype-xml-parse",function(Y,NAME){var LANG=Y.Lang;Y.mix(Y.namespace("XML"),{parse:function(data){var xmlDoc=null;if(LANG.isString(data)){try{if(!LANG.isUndefined(ActiveXObject)){xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=false;xmlDoc.loadXML(data)}}catch(ee){try{if(!LANG.isUndefined(DOMParser)){xmlDoc=(new DOMParser).parseFromString(data,"text/xml")}if(!LANG.isUndefined(Windows.Data.Xml.Dom)){xmlDoc=new Windows.Data.Xml.Dom.XmlDocument;xmlDoc.loadXml(data)}}catch(e){}}}if(LANG.isNull(xmlDoc)||LANG.isNull(xmlDoc.documentElement)||xmlDoc.documentElement.nodeName==="parsererror"){}return xmlDoc}});Y.namespace("Parsers").xml=Y.XML.parse;Y.namespace("DataType");Y.DataType.XML=Y.XML},"3.9.1");YUI.add("io-xdr",function(Y,NAME){var E_XDR_READY=Y.publish("io:xdrReady",{fireOnce:true}),_cB={},_rS={},d=Y.config.doc,w=Y.config.win,xdr=w&&w.XDomainRequest;function _swf(uri,yid,uid){var o='<object id="io_swf" type="application/x-shockwave-flash" data="'+uri+'" width="0" height="0">'+'<param name="movie" value="'+uri+'">'+'<param name="FlashVars" value="yid='+yid+"&uid="+uid+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",c=d.createElement("div");d.body.appendChild(c);c.innerHTML=o}function _data(o,u,d){if(u==="flash"){o.c.responseText=decodeURI(o.c.responseText)}if(d==="xml"){o.c.responseXML=Y.DataType.XML.parse(o.c.responseText)}return o}function _abort(o,c){return o.c.abort(o.id,c)}function _isInProgress(o){return xdr?_rS[o.id]!==4:o.c.isInProgress(o.id)}Y.mix(Y.IO.prototype,{_transport:{},_ieEvt:function(o,c){var io=this,i=o.id,t="timeout";o.c.onprogress=function(){_rS[i]=3};o.c.onload=function(){_rS[i]=4;io.xdrResponse("success",o,c)};o.c.onerror=function(){_rS[i]=4;io.xdrResponse("failure",o,c)};o.c.ontimeout=function(){_rS[i]=4;io.xdrResponse(t,o,c)};o.c[t]=c[t]||0},xdr:function(uri,o,c){var io=this;if(c.xdr.use==="flash"){_cB[o.id]=c;w.setTimeout(function(){try{o.c.send(uri,{id:o.id,uid:o.uid,method:c.method,data:c.data,headers:c.headers})}catch(e){io.xdrResponse("transport error",o,c);delete _cB[o.id]}},Y.io.xdr.delay)}else if(xdr){io._ieEvt(o,c);o.c.open(c.method||"GET",uri);setTimeout(function(){o.c.send(c.data)},0)}else{o.c.send(uri,o,c)}return{id:o.id,abort:function(){return o.c?_abort(o,c):false},isInProgress:function(){return o.c?_isInProgress(o.id):false},io:io}},xdrResponse:function(e,o,c){c=_cB[o.id]?_cB[o.id]:c;var io=this,m=xdr?_rS:_cB,u=c.xdr.use,d=c.xdr.dataType;switch(e){case"start":io.start(o,c);break;case"success":io.success(_data(o,u,d),c);delete m[o.id];break;case"timeout":case"abort":case"transport error":o.c={status:0,statusText:e};case"failure":io.failure(_data(o,u,d),c);delete m[o.id];break}},_xdrReady:function(yid,uid){Y.fire(E_XDR_READY,yid,uid)},transport:function(c){if(c.id==="flash"){_swf(Y.UA.ie?c.src+"?d="+(new Date).valueOf().toString():c.src,Y.id,c.uid);Y.IO.transports.flash=function(){return d.getElementById("io_swf")}}}});Y.io.xdrReady=function(yid,uid){var io=Y.io._map[uid];Y.io.xdr.delay=0;io._xdrReady.apply(io,[yid,uid])};Y.io.xdrResponse=function(e,o,c){var io=Y.io._map[o.uid];io.xdrResponse.apply(io,[e,o,c])};Y.io.transport=function(c){var io=Y.io._map["io:0"]||new Y.IO;c.uid=io._uid;io.transport.apply(io,[c])};Y.io.xdr={delay:100}},"3.9.1",{requires:["io-base","datatype-xml-parse"]});YUI.add("features",function(Y,NAME){var feature_tests={};Y.mix(Y.namespace("Features"),{tests:feature_tests,add:function(cat,name,o){feature_tests[cat]=feature_tests[cat]||{};feature_tests[cat][name]=o},all:function(cat,args){var cat_o=feature_tests[cat],result=[];if(cat_o){Y.Object.each(cat_o,function(v,k){result.push(k+":"+(Y.Features.test(cat,k,args)?1:0))})}return result.length?result.join(";"):""},test:function(cat,name,args){args=args||[];var result,ua,test,cat_o=feature_tests[cat],feature=cat_o&&cat_o[name];if(!feature){}else{result=feature.result;if(Y.Lang.isUndefined(result)){ua=feature.ua;if(ua){result=Y.UA[ua]}test=feature.test;if(test&&(!ua||result)){result=test.apply(Y,args)}feature.result=result}}return result}});var add=Y.Features.add;add("load","0",{name:"app-transitions-native",test:function(Y){var doc=Y.config.doc,node=doc?doc.documentElement:null;if(node&&node.style){return"MozTransition"in node.style||"WebkitTransition"in node.style||"transition"in node.style}return false},trigger:"app-transitions"});add("load","1",{name:"autocomplete-list-keys",test:function(Y){return!(Y.UA.ios||Y.UA.android)},trigger:"autocomplete-list"});add("load","2",{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"});add("load","3",{name:"dom-style-ie",test:function(Y){var testFeature=Y.Features.test,addFeature=Y.Features.add,WINDOW=Y.config.win,DOCUMENT=Y.config.doc,DOCUMENT_ELEMENT="documentElement",ret=false;addFeature("style","computedStyle",{test:function(){return WINDOW&&"getComputedStyle"in WINDOW}});addFeature("style","opacity",{test:function(){return DOCUMENT&&"opacity"in DOCUMENT[DOCUMENT_ELEMENT].style}});ret=!testFeature("style","opacity")&&!testFeature("style","computedStyle");return ret},trigger:"dom-style"});add("load","4",{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"});add("load","5",{name:"event-base-ie",test:function(Y){var imp=Y.config.doc&&Y.config.doc.implementation;return imp&&!imp.hasFeature("Events","2.0")},trigger:"node-base"});add("load","6",{name:"graphics-canvas",test:function(Y){var DOCUMENT=Y.config.doc,useCanvas=Y.config.defaultGraphicEngine&&Y.config.defaultGraphicEngine=="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!svg||useCanvas)&&canvas&&canvas.getContext&&canvas.getContext("2d")},trigger:"graphics"});add("load","7",{name:"graphics-canvas-default",test:function(Y){var DOCUMENT=Y.config.doc,useCanvas=Y.config.defaultGraphicEngine&&Y.config.defaultGraphicEngine=="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!svg||useCanvas)&&canvas&&canvas.getContext&&canvas.getContext("2d")},trigger:"graphics"});add("load","8",{name:"graphics-svg",test:function(Y){var DOCUMENT=Y.config.doc,useSVG=!Y.config.defaultGraphicEngine||Y.config.defaultGraphicEngine!="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return svg&&(useSVG||!canvas)},trigger:"graphics"});add("load","9",{name:"graphics-svg-default",test:function(Y){var DOCUMENT=Y.config.doc,useSVG=!Y.config.defaultGraphicEngine||Y.config.defaultGraphicEngine!="canvas",canvas=DOCUMENT&&DOCUMENT.createElement("canvas"),svg=DOCUMENT&&DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return svg&&(useSVG||!canvas)},trigger:"graphics"});add("load","10",{name:"graphics-vml",test:function(Y){var DOCUMENT=Y.config.doc,canvas=DOCUMENT&&DOCUMENT.createElement("canvas");return DOCUMENT&&!DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!canvas||!canvas.getContext||!canvas.getContext("2d"))},trigger:"graphics"});add("load","11",{name:"graphics-vml-default",test:function(Y){var DOCUMENT=Y.config.doc,canvas=DOCUMENT&&DOCUMENT.createElement("canvas");return DOCUMENT&&!DOCUMENT.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!canvas||!canvas.getContext||!canvas.getContext("2d"))},trigger:"graphics"});add("load","12",{name:"history-hash-ie",test:function(Y){var docMode=Y.config.doc&&Y.config.doc.documentMode;return Y.UA.ie&&(!("onhashchange"in Y.config.win)||!docMode||docMode<8)},trigger:"history-hash"});add("load","13",{name:"io-nodejs",trigger:"io-base",ua:"nodejs"});add("load","14",{name:"json-parse-shim",test:function(Y){var _JSON=Y.config.global.JSON,Native=Object.prototype.toString.call(_JSON)==="[object JSON]"&&_JSON,nativeSupport=Y.config.useNativeJSONParse!==false&&!!Native;function workingNative(k,v){return k==="ok"?true:v}if(nativeSupport){try{nativeSupport=Native.parse('{"ok":false}',workingNative).ok}catch(e){nativeSupport=false}}return!nativeSupport},trigger:"json-parse"});add("load","15",{name:"json-stringify-shim",test:function(Y){var _JSON=Y.config.global.JSON,Native=Object.prototype.toString.call(_JSON)==="[object JSON]"&&_JSON,nativeSupport=Y.config.useNativeJSONStringify!==false&&!!Native;if(nativeSupport){try{nativeSupport="0"===Native.stringify(0)}catch(e){nativeSupport=false}}return!nativeSupport},trigger:"json-stringify"});add("load","16",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"});add("load","17",{name:"selector-css2",test:function(Y){var DOCUMENT=Y.config.doc,ret=DOCUMENT&&!("querySelectorAll"in DOCUMENT);return ret},trigger:"selector"});add("load","18",{name:"transition-timer",test:function(Y){var DOCUMENT=Y.config.doc,node=DOCUMENT?DOCUMENT.documentElement:null,ret=true;if(node&&node.style){ret=!("MozTransition"in node.style||"WebkitTransition"in node.style||"transition"in node.style)}return ret},trigger:"transition"});add("load","19",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"});add("load","20",{name:"yql-jsonp",test:function(Y){return!Y.UA.nodejs&&!Y.UA.winjs},trigger:"yql",when:"after"});add("load","21",{name:"yql-nodejs",trigger:"yql",ua:"nodejs",when:"after"});add("load","22",{name:"yql-winjs",trigger:"yql",ua:"winjs",when:"after"})},"3.9.1",{requires:["yui-base"]});YUI.add("dom-core",function(Y,NAME){var NODE_TYPE="nodeType",OWNER_DOCUMENT="ownerDocument",DOCUMENT_ELEMENT="documentElement",DEFAULT_VIEW="defaultView",PARENT_WINDOW="parentWindow",TAG_NAME="tagName",PARENT_NODE="parentNode",PREVIOUS_SIBLING="previousSibling",NEXT_SIBLING="nextSibling",CONTAINS="contains",COMPARE_DOCUMENT_POSITION="compareDocumentPosition",EMPTY_ARRAY=[],supportsContainsTextNode=function(){var node=Y.config.doc.createElement("div"),textNode=node.appendChild(Y.config.doc.createTextNode("")),result=false;try{result=node.contains(textNode)}catch(e){}return result}(),Y_DOM={byId:function(id,doc){return Y_DOM.allById(id,doc)[0]||null},getId:function(node){var id;if(node.id&&!node.id.tagName&&!node.id.item){id=node.id}else if(node.attributes&&node.attributes.id){id=node.attributes.id.value}return id},setId:function(node,id){if(node.setAttribute){node.setAttribute("id",id)}else{node.id=id}},ancestor:function(element,fn,testSelf,stopFn){var ret=null;if(testSelf){ret=!fn||fn(element)?element:null}return ret||Y_DOM.elementByAxis(element,PARENT_NODE,fn,null,stopFn)},ancestors:function(element,fn,testSelf,stopFn){var ancestor=element,ret=[];while(ancestor=Y_DOM.ancestor(ancestor,fn,testSelf,stopFn)){testSelf=false;if(ancestor){ret.unshift(ancestor);if(stopFn&&stopFn(ancestor)){return ret}}}return ret},elementByAxis:function(element,axis,fn,all,stopAt){while(element&&(element=element[axis])){if((all||element[TAG_NAME])&&(!fn||fn(element))){return element}if(stopAt&&stopAt(element)){return null}}return null},contains:function(element,needle){var ret=false;if(!needle||!element||!needle[NODE_TYPE]||!element[NODE_TYPE]){ret=false}else if(element[CONTAINS]&&(needle[NODE_TYPE]===1||supportsContainsTextNode)){ret=element[CONTAINS](needle)}else if(element[COMPARE_DOCUMENT_POSITION]){if(element===needle||!!(element[COMPARE_DOCUMENT_POSITION](needle)&16)){ret=true}}else{ret=Y_DOM._bruteContains(element,needle)}return ret},inDoc:function(element,doc){var ret=false,rootNode;if(element&&element.nodeType){doc||(doc=element[OWNER_DOCUMENT]);rootNode=doc[DOCUMENT_ELEMENT];if(rootNode&&rootNode.contains&&element.tagName){ret=rootNode.contains(element)}else{ret=Y_DOM.contains(rootNode,element)}}return ret},allById:function(id,root){root=root||Y.config.doc;var nodes=[],ret=[],i,node;if(root.querySelectorAll){ret=root.querySelectorAll('[id="'+id+'"]')}else if(root.all){nodes=root.all(id);if(nodes){if(nodes.nodeName){if(nodes.id===id){ret.push(nodes);nodes=EMPTY_ARRAY}else{nodes=[nodes]}}if(nodes.length){for(i=0;node=nodes[i++];){if(node.id===id||node.attributes&&node.attributes.id&&node.attributes.id.value===id){ret.push(node)}}}}}else{ret=[Y_DOM._getDoc(root).getElementById(id)]}return ret},isWindow:function(obj){return!!(obj&&obj.scrollTo&&obj.document)},_removeChildNodes:function(node){while(node.firstChild){node.removeChild(node.firstChild)}},siblings:function(node,fn){var nodes=[],sibling=node;while(sibling=sibling[PREVIOUS_SIBLING]){if(sibling[TAG_NAME]&&(!fn||fn(sibling))){nodes.unshift(sibling)}}sibling=node;while(sibling=sibling[NEXT_SIBLING]){if(sibling[TAG_NAME]&&(!fn||fn(sibling))){nodes.push(sibling)}}return nodes},_bruteContains:function(element,needle){while(needle){if(element===needle){return true}needle=needle.parentNode}return false},_getRegExp:function(str,flags){flags=flags||"";Y_DOM._regexCache=Y_DOM._regexCache||{};if(!Y_DOM._regexCache[str+flags]){Y_DOM._regexCache[str+flags]=new RegExp(str,flags)}return Y_DOM._regexCache[str+flags]},_getDoc:function(element){var doc=Y.config.doc;if(element){doc=element[NODE_TYPE]===9?element:element[OWNER_DOCUMENT]||element.document||Y.config.doc}return doc},_getWin:function(element){var doc=Y_DOM._getDoc(element);return doc[DEFAULT_VIEW]||doc[PARENT_WINDOW]||Y.config.win},_batch:function(nodes,fn,arg1,arg2,arg3,etc){fn=typeof fn==="string"?Y_DOM[fn]:fn;var result,i=0,node,ret;if(fn&&nodes){while(node=nodes[i++]){result=result=fn.call(Y_DOM,node,arg1,arg2,arg3,etc);if(typeof result!=="undefined"){ret||(ret=[]);ret.push(result)}}}return typeof ret!=="undefined"?ret:nodes},generateID:function(el){var id=el.id;if(!id){id=Y.stamp(el);el.id=id}return id}};Y.DOM=Y_DOM},"3.9.1",{requires:["oop","features"]});YUI.add("dom-base",function(Y,NAME){var documentElement=Y.config.doc.documentElement,Y_DOM=Y.DOM,TAG_NAME="tagName",OWNER_DOCUMENT="ownerDocument",EMPTY_STRING="",addFeature=Y.Features.add,testFeature=Y.Features.test;Y.mix(Y_DOM,{getText:documentElement.textContent!==undefined?function(element){var ret="";if(element){ret=element.textContent}return ret||""}:function(element){var ret="";if(element){ret=element.innerText||element.nodeValue}return ret||""},setText:documentElement.textContent!==undefined?function(element,content){if(element){element.textContent=content}}:function(element,content){if("innerText"in element){element.innerText=content}else if("nodeValue"in element){element.nodeValue=content}},CUSTOM_ATTRIBUTES:!documentElement.hasAttribute?{"for":"htmlFor","class":"className"}:{htmlFor:"for",className:"class"},setAttribute:function(el,attr,val,ieAttr){if(el&&attr&&el.setAttribute){attr=Y_DOM.CUSTOM_ATTRIBUTES[attr]||attr;el.setAttribute(attr,val,ieAttr)}},getAttribute:function(el,attr,ieAttr){ieAttr=ieAttr!==undefined?ieAttr:2;var ret="";if(el&&attr&&el.getAttribute){attr=Y_DOM.CUSTOM_ATTRIBUTES[attr]||attr;ret=el.getAttribute(attr,ieAttr);if(ret===null){ret=""}}return ret},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(node){var ret="",getter;if(node&&node[TAG_NAME]){getter=Y_DOM.VALUE_GETTERS[node[TAG_NAME].toLowerCase()];if(getter){ret=getter(node)}else{ret=node.value}}if(ret===EMPTY_STRING){ret=EMPTY_STRING}return typeof ret==="string"?ret:""},setValue:function(node,val){var setter;if(node&&node[TAG_NAME]){setter=Y_DOM.VALUE_SETTERS[node[TAG_NAME].toLowerCase()];if(setter){setter(node,val)}else{node.value=val}}},creators:{}});addFeature("value-set","select",{test:function(){var node=Y.config.doc.createElement("select");node.innerHTML="<option>1</option><option>2</option>";node.value="2";return node.value&&node.value==="2"}});if(!testFeature("value-set","select")){Y_DOM.VALUE_SETTERS.select=function(node,val){for(var i=0,options=node.getElementsByTagName("option"),option;option=options[i++];){if(Y_DOM.getValue(option)===val){option.selected=true;break}}}}Y.mix(Y_DOM.VALUE_GETTERS,{button:function(node){return node.attributes&&node.attributes.value?node.attributes.value.value:""}});Y.mix(Y_DOM.VALUE_SETTERS,{button:function(node,val){var attr=node.attributes.value;if(!attr){attr=node[OWNER_DOCUMENT].createAttribute("value");node.setAttributeNode(attr)}attr.value=val}});Y.mix(Y_DOM.VALUE_GETTERS,{option:function(node){var attrs=node.attributes;return attrs.value&&attrs.value.specified?node.value:node.text},select:function(node){var val=node.value,options=node.options;if(options&&options.length){if(node.multiple){}else if(node.selectedIndex>-1){val=Y_DOM.getValue(options[node.selectedIndex])}}return val}});var addClass,hasClass,removeClass;Y.mix(Y.DOM,{hasClass:function(node,className){var re=Y.DOM._getRegExp("(?:^|\\s+)"+className+"(?:\\s+|$)");return re.test(node.className)},addClass:function(node,className){if(!Y.DOM.hasClass(node,className)){node.className=Y.Lang.trim([node.className,className].join(" "))}},removeClass:function(node,className){if(className&&hasClass(node,className)){node.className=Y.Lang.trim(node.className.replace(Y.DOM._getRegExp("(?:^|\\s+)"+className+"(?:\\s+|$)")," "));if(hasClass(node,className)){removeClass(node,className)}}},replaceClass:function(node,oldC,newC){removeClass(node,oldC);addClass(node,newC)},toggleClass:function(node,className,force){var add=force!==undefined?force:!hasClass(node,className);if(add){addClass(node,className)}else{removeClass(node,className)}}});hasClass=Y.DOM.hasClass;removeClass=Y.DOM.removeClass;addClass=Y.DOM.addClass;var re_tag=/<([a-z]+)/i,Y_DOM=Y.DOM,addFeature=Y.Features.add,testFeature=Y.Features.test,creators={},createFromDIV=function(html,tag){var div=Y.config.doc.createElement("div"),ret=true;div.innerHTML=html;if(!div.firstChild||div.firstChild.tagName!==tag.toUpperCase()){ret=false}return ret},re_tbody=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,TABLE_OPEN="<table>",TABLE_CLOSE="</table>";Y.mix(Y.DOM,{_fragClones:{},_create:function(html,doc,tag){tag=tag||"div";var frag=Y_DOM._fragClones[tag];if(frag){frag=frag.cloneNode(false)}else{frag=Y_DOM._fragClones[tag]=doc.createElement(tag)}frag.innerHTML=html;return frag},_children:function(node,tag){var i=0,children=node.children,childNodes,hasComments,child;if(children&&children.tags){if(tag){children=node.children.tags(tag)}else{hasComments=children.tags("!").length}}if(!children||!children.tags&&tag||hasComments){childNodes=children||node.childNodes;children=[];while(child=childNodes[i++]){if(child.nodeType===1){if(!tag||tag===child.tagName){children.push(child)}}}}return children||[]},create:function(html,doc){if(typeof html==="string"){html=Y.Lang.trim(html)}doc=doc||Y.config.doc;var m=re_tag.exec(html),create=Y_DOM._create,custom=creators,ret=null,creator,tag,nodes;if(html!=undefined){if(m&&m[1]){creator=custom[m[1].toLowerCase()];if(typeof creator==="function"){create=creator}else{tag=creator}}nodes=create(html,doc,tag).childNodes;if(nodes.length===1){ret=nodes[0].parentNode.removeChild(nodes[0])}else if(nodes[0]&&nodes[0].className==="yui3-big-dummy"){if(nodes.length===2){ret=nodes[0].nextSibling}else{nodes[0].parentNode.removeChild(nodes[0]);ret=Y_DOM._nl2frag(nodes,doc)}}else{ret=Y_DOM._nl2frag(nodes,doc)}}return ret},_nl2frag:function(nodes,doc){var ret=null,i,len;if(nodes&&(nodes.push||nodes.item)&&nodes[0]){doc=doc||nodes[0].ownerDocument;ret=doc.createDocumentFragment();if(nodes.item){nodes=Y.Array(nodes,0,true)}for(i=0,len=nodes.length;i<len;i++){ret.appendChild(nodes[i])}}return ret},addHTML:function(node,content,where){var nodeParent=node.parentNode,i=0,item,ret=content,newNode;if(content!=undefined){if(content.nodeType){newNode=content}else if(typeof content=="string"||typeof content=="number"){ret=newNode=Y_DOM.create(content)}else if(content[0]&&content[0].nodeType){newNode=Y.config.doc.createDocumentFragment();while(item=content[i++]){newNode.appendChild(item)}}}if(where){if(newNode&&where.parentNode){where.parentNode.insertBefore(newNode,where)}else{switch(where){case"replace":while(node.firstChild){node.removeChild(node.firstChild)}if(newNode){node.appendChild(newNode)}break;case"before":if(newNode){nodeParent.insertBefore(newNode,node)}break;case"after":if(newNode){if(node.nextSibling){nodeParent.insertBefore(newNode,node.nextSibling)}else{nodeParent.appendChild(newNode)}}break;default:if(newNode){node.appendChild(newNode)}}}}else if(newNode){node.appendChild(newNode)}return ret},wrap:function(node,html){var parent=html&&html.nodeType?html:Y.DOM.create(html),nodes=parent.getElementsByTagName("*");if(nodes.length){parent=nodes[nodes.length-1]}if(node.parentNode){node.parentNode.replaceChild(parent,node)}parent.appendChild(node)},unwrap:function(node){var parent=node.parentNode,lastChild=parent.lastChild,next=node,grandparent;if(parent){grandparent=parent.parentNode;if(grandparent){node=parent.firstChild;while(node!==lastChild){next=node.nextSibling;grandparent.insertBefore(node,parent);node=next}grandparent.replaceChild(lastChild,parent)}else{parent.removeChild(node)}}}});addFeature("innerhtml","table",{test:function(){var node=Y.config.doc.createElement("table");try{node.innerHTML="<tbody></tbody>"}catch(e){return false}return node.firstChild&&node.firstChild.nodeName==="TBODY"}});addFeature("innerhtml-div","tr",{test:function(){return createFromDIV("<tr></tr>","tr")}});addFeature("innerhtml-div","script",{test:function(){return createFromDIV("<script></script>","script")}});if(!testFeature("innerhtml","table")){creators.tbody=function(html,doc){var frag=Y_DOM.create(TABLE_OPEN+html+TABLE_CLOSE,doc),tb=Y.DOM._children(frag,"tbody")[0];if(frag.children.length>1&&tb&&!re_tbody.test(html)){tb.parentNode.removeChild(tb)}return frag}}if(!testFeature("innerhtml-div","script")){creators.script=function(html,doc){var frag=doc.createElement("div");frag.innerHTML="-"+html;frag.removeChild(frag.firstChild);return frag};creators.link=creators.style=creators.script}if(!testFeature("innerhtml-div","tr")){Y.mix(creators,{option:function(html,doc){return Y_DOM.create('<select><option class="yui3-big-dummy" selected></option>'+html+"</select>",doc)},tr:function(html,doc){return Y_DOM.create("<tbody>"+html+"</tbody>",doc)},td:function(html,doc){return Y_DOM.create("<tr>"+html+"</tr>",doc)},col:function(html,doc){return Y_DOM.create("<colgroup>"+html+"</colgroup>",doc)},tbody:"table"});Y.mix(creators,{legend:"fieldset",th:creators.td,thead:creators.tbody,tfoot:creators.tbody,caption:creators.tbody,colgroup:creators.tbody,optgroup:creators.option})
}Y_DOM.creators=creators;Y.mix(Y.DOM,{setWidth:function(node,size){Y.DOM._setSize(node,"width",size)},setHeight:function(node,size){Y.DOM._setSize(node,"height",size)},_setSize:function(node,prop,val){val=val>0?val:0;var size=0;node.style[prop]=val+"px";size=prop==="height"?node.offsetHeight:node.offsetWidth;if(size>val){val=val-(size-val);if(val<0){val=0}node.style[prop]=val+"px"}}})},"3.9.1",{requires:["dom-core"]});YUI.add("selector-native",function(Y,NAME){(function(Y){Y.namespace("Selector");var COMPARE_DOCUMENT_POSITION="compareDocumentPosition",OWNER_DOCUMENT="ownerDocument";var Selector={_types:{esc:{token:"",re:/\\[:\[\]\(\)#\.\'\>+~"]/gi},attr:{token:"",re:/(\[[^\]]*\])/g},pseudo:{token:"",re:/(\([^\)]*\))/g}},useNative:true,_escapeId:function(id){if(id){id=id.replace(/([:\[\]\(\)#\.'<>+~"])/g,"\\$1")}return id},_compare:"sourceIndex"in Y.config.doc.documentElement?function(nodeA,nodeB){var a=nodeA.sourceIndex,b=nodeB.sourceIndex;if(a===b){return 0}else if(a>b){return 1}return-1}:Y.config.doc.documentElement[COMPARE_DOCUMENT_POSITION]?function(nodeA,nodeB){if(nodeA[COMPARE_DOCUMENT_POSITION](nodeB)&4){return-1}else{return 1}}:function(nodeA,nodeB){var rangeA,rangeB,compare;if(nodeA&&nodeB){rangeA=nodeA[OWNER_DOCUMENT].createRange();rangeA.setStart(nodeA,0);rangeB=nodeB[OWNER_DOCUMENT].createRange();rangeB.setStart(nodeB,0);compare=rangeA.compareBoundaryPoints(1,rangeB)}return compare},_sort:function(nodes){if(nodes){nodes=Y.Array(nodes,0,true);if(nodes.sort){nodes.sort(Selector._compare)}}return nodes},_deDupe:function(nodes){var ret=[],i,node;for(i=0;node=nodes[i++];){if(!node._found){ret[ret.length]=node;node._found=true}}for(i=0;node=ret[i++];){node._found=null;node.removeAttribute("_found")}return ret},query:function(selector,root,firstOnly,skipNative){root=root||Y.config.doc;var ret=[],useNative=Y.Selector.useNative&&Y.config.doc.querySelector&&!skipNative,queries=[[selector,root]],query,result,i,fn=useNative?Y.Selector._nativeQuery:Y.Selector._bruteQuery;if(selector&&fn){if(!skipNative&&(!useNative||root.tagName)){queries=Selector._splitQueries(selector,root)}for(i=0;query=queries[i++];){result=fn(query[0],query[1],firstOnly);if(!firstOnly){result=Y.Array(result,0,true)}if(result){ret=ret.concat(result)}}if(queries.length>1){ret=Selector._sort(Selector._deDupe(ret))}}return firstOnly?ret[0]||null:ret},_replaceSelector:function(selector){var esc=Y.Selector._parse("esc",selector),attrs,pseudos;selector=Y.Selector._replace("esc",selector);pseudos=Y.Selector._parse("pseudo",selector);selector=Selector._replace("pseudo",selector);attrs=Y.Selector._parse("attr",selector);selector=Y.Selector._replace("attr",selector);return{esc:esc,attrs:attrs,pseudos:pseudos,selector:selector}},_restoreSelector:function(replaced){var selector=replaced.selector;selector=Y.Selector._restore("attr",selector,replaced.attrs);selector=Y.Selector._restore("pseudo",selector,replaced.pseudos);selector=Y.Selector._restore("esc",selector,replaced.esc);return selector},_replaceCommas:function(selector){var replaced=Y.Selector._replaceSelector(selector),selector=replaced.selector;if(selector){selector=selector.replace(/,/g,"");replaced.selector=selector;selector=Y.Selector._restoreSelector(replaced)}return selector},_splitQueries:function(selector,node){if(selector.indexOf(",")>-1){selector=Y.Selector._replaceCommas(selector)}var groups=selector.split(""),queries=[],prefix="",id,i,len;if(node){if(node.nodeType===1){id=Y.Selector._escapeId(Y.DOM.getId(node));if(!id){id=Y.guid();Y.DOM.setId(node,id)}prefix='[id="'+id+'"] '}for(i=0,len=groups.length;i<len;++i){selector=prefix+groups[i];queries.push([selector,node])}}return queries},_nativeQuery:function(selector,root,one){if(Y.UA.webkit&&selector.indexOf(":checked")>-1&&Y.Selector.pseudos&&Y.Selector.pseudos.checked){return Y.Selector.query(selector,root,one,true)}try{return root["querySelector"+(one?"":"All")](selector)}catch(e){return Y.Selector.query(selector,root,one,true)}},filter:function(nodes,selector){var ret=[],i,node;if(nodes&&selector){for(i=0;node=nodes[i++];){if(Y.Selector.test(node,selector)){ret[ret.length]=node}}}else{}return ret},test:function(node,selector,root){var ret=false,useFrag=false,groups,parent,item,items,frag,id,i,j,group;if(node&&node.tagName){if(typeof selector=="function"){ret=selector.call(node,node)}else{groups=selector.split(",");if(!root&&!Y.DOM.inDoc(node)){parent=node.parentNode;if(parent){root=parent}else{frag=node[OWNER_DOCUMENT].createDocumentFragment();frag.appendChild(node);root=frag;useFrag=true}}root=root||node[OWNER_DOCUMENT];id=Y.Selector._escapeId(Y.DOM.getId(node));if(!id){id=Y.guid();Y.DOM.setId(node,id)}for(i=0;group=groups[i++];){group+='[id="'+id+'"]';items=Y.Selector.query(group,root);for(j=0;item=items[j++];){if(item===node){ret=true;break}}if(ret){break}}if(useFrag){frag.removeChild(node)}}}return ret},ancestor:function(element,selector,testSelf){return Y.DOM.ancestor(element,function(n){return Y.Selector.test(n,selector)},testSelf)},_parse:function(name,selector){return selector.match(Y.Selector._types[name].re)},_replace:function(name,selector){var o=Y.Selector._types[name];return selector.replace(o.re,o.token)},_restore:function(name,selector,items){if(items){var token=Y.Selector._types[name].token,i,len;for(i=0,len=items.length;i<len;++i){selector=selector.replace(token,items[i])}}return selector}};Y.mix(Y.Selector,Selector,true)})(Y)},"3.9.1",{requires:["dom-base"]});YUI.add("selector",function(Y,NAME){},"3.9.1",{requires:["selector-native"]});YUI.add("node-core",function(Y,NAME){var DOT=".",NODE_NAME="nodeName",NODE_TYPE="nodeType",OWNER_DOCUMENT="ownerDocument",TAG_NAME="tagName",UID="_yuid",EMPTY_OBJ={},_slice=Array.prototype.slice,Y_DOM=Y.DOM,Y_Node=function(node){if(!this.getDOMNode){return new Y_Node(node)}if(typeof node=="string"){node=Y_Node._fromString(node);if(!node){return null}}var uid=node.nodeType!==9?node.uniqueID:node[UID];if(uid&&Y_Node._instances[uid]&&Y_Node._instances[uid]._node!==node){node[UID]=null}uid=uid||Y.stamp(node);if(!uid){uid=Y.guid()}this[UID]=uid;this._node=node;this._stateProxy=node;if(this._initPlugins){this._initPlugins()}},_wrapFn=function(fn){var ret=null;if(fn){ret=typeof fn=="string"?function(n){return Y.Selector.test(n,fn)}:function(n){return fn(Y.one(n))}}return ret};Y_Node.ATTRS={};Y_Node.DOM_EVENTS={};Y_Node._fromString=function(node){if(node){if(node.indexOf("doc")===0){node=Y.config.doc}else if(node.indexOf("win")===0){node=Y.config.win}else{node=Y.Selector.query(node,null,true)}}return node||null};Y_Node.NAME="node";Y_Node.re_aria=/^(?:role$|aria-)/;Y_Node.SHOW_TRANSITION="fadeIn";Y_Node.HIDE_TRANSITION="fadeOut";Y_Node._instances={};Y_Node.getDOMNode=function(node){if(node){return node.nodeType?node:node._node||null}return null};Y_Node.scrubVal=function(val,node){if(val){if(typeof val=="object"||typeof val=="function"){if(NODE_TYPE in val||Y_DOM.isWindow(val)){val=Y.one(val)}else if(val.item&&!val._nodes||val[0]&&val[0][NODE_TYPE]){val=Y.all(val)}}}else if(typeof val==="undefined"){val=node}else if(val===null){val=null}return val};Y_Node.addMethod=function(name,fn,context){if(name&&fn&&typeof fn=="function"){Y_Node.prototype[name]=function(){var args=_slice.call(arguments),node=this,ret;if(args[0]&&args[0]._node){args[0]=args[0]._node}if(args[1]&&args[1]._node){args[1]=args[1]._node}args.unshift(node._node);ret=fn.apply(node,args);if(ret){ret=Y_Node.scrubVal(ret,node)}typeof ret!="undefined"||(ret=node);return ret}}else{}};Y_Node.importMethod=function(host,name,altName){if(typeof name=="string"){altName=altName||name;Y_Node.addMethod(altName,host[name],host)}else{Y.Array.each(name,function(n){Y_Node.importMethod(host,n)})}};Y_Node.one=function(node){var instance=null,cachedNode,uid;if(node){if(typeof node=="string"){node=Y_Node._fromString(node);if(!node){return null}}else if(node.getDOMNode){return node}if(node.nodeType||Y.DOM.isWindow(node)){uid=node.uniqueID&&node.nodeType!==9?node.uniqueID:node._yuid;instance=Y_Node._instances[uid];cachedNode=instance?instance._node:null;if(!instance||cachedNode&&node!==cachedNode){instance=new Y_Node(node);if(node.nodeType!=11){Y_Node._instances[instance[UID]]=instance}}}}return instance};Y_Node.DEFAULT_SETTER=function(name,val){var node=this._stateProxy,strPath;if(name.indexOf(DOT)>-1){strPath=name;name=name.split(DOT);Y.Object.setValue(node,name,val)}else if(typeof node[name]!="undefined"){node[name]=val}return val};Y_Node.DEFAULT_GETTER=function(name){var node=this._stateProxy,val;if(name.indexOf&&name.indexOf(DOT)>-1){val=Y.Object.getValue(node,name.split(DOT))}else if(typeof node[name]!="undefined"){val=node[name]}return val};Y.mix(Y_Node.prototype,{DATA_PREFIX:"data-",toString:function(){var str=this[UID]+": not bound to a node",node=this._node,attrs,id,className;if(node){attrs=node.attributes;id=attrs&&attrs.id?node.getAttribute("id"):null;className=attrs&&attrs.className?node.getAttribute("className"):null;str=node[NODE_NAME];if(id){str+="#"+id}if(className){str+="."+className.replace(" ",".")}str+=" "+this[UID]}return str},get:function(attr){var val;if(this._getAttr){val=this._getAttr(attr)}else{val=this._get(attr)}if(val){val=Y_Node.scrubVal(val,this)}else if(val===null){val=null}return val},_get:function(attr){var attrConfig=Y_Node.ATTRS[attr],val;if(attrConfig&&attrConfig.getter){val=attrConfig.getter.call(this)}else if(Y_Node.re_aria.test(attr)){val=this._node.getAttribute(attr,2)}else{val=Y_Node.DEFAULT_GETTER.apply(this,arguments)}return val},set:function(attr,val){var attrConfig=Y_Node.ATTRS[attr];if(this._setAttr){this._setAttr.apply(this,arguments)}else{if(attrConfig&&attrConfig.setter){attrConfig.setter.call(this,val,attr)}else if(Y_Node.re_aria.test(attr)){this._node.setAttribute(attr,val)}else{Y_Node.DEFAULT_SETTER.apply(this,arguments)}}return this},setAttrs:function(attrMap){if(this._setAttrs){this._setAttrs(attrMap)}else{Y.Object.each(attrMap,function(v,n){this.set(n,v)},this)}return this},getAttrs:function(attrs){var ret={};if(this._getAttrs){this._getAttrs(attrs)}else{Y.Array.each(attrs,function(v,n){ret[v]=this.get(v)},this)}return ret},compareTo:function(refNode){var node=this._node;if(refNode&&refNode._node){refNode=refNode._node}return node===refNode},inDoc:function(doc){var node=this._node;doc=doc?doc._node||doc:node[OWNER_DOCUMENT];if(doc.documentElement){return Y_DOM.contains(doc.documentElement,node)}},getById:function(id){var node=this._node,ret=Y_DOM.byId(id,node[OWNER_DOCUMENT]);if(ret&&Y_DOM.contains(node,ret)){ret=Y.one(ret)}else{ret=null}return ret},ancestor:function(fn,testSelf,stopFn){if(arguments.length===2&&(typeof testSelf=="string"||typeof testSelf=="function")){stopFn=testSelf}return Y.one(Y_DOM.ancestor(this._node,_wrapFn(fn),testSelf,_wrapFn(stopFn)))},ancestors:function(fn,testSelf,stopFn){if(arguments.length===2&&(typeof testSelf=="string"||typeof testSelf=="function")){stopFn=testSelf}return Y.all(Y_DOM.ancestors(this._node,_wrapFn(fn),testSelf,_wrapFn(stopFn)))},previous:function(fn,all){return Y.one(Y_DOM.elementByAxis(this._node,"previousSibling",_wrapFn(fn),all))},next:function(fn,all){return Y.one(Y_DOM.elementByAxis(this._node,"nextSibling",_wrapFn(fn),all))},siblings:function(fn){return Y.all(Y_DOM.siblings(this._node,_wrapFn(fn)))},one:function(selector){return Y.one(Y.Selector.query(selector,this._node,true))},all:function(selector){var nodelist=Y.all(Y.Selector.query(selector,this._node));nodelist._query=selector;nodelist._queryRoot=this._node;return nodelist},test:function(selector){return Y.Selector.test(this._node,selector)},remove:function(destroy){var node=this._node;if(node&&node.parentNode){node.parentNode.removeChild(node)}if(destroy){this.destroy()}return this},replace:function(newNode){var node=this._node;if(typeof newNode=="string"){newNode=Y_Node.create(newNode)}node.parentNode.replaceChild(Y_Node.getDOMNode(newNode),node);return this},replaceChild:function(node,refNode){if(typeof node=="string"){node=Y_DOM.create(node)}return Y.one(this._node.replaceChild(Y_Node.getDOMNode(node),Y_Node.getDOMNode(refNode)))},destroy:function(recursive){var UID=Y.config.doc.uniqueID?"uniqueID":"_yuid",instance;this.purge();if(this.unplug){this.unplug()}this.clearData();if(recursive){Y.NodeList.each(this.all("*"),function(node){instance=Y_Node._instances[node[UID]];if(instance){instance.destroy()}else{Y.Event.purgeElement(node)}})}this._node=null;this._stateProxy=null;delete Y_Node._instances[this._yuid]},invoke:function(method,a,b,c,d,e){var node=this._node,ret;if(a&&a._node){a=a._node}if(b&&b._node){b=b._node}ret=node[method](a,b,c,d,e);return Y_Node.scrubVal(ret,this)},swap:Y.config.doc.documentElement.swapNode?function(otherNode){this._node.swapNode(Y_Node.getDOMNode(otherNode))}:function(otherNode){otherNode=Y_Node.getDOMNode(otherNode);var node=this._node,parent=otherNode.parentNode,nextSibling=otherNode.nextSibling;if(nextSibling===node){parent.insertBefore(node,otherNode)}else if(otherNode===node.nextSibling){parent.insertBefore(otherNode,node)}else{node.parentNode.replaceChild(otherNode,node);Y_DOM.addHTML(parent,node,nextSibling)}return this},hasMethod:function(method){var node=this._node;return!!(node&&method in node&&typeof node[method]!="unknown"&&(typeof node[method]=="function"||String(node[method]).indexOf("function")===1))},isFragment:function(){return this.get("nodeType")===11},empty:function(){this.get("childNodes").remove().destroy(true);return this},getDOMNode:function(){return this._node}},true);Y.Node=Y_Node;Y.one=Y_Node.one;var NodeList=function(nodes){var tmp=[];if(nodes){if(typeof nodes==="string"){this._query=nodes;nodes=Y.Selector.query(nodes)}else if(nodes.nodeType||Y_DOM.isWindow(nodes)){nodes=[nodes]}else if(nodes._node){nodes=[nodes._node]}else if(nodes[0]&&nodes[0]._node){Y.Array.each(nodes,function(node){if(node._node){tmp.push(node._node)}});nodes=tmp}else{nodes=Y.Array(nodes,0,true)}}this._nodes=nodes||[]};NodeList.NAME="NodeList";NodeList.getDOMNodes=function(nodelist){return nodelist&&nodelist._nodes?nodelist._nodes:nodelist};NodeList.each=function(instance,fn,context){var nodes=instance._nodes;if(nodes&&nodes.length){Y.Array.each(nodes,fn,context||instance)}else{}};NodeList.addMethod=function(name,fn,context){if(name&&fn){NodeList.prototype[name]=function(){var ret=[],args=arguments;Y.Array.each(this._nodes,function(node){var UID=node.uniqueID&&node.nodeType!==9?"uniqueID":"_yuid",instance=Y.Node._instances[node[UID]],ctx,result;if(!instance){instance=NodeList._getTempNode(node)}ctx=context||instance;result=fn.apply(ctx,args);if(result!==undefined&&result!==instance){ret[ret.length]=result}});return ret.length?ret:this}}else{}};NodeList.importMethod=function(host,name,altName){if(typeof name==="string"){altName=altName||name;NodeList.addMethod(name,host[name])}else{Y.Array.each(name,function(n){NodeList.importMethod(host,n)})}};NodeList._getTempNode=function(node){var tmp=NodeList._tempNode;if(!tmp){tmp=Y.Node.create("<div></div>");NodeList._tempNode=tmp}tmp._node=node;tmp._stateProxy=node;return tmp};Y.mix(NodeList.prototype,{_invoke:function(method,args,getter){var ret=getter?[]:this;this.each(function(node){var val=node[method].apply(node,args);if(getter){ret.push(val)}});return ret},item:function(index){return Y.one((this._nodes||[])[index])},each:function(fn,context){var instance=this;Y.Array.each(this._nodes,function(node,index){node=Y.one(node);return fn.call(context||node,node,index,instance)});return instance},batch:function(fn,context){var nodelist=this;Y.Array.each(this._nodes,function(node,index){var instance=Y.Node._instances[node[UID]];if(!instance){instance=NodeList._getTempNode(node)}return fn.call(context||instance,instance,index,nodelist)});return nodelist},some:function(fn,context){var instance=this;return Y.Array.some(this._nodes,function(node,index){node=Y.one(node);context=context||node;return fn.call(context,node,index,instance)})},toFrag:function(){return Y.one(Y.DOM._nl2frag(this._nodes))},indexOf:function(node){return Y.Array.indexOf(this._nodes,Y.Node.getDOMNode(node))},filter:function(selector){return Y.all(Y.Selector.filter(this._nodes,selector))},modulus:function(n,r){r=r||0;var nodes=[];NodeList.each(this,function(node,i){if(i%n===r){nodes.push(node)}});return Y.all(nodes)},odd:function(){return this.modulus(2,1)},even:function(){return this.modulus(2)},destructor:function(){},refresh:function(){var doc,nodes=this._nodes,query=this._query,root=this._queryRoot;if(query){if(!root){if(nodes&&nodes[0]&&nodes[0].ownerDocument){root=nodes[0].ownerDocument}}this._nodes=Y.Selector.query(query,root)}return this},size:function(){return this._nodes.length},isEmpty:function(){return this._nodes.length<1},toString:function(){var str="",errorMsg=this[UID]+": not bound to any nodes",nodes=this._nodes,node;if(nodes&&nodes[0]){node=nodes[0];str+=node[NODE_NAME];if(node.id){str+="#"+node.id}if(node.className){str+="."+node.className.replace(" ",".")}if(nodes.length>1){str+="...["+nodes.length+" items]"}}return str||errorMsg},getDOMNodes:function(){return this._nodes}},true);NodeList.importMethod(Y.Node.prototype,["destroy","empty","remove","set"]);NodeList.prototype.get=function(attr){var ret=[],nodes=this._nodes,isNodeList=false,getTemp=NodeList._getTempNode,instance,val;if(nodes[0]){instance=Y.Node._instances[nodes[0]._yuid]||getTemp(nodes[0]);val=instance._get(attr);if(val&&val.nodeType){isNodeList=true}}Y.Array.each(nodes,function(node){instance=Y.Node._instances[node._yuid];if(!instance){instance=getTemp(node)}val=instance._get(attr);if(!isNodeList){val=Y.Node.scrubVal(val,instance)}ret.push(val)});return isNodeList?Y.all(ret):ret};Y.NodeList=NodeList;Y.all=function(nodes){return new NodeList(nodes)};Y.Node.all=Y.all;var Y_NodeList=Y.NodeList,ArrayProto=Array.prototype,ArrayMethods={concat:1,pop:0,push:0,shift:0,slice:1,splice:1,unshift:0};Y.Object.each(ArrayMethods,function(returnNodeList,name){Y_NodeList.prototype[name]=function(){var args=[],i=0,arg,ret;while(typeof(arg=arguments[i++])!="undefined"){args.push(arg._node||arg._nodes||arg)}ret=ArrayProto[name].apply(this._nodes,args);if(returnNodeList){ret=Y.all(ret)}else{ret=Y.Node.scrubVal(ret)}return ret}});Y.Array.each(["removeChild","hasChildNodes","cloneNode","hasAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select","createCaption"],function(method){Y.Node.prototype[method]=function(arg1,arg2,arg3){var ret=this.invoke(method,arg1,arg2,arg3);return ret}});Y.Node.prototype.removeAttribute=function(attr){var node=this._node;if(node){node.removeAttribute(attr,0)}return this};Y.Node.importMethod(Y.DOM,["contains","setAttribute","getAttribute","wrap","unwrap","generateID"]);Y.NodeList.importMethod(Y.Node.prototype,["getAttribute","setAttribute","removeAttribute","unwrap","wrap","generateID"])},"3.9.1",{requires:["dom-core","selector"]});YUI.add("node-base",function(Y,NAME){var methods=["hasClass","addClass","removeClass","replaceClass","toggleClass"];Y.Node.importMethod(Y.DOM,methods);Y.NodeList.importMethod(Y.Node.prototype,methods);var Y_Node=Y.Node,Y_DOM=Y.DOM;Y_Node.create=function(html,doc){if(doc&&doc._node){doc=doc._node}return Y.one(Y_DOM.create(html,doc))};Y.mix(Y_Node.prototype,{create:Y_Node.create,insert:function(content,where){this._insert(content,where);return this},_insert:function(content,where){var node=this._node,ret=null;if(typeof where=="number"){where=this._node.childNodes[where]}else if(where&&where._node){where=where._node}if(content&&typeof content!="string"){content=content._node||content._nodes||content}ret=Y_DOM.addHTML(node,content,where);return ret},prepend:function(content){return this.insert(content,0)},append:function(content){return this.insert(content,null)},appendChild:function(node){return Y_Node.scrubVal(this._insert(node))},insertBefore:function(newNode,refNode){return Y.Node.scrubVal(this._insert(newNode,refNode))},appendTo:function(node){Y.one(node).append(this);return this},setContent:function(content){this._insert(content,"replace");return this},getContent:function(content){return this.get("innerHTML")}});Y.Node.prototype.setHTML=Y.Node.prototype.setContent;Y.Node.prototype.getHTML=Y.Node.prototype.getContent;Y.NodeList.importMethod(Y.Node.prototype,["append","insert","appendChild","insertBefore","prepend","setContent","getContent","setHTML","getHTML"]);var Y_Node=Y.Node,Y_DOM=Y.DOM;Y_Node.ATTRS={text:{getter:function(){return Y_DOM.getText(this._node)},setter:function(content){Y_DOM.setText(this._node,content);return content}},"for":{getter:function(){return Y_DOM.getAttribute(this._node,"for")},setter:function(val){Y_DOM.setAttribute(this._node,"for",val);return val}},options:{getter:function(){return this._node.getElementsByTagName("option")}},children:{getter:function(){var node=this._node,children=node.children,childNodes,i,len;if(!children){childNodes=node.childNodes;children=[];for(i=0,len=childNodes.length;i<len;++i){if(childNodes[i].tagName){children[children.length]=childNodes[i]}}}return Y.all(children)}},value:{getter:function(){return Y_DOM.getValue(this._node)},setter:function(val){Y_DOM.setValue(this._node,val);return val}}};Y.Node.importMethod(Y.DOM,["setAttribute","getAttribute"]);var Y_Node=Y.Node;var Y_NodeList=Y.NodeList;Y_Node.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};Y.mix(Y_Node.DOM_EVENTS,Y.Env.evt.plugins);Y.augment(Y_Node,Y.EventTarget);Y.mix(Y_Node.prototype,{purge:function(recurse,type){Y.Event.purgeElement(this._node,recurse,type);return this}});Y.mix(Y.NodeList.prototype,{_prepEvtArgs:function(type,fn,context){var args=Y.Array(arguments,0,true);if(args.length<2){args[2]=this._nodes}else{args.splice(2,0,this._nodes)}args[3]=context||this;return args},on:function(type,fn,context){return Y.on.apply(Y,this._prepEvtArgs.apply(this,arguments))},once:function(type,fn,context){return Y.once.apply(Y,this._prepEvtArgs.apply(this,arguments))},after:function(type,fn,context){return Y.after.apply(Y,this._prepEvtArgs.apply(this,arguments))},onceAfter:function(type,fn,context){return Y.onceAfter.apply(Y,this._prepEvtArgs.apply(this,arguments))}});Y_NodeList.importMethod(Y.Node.prototype,["detach","detachAll"]);Y.mix(Y.Node.ATTRS,{offsetHeight:{setter:function(h){Y.DOM.setHeight(this._node,h);return h},getter:function(){return this._node.offsetHeight}},offsetWidth:{setter:function(w){Y.DOM.setWidth(this._node,w);return w},getter:function(){return this._node.offsetWidth}}});Y.mix(Y.Node.prototype,{sizeTo:function(w,h){var node;if(arguments.length<2){node=Y.one(w);w=node.get("offsetWidth");h=node.get("offsetHeight")}this.setAttrs({offsetWidth:w,offsetHeight:h})}});var Y_Node=Y.Node;Y.mix(Y_Node.prototype,{show:function(callback){callback=arguments[arguments.length-1];this.toggleView(true,callback);return this},_show:function(){this.setStyle("display","")},_isHidden:function(){return Y.DOM.getStyle(this._node,"display")==="none"},toggleView:function(on,callback){this._toggleView.apply(this,arguments);return this},_toggleView:function(on,callback){callback=arguments[arguments.length-1];if(typeof on!="boolean"){on=this._isHidden()?1:0}if(on){this._show()}else{this._hide()}if(typeof callback=="function"){callback.call(this)}return this},hide:function(callback){callback=arguments[arguments.length-1];this.toggleView(false,callback);return this},_hide:function(){this.setStyle("display","none")}});Y.NodeList.importMethod(Y.Node.prototype,["show","hide","toggleView"]);if(!Y.config.doc.documentElement.hasAttribute){Y.Node.prototype.hasAttribute=function(attr){if(attr==="value"){if(this.get("value")!==""){return true}}return!!(this._node.attributes[attr]&&this._node.attributes[attr].specified)}}Y.Node.prototype.focus=function(){try{this._node.focus()}catch(e){}return this};Y.Node.ATTRS.type={setter:function(val){if(val==="hidden"){try{this._node.type="hidden"}catch(e){this.setStyle("display","none");this._inputType="hidden"}}else{try{this._node.type=val}catch(e){}}return val},getter:function(){return this._inputType||this._node.type},_bypassProxy:true};if(Y.config.doc.createElement("form").elements.nodeType){Y.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select")}}}Y.mix(Y.Node.prototype,{_initData:function(){if(!("_data"in this)){this._data={}}},getData:function(name){this._initData();var data=this._data,ret=data;if(arguments.length){if(name in data){ret=data[name]}else{ret=this._getDataAttribute(name)}}else if(typeof data=="object"&&data!==null){ret={};Y.Object.each(data,function(v,n){ret[n]=v});ret=this._getDataAttributes(ret)}return ret},_getDataAttributes:function(ret){ret=ret||{};var i=0,attrs=this._node.attributes,len=attrs.length,prefix=this.DATA_PREFIX,prefixLength=prefix.length,name;while(i<len){name=attrs[i].name;if(name.indexOf(prefix)===0){name=name.substr(prefixLength);if(!(name in ret)){ret[name]=this._getDataAttribute(name)}}i+=1}return ret},_getDataAttribute:function(name){name=this.DATA_PREFIX+name;var node=this._node,attrs=node.attributes,data=attrs&&attrs[name]&&attrs[name].value;return data},setData:function(name,val){this._initData();if(arguments.length>1){this._data[name]=val}else{this._data=name}return this},clearData:function(name){if("_data"in this){if(typeof name!="undefined"){delete this._data[name]}else{delete this._data}}return this}});Y.mix(Y.NodeList.prototype,{getData:function(name){var args=arguments.length?[name]:[];return this._invoke("getData",args,true)},setData:function(name,val){var args=arguments.length>1?[name,val]:[name];return this._invoke("setData",args)},clearData:function(name){var args=arguments.length?[name]:[];return this._invoke("clearData",[name])}})},"3.9.1",{requires:["event-base","node-core","dom-base"]});(function(){var GLOBAL_ENV=YUI.Env;if(!GLOBAL_ENV._ready){GLOBAL_ENV._ready=function(){GLOBAL_ENV.DOMReady=true;GLOBAL_ENV.remove(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready)};GLOBAL_ENV.add(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready)}})();YUI.add("event-base",function(Y,NAME){Y.publish("domready",{fireOnce:true,async:true});if(YUI.Env.DOMReady){Y.fire("domready")}else{Y.Do.before(function(){Y.fire("domready")},YUI.Env,"_ready")}var ua=Y.UA,EMPTY={},webkitKeymap={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},resolve=function(n){if(!n){return n}try{if(n&&3==n.nodeType){n=n.parentNode}}catch(e){return null}return Y.one(n)},DOMEventFacade=function(ev,currentTarget,wrapper){this._event=ev;this._currentTarget=currentTarget;this._wrapper=wrapper||EMPTY;this.init()};Y.extend(DOMEventFacade,Object,{init:function(){var e=this._event,overrides=this._wrapper.overrides,x=e.pageX,y=e.pageY,c,currentTarget=this._currentTarget;this.altKey=e.altKey;this.ctrlKey=e.ctrlKey;this.metaKey=e.metaKey;this.shiftKey=e.shiftKey;this.type=overrides&&overrides.type||e.type;this.clientX=e.clientX;this.clientY=e.clientY;this.pageX=x;this.pageY=y;c=e.keyCode||e.charCode;if(ua.webkit&&c in webkitKeymap){c=webkitKeymap[c]}this.keyCode=c;this.charCode=c;this.which=e.which||e.charCode||c;this.button=this.which;this.target=resolve(e.target);this.currentTarget=resolve(currentTarget);this.relatedTarget=resolve(e.relatedTarget);if(e.type=="mousewheel"||e.type=="DOMMouseScroll"){this.wheelDelta=e.detail?e.detail*-1:Math.round(e.wheelDelta/80)||(e.wheelDelta<0?-1:1)}if(this._touch){this._touch(e,currentTarget,this._wrapper)}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1},stopImmediatePropagation:function(){var e=this._event;if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{this.stopPropagation()}this._wrapper.stopped=2;this.stopped=2},preventDefault:function(returnValue){var e=this._event;e.preventDefault();e.returnValue=returnValue||false;this._wrapper.prevented=1;this.prevented=1},halt:function(immediate){if(immediate){this.stopImmediatePropagation()}else{this.stopPropagation()}this.preventDefault()}});DOMEventFacade.resolve=resolve;Y.DOM2EventFacade=DOMEventFacade;Y.DOMEventFacade=DOMEventFacade;(function(){Y.Env.evt.dom_wrappers={};Y.Env.evt.dom_map={};var YDOM=Y.DOM,_eventenv=Y.Env.evt,config=Y.config,win=config.win,add=YUI.Env.add,remove=YUI.Env.remove,onLoad=function(){YUI.Env.windowLoaded=true;Y.Event._load();remove(win,"load",onLoad)},onUnload=function(){Y.Event._unload()},EVENT_READY="domready",COMPAT_ARG="~yui|2|compat~",shouldIterate=function(o){try{return o&&typeof o!=="string"&&Y.Lang.isNumber(o.length)&&!o.tagName&&!YDOM.isWindow(o)}catch(ex){return false}},_ceProtoDelete=Y.CustomEvent.prototype._delete,_deleteAndClean=function(s){var ret=_ceProtoDelete.apply(this,arguments);if(!this.hasSubs()){Y.Event._clean(this)}return ret},Event=function(){var _loadComplete=false,_retryCount=0,_avail=[],_wrappers=_eventenv.dom_wrappers,_windowLoadKey=null,_el_events=_eventenv.dom_map;return{POLL_RETRYS:1e3,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!Event._interval){Event._interval=setInterval(Event._poll,Event.POLL_INTERVAL)}},onAvailable:function(id,fn,p_obj,p_override,checkContent,compat){var a=Y.Array(id),i,availHandle;for(i=0;i<a.length;i=i+1){_avail.push({id:a[i],fn:fn,obj:p_obj,override:p_override,checkReady:checkContent,compat:compat})}_retryCount=this.POLL_RETRYS;setTimeout(Event._poll,0);availHandle=new Y.EventHandle({_delete:function(){if(availHandle.handle){availHandle.handle.detach();return}var i,j;for(i=0;i<a.length;i++){for(j=0;j<_avail.length;j++){if(a[i]===_avail[j].id){_avail.splice(j,1)}}}}});return availHandle},onContentReady:function(id,fn,obj,override,compat){return Event.onAvailable(id,fn,obj,override,true,compat)},attach:function(type,fn,el,context){return Event._attach(Y.Array(arguments,0,true))},_createWrapper:function(el,type,capture,compat,facade){var cewrapper,ek=Y.stamp(el),key="event:"+ek+type;if(false===facade){key+="native"}if(capture){key+="capture"}cewrapper=_wrappers[key];if(!cewrapper){cewrapper=Y.publish(key,{silent:true,bubbles:false,contextFn:function(){if(compat){return cewrapper.el}else{cewrapper.nodeRef=cewrapper.nodeRef||Y.one(cewrapper.el);return cewrapper.nodeRef}}});cewrapper.overrides={};cewrapper.el=el;cewrapper.key=key;cewrapper.domkey=ek;cewrapper.type=type;cewrapper.fn=function(e){cewrapper.fire(Event.getEvent(e,el,compat||false===facade))};cewrapper.capture=capture;if(el==win&&type=="load"){cewrapper.fireOnce=true;_windowLoadKey=key}cewrapper._delete=_deleteAndClean;_wrappers[key]=cewrapper;_el_events[ek]=_el_events[ek]||{};_el_events[ek][key]=cewrapper;add(el,type,cewrapper.fn,capture)}return cewrapper},_attach:function(args,conf){var compat,handles,oEl,cewrapper,context,fireNow=false,ret,type=args[0],fn=args[1],el=args[2]||win,facade=conf&&conf.facade,capture=conf&&conf.capture,overrides=conf&&conf.overrides;if(args[args.length-1]===COMPAT_ARG){compat=true}if(!fn||!fn.call){return false}if(shouldIterate(el)){handles=[];Y.each(el,function(v,k){args[2]=v;handles.push(Event._attach(args.slice(),conf))});return new Y.EventHandle(handles)}else if(Y.Lang.isString(el)){if(compat){oEl=YDOM.byId(el)}else{oEl=Y.Selector.query(el);switch(oEl.length){case 0:oEl=null;break;case 1:oEl=oEl[0];break;default:args[2]=oEl;return Event._attach(args,conf)}}if(oEl){el=oEl}else{ret=Event.onAvailable(el,function(){ret.handle=Event._attach(args,conf)},Event,true,false,compat);return ret}}if(!el){return false}if(Y.Node&&Y.instanceOf(el,Y.Node)){el=Y.Node.getDOMNode(el)}cewrapper=Event._createWrapper(el,type,capture,compat,facade);if(overrides){Y.mix(cewrapper.overrides,overrides)}if(el==win&&type=="load"){if(YUI.Env.windowLoaded){fireNow=true
}}if(compat){args.pop()}context=args[3];ret=cewrapper._on(fn,context,args.length>4?args.slice(4):null);if(fireNow){cewrapper.fire()}return ret},detach:function(type,fn,el,obj){var args=Y.Array(arguments,0,true),compat,l,ok,i,id,ce;if(args[args.length-1]===COMPAT_ARG){compat=true}if(type&&type.detach){return type.detach()}if(typeof el=="string"){if(compat){el=YDOM.byId(el)}else{el=Y.Selector.query(el);l=el.length;if(l<1){el=null}else if(l==1){el=el[0]}}}if(!el){return false}if(el.detach){args.splice(2,1);return el.detach.apply(el,args)}else if(shouldIterate(el)){ok=true;for(i=0,l=el.length;i<l;++i){args[2]=el[i];ok=Y.Event.detach.apply(Y.Event,args)&&ok}return ok}if(!type||!fn||!fn.call){return Event.purgeElement(el,false,type)}id="event:"+Y.stamp(el)+type;ce=_wrappers[id];if(ce){return ce.detach(fn)}else{return false}},getEvent:function(e,el,noFacade){var ev=e||win.event;return noFacade?ev:new Y.DOMEventFacade(ev,el,_wrappers["event:"+Y.stamp(el)+e.type])},generateId:function(el){return YDOM.generateID(el)},_isValidCollection:shouldIterate,_load:function(e){if(!_loadComplete){_loadComplete=true;if(Y.fire){Y.fire(EVENT_READY)}Event._poll()}},_poll:function(){if(Event.locked){return}if(Y.UA.ie&&!YUI.Env.DOMReady){Event.startInterval();return}Event.locked=true;var i,len,item,el,notAvail,executeItem,tryAgain=!_loadComplete;if(!tryAgain){tryAgain=_retryCount>0}notAvail=[];executeItem=function(el,item){var context,ov=item.override;try{if(item.compat){if(item.override){if(ov===true){context=item.obj}else{context=ov}}else{context=el}item.fn.call(context,item.obj)}else{context=item.obj||Y.one(el);item.fn.apply(context,Y.Lang.isArray(ov)?ov:[])}}catch(e){}};for(i=0,len=_avail.length;i<len;++i){item=_avail[i];if(item&&!item.checkReady){el=item.compat?YDOM.byId(item.id):Y.Selector.query(item.id,null,true);if(el){executeItem(el,item);_avail[i]=null}else{notAvail.push(item)}}}for(i=0,len=_avail.length;i<len;++i){item=_avail[i];if(item&&item.checkReady){el=item.compat?YDOM.byId(item.id):Y.Selector.query(item.id,null,true);if(el){if(_loadComplete||el.get&&el.get("nextSibling")||el.nextSibling){executeItem(el,item);_avail[i]=null}}else{notAvail.push(item)}}}_retryCount=notAvail.length===0?0:_retryCount-1;if(tryAgain){Event.startInterval()}else{clearInterval(Event._interval);Event._interval=null}Event.locked=false;return},purgeElement:function(el,recurse,type){var oEl=Y.Lang.isString(el)?Y.Selector.query(el,null,true):el,lis=Event.getListeners(oEl,type),i,len,children,child;if(recurse&&oEl){lis=lis||[];children=Y.Selector.query("*",oEl);len=children.length;for(i=0;i<len;++i){child=Event.getListeners(children[i],type);if(child){lis=lis.concat(child)}}}if(lis){for(i=0,len=lis.length;i<len;++i){lis[i].detachAll()}}},_clean:function(wrapper){var key=wrapper.key,domkey=wrapper.domkey;remove(wrapper.el,wrapper.type,wrapper.fn,wrapper.capture);delete _wrappers[key];delete Y._yuievt.events[key];if(_el_events[domkey]){delete _el_events[domkey][key];if(!Y.Object.size(_el_events[domkey])){delete _el_events[domkey]}}},getListeners:function(el,type){var ek=Y.stamp(el,true),evts=_el_events[ek],results=[],key=type?"event:"+ek+type:null,adapters=_eventenv.plugins;if(!evts){return null}if(key){if(adapters[type]&&adapters[type].eventDef){key+="_synth"}if(evts[key]){results.push(evts[key])}key+="native";if(evts[key]){results.push(evts[key])}}else{Y.each(evts,function(v,k){results.push(v)})}return results.length?results:null},_unload:function(e){Y.each(_wrappers,function(v,k){if(v.type=="unload"){v.fire(e)}v.detachAll()});remove(win,"unload",onUnload)},nativeAdd:add,nativeRemove:remove}}();Y.Event=Event;if(config.injected||YUI.Env.windowLoaded){onLoad()}else{add(win,"load",onLoad)}if(Y.UA.ie){Y.on(EVENT_READY,Event._poll)}try{add(win,"unload",onUnload)}catch(e){}Event.Custom=Y.CustomEvent;Event.Subscriber=Y.Subscriber;Event.Target=Y.EventTarget;Event.Handle=Y.EventHandle;Event.Facade=Y.EventFacade;Event._poll()})();Y.Env.evt.plugins.available={on:function(type,fn,id,o){var a=arguments.length>4?Y.Array(arguments,4,true):null;return Y.Event.onAvailable.call(Y.Event,id,fn,o,a)}};Y.Env.evt.plugins.contentready={on:function(type,fn,id,o){var a=arguments.length>4?Y.Array(arguments,4,true):null;return Y.Event.onContentReady.call(Y.Event,id,fn,o,a)}}},"3.9.1",{requires:["event-custom-base"]});YUI.add("io-form",function(Y,NAME){var eUC=encodeURIComponent;Y.IO.stringify=function(form,options){options=options||{};var s=Y.IO.prototype._serialize({id:form,useDisabled:options.useDisabled},options.extra&&typeof options.extra==="object"?Y.QueryString.stringify(options.extra):options.extra);return s};Y.mix(Y.IO.prototype,{_serialize:function(c,s){var data=[],df=c.useDisabled||false,item=0,id=typeof c.id==="string"?c.id:c.id.getAttribute("id"),e,f,n,v,d,i,il,j,jl,o;if(!id){id=Y.guid("io:");c.id.setAttribute("id",id)}f=Y.config.doc.getElementById(id);if(!f||!f.elements){return s||""}for(i=0,il=f.elements.length;i<il;++i){e=f.elements[i];d=e.disabled;n=e.name;if(df?n:n&&!d){n=eUC(n)+"=";v=eUC(e.value);switch(e.type){case"select-one":if(e.selectedIndex>-1){o=e.options[e.selectedIndex];data[item++]=n+eUC(o.attributes.value&&o.attributes.value.specified?o.value:o.text)}break;case"select-multiple":if(e.selectedIndex>-1){for(j=e.selectedIndex,jl=e.options.length;j<jl;++j){o=e.options[j];if(o.selected){data[item++]=n+eUC(o.attributes.value&&o.attributes.value.specified?o.value:o.text)}}}break;case"radio":case"checkbox":if(e.checked){data[item++]=n+v}break;case"file":case undefined:case"reset":case"button":break;case"submit":default:data[item++]=n+v}}}if(s){data[item++]=s}return data.join("&")}},true)},"3.9.1",{requires:["io-base","node-base"]});YUI.add("io-upload-iframe",function(Y,NAME){var w=Y.config.win,d=Y.config.doc,_std=d.documentMode&&d.documentMode>=8,_d=decodeURIComponent,_end=Y.IO.prototype.end;function _cFrame(o,c,io){var i=Y.Node.create('<iframe src="#" id="io_iframe'+o.id+'" name="io_iframe'+o.id+'" />');i._node.style.position="absolute";i._node.style.top="-1000px";i._node.style.left="-1000px";Y.one("body").appendChild(i);Y.on("load",function(){io._uploadComplete(o,c)},"#io_iframe"+o.id)}function _dFrame(id){Y.Event.purgeElement("#io_iframe"+id,false);Y.one("body").removeChild(Y.one("#io_iframe"+id))}Y.mix(Y.IO.prototype,{_addData:function(f,s){if(Y.Lang.isObject(s)){s=Y.QueryString.stringify(s)}var o=[],m=s.split("="),i,l;for(i=0,l=m.length-1;i<l;i++){o[i]=d.createElement("input");o[i].type="hidden";o[i].name=_d(m[i].substring(m[i].lastIndexOf("&")+1));o[i].value=i+1===l?_d(m[i+1]):_d(m[i+1].substring(0,m[i+1].lastIndexOf("&")));f.appendChild(o[i])}return o},_removeData:function(f,o){var i,l;for(i=0,l=o.length;i<l;i++){f.removeChild(o[i])}},_setAttrs:function(f,id,uri){f.setAttribute("action",uri);f.setAttribute("method","POST");f.setAttribute("target","io_iframe"+id);f.setAttribute(Y.UA.ie&&!_std?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(f,a){Y.Object.each(a,function(v,p){if(v){f.setAttribute(p,v)}else{f.removeAttribute(p)}})},_startUploadTimeout:function(o,c){var io=this;io._timeout[o.id]=w.setTimeout(function(){o.status=0;o.statusText="timeout";io.complete(o,c);io.end(o,c)},c.timeout)},_clearUploadTimeout:function(id){var io=this;w.clearTimeout(io._timeout[id]);delete io._timeout[id]},_uploadComplete:function(o,c){var io=this,d=Y.one("#io_iframe"+o.id).get("contentWindow.document"),b=d.one("body"),p;if(c.timeout){io._clearUploadTimeout(o.id)}try{if(b){p=b.one("pre:first-child");o.c.responseText=p?p.get("text"):b.get("text")}else{o.c.responseXML=d._node}}catch(e){o.e="upload failure"}io.complete(o,c);io.end(o,c);w.setTimeout(function(){_dFrame(o.id)},0)},_upload:function(o,uri,c){var io=this,f=typeof c.form.id==="string"?d.getElementById(c.form.id):c.form.id,attr={action:f.getAttribute("action"),target:f.getAttribute("target")},fields;io._setAttrs(f,o.id,uri);if(c.data){fields=io._addData(f,c.data)}if(c.timeout){io._startUploadTimeout(o,c)}f.submit();io.start(o,c);if(c.data){io._removeData(f,fields)}return{id:o.id,abort:function(){o.status=0;o.statusText="abort";if(Y.one("#io_iframe"+o.id)){_dFrame(o.id);io.complete(o,c);io.end(o,c,attr)}else{return false}},isInProgress:function(){return Y.one("#io_iframe"+o.id)?true:false},io:io}},upload:function(o,uri,c){_cFrame(o,c,this);return this._upload(o,uri,c)},end:function(transaction,config,attr){if(config&&config.form&&config.form.upload){var io=this;io._resetAttrs(f,attr)}return _end.call(this,transaction,config)}})},"3.9.1",{requires:["io-base","node-base"]});YUI.add("queue-promote",function(Y,NAME){Y.mix(Y.Queue.prototype,{indexOf:function(callback){return Y.Array.indexOf(this._q,callback)},promote:function(callback){var index=this.indexOf(callback);if(index>-1){this._q.unshift(this._q.splice(index,1)[0])}},remove:function(callback){var index=this.indexOf(callback);if(index>-1){this._q.splice(index,1)}}})},"3.9.1",{requires:["yui-base"]});YUI.add("io-queue",function(Y,NAME){var io=Y.io._map["io:0"]||new Y.IO;Y.mix(Y.IO.prototype,{_q:new Y.Queue,_qActiveId:null,_qInit:false,_qState:1,_qShift:function(){var io=this,o=io._q.next();io._qActiveId=o.id;io._qState=0;io.send(o.uri,o.cfg,o.id)},queue:function(uri,c){var io=this,o={uri:uri,cfg:c,id:this._id++};if(!io._qInit){Y.on("io:complete",function(id,o){io._qNext(id)},io);io._qInit=true}io._q.add(o);if(io._qState===1){io._qShift()}return o},_qNext:function(id){var io=this;io._qState=1;if(io._qActiveId===id&&io._q.size()>0){io._qShift()}},qPromote:function(o){this._q.promote(o)},qRemove:function(o){this._q.remove(o)},qEmpty:function(){this._q=new Y.Queue},qStart:function(){var io=this;io._qState=1;if(io._q.size()>0){io._qShift()}},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},true);function _queue(u,c){return io.queue.apply(io,[u,c])}_queue.start=function(){io.qStart()};_queue.stop=function(){io.qStop()};_queue.promote=function(o){io.qPromote(o)};_queue.remove=function(o){io.qRemove(o)};_queue.size=function(){io.qSize()};_queue.empty=function(){io.qEmpty()};Y.io.queue=_queue},"3.9.1",{requires:["io-base","queue-promote"]});YUI.add("json-parse",function(Y,NAME){var _JSON=Y.config.global.JSON;Y.namespace("JSON").parse=function(obj,reviver,space){return _JSON.parse(typeof obj==="string"?obj:obj+"",reviver,space)}},"3.9.1",{requires:["yui-base"]});YUI.add("attribute-core",function(Y,NAME){Y.State=function(){this.data={}};Y.State.prototype={add:function(name,key,val){var item=this.data[name];if(!item){item=this.data[name]={}}item[key]=val},addAll:function(name,obj){var item=this.data[name],key;if(!item){item=this.data[name]={}}for(key in obj){if(obj.hasOwnProperty(key)){item[key]=obj[key]}}},remove:function(name,key){var item=this.data[name];if(item){delete item[key]}},removeAll:function(name,obj){var data;if(!obj){data=this.data;if(name in data){delete data[name]}}else{Y.each(obj,function(value,key){this.remove(name,typeof key==="string"?key:value)},this)}},get:function(name,key){var item=this.data[name];if(item){return item[key]}},getAll:function(name,reference){var item=this.data[name],key,obj;if(reference){obj=item}else if(item){obj={};for(key in item){if(item.hasOwnProperty(key)){obj[key]=item[key]}}}return obj}};var O=Y.Object,Lang=Y.Lang,DOT=".",GETTER="getter",SETTER="setter",READ_ONLY="readOnly",WRITE_ONCE="writeOnce",INIT_ONLY="initOnly",VALIDATOR="validator",VALUE="value",VALUE_FN="valueFn",LAZY_ADD="lazyAdd",ADDED="added",BYPASS_PROXY="_bypassProxy",INITIALIZING="initializing",INIT_VALUE="initValue",LAZY="lazy",IS_LAZY_ADD="isLazyAdd",INVALID_VALUE;function AttributeCore(attrs,values,lazy){this._yuievt=null;this._initAttrHost(attrs,values,lazy)}AttributeCore.INVALID_VALUE={};INVALID_VALUE=AttributeCore.INVALID_VALUE;AttributeCore._ATTR_CFG=[SETTER,GETTER,VALIDATOR,VALUE,VALUE_FN,WRITE_ONCE,READ_ONLY,LAZY_ADD,BYPASS_PROXY];AttributeCore.protectAttrs=function(attrs){if(attrs){attrs=Y.merge(attrs);for(var attr in attrs){if(attrs.hasOwnProperty(attr)){attrs[attr]=Y.merge(attrs[attr])}}}return attrs};AttributeCore.prototype={_initAttrHost:function(attrs,values,lazy){this._state=new Y.State;this._initAttrs(attrs,values,lazy)},addAttr:function(name,config,lazy){var host=this,state=host._state,value,hasValue;config=config||{};lazy=LAZY_ADD in config?config[LAZY_ADD]:lazy;if(lazy&&!host.attrAdded(name)){state.addAll(name,{lazy:config,added:true})}else{if(!host.attrAdded(name)||state.get(name,IS_LAZY_ADD)){hasValue=VALUE in config;if(hasValue){value=config.value;delete config.value}config.added=true;config.initializing=true;state.addAll(name,config);if(hasValue){host.set(name,value)}state.remove(name,INITIALIZING)}}return host},attrAdded:function(name){return!!this._state.get(name,ADDED)},get:function(name){return this._getAttr(name)},_isLazyAttr:function(name){return this._state.get(name,LAZY)},_addLazyAttr:function(name){var state=this._state,lazyCfg=state.get(name,LAZY);state.add(name,IS_LAZY_ADD,true);state.remove(name,LAZY);this.addAttr(name,lazyCfg)},set:function(name,val,opts){return this._setAttr(name,val,opts)},_set:function(name,val,opts){return this._setAttr(name,val,opts,true)},_setAttr:function(name,val,opts,force){var allowSet=true,state=this._state,stateProxy=this._stateProxy,cfg,initialSet,strPath,path,currVal,writeOnce,initializing;if(name.indexOf(DOT)!==-1){strPath=name;path=name.split(DOT);name=path.shift()}if(this._isLazyAttr(name)){this._addLazyAttr(name)}cfg=state.getAll(name,true)||{};initialSet=!(VALUE in cfg);if(stateProxy&&name in stateProxy&&!cfg._bypassProxy){initialSet=false}writeOnce=cfg.writeOnce;initializing=cfg.initializing;if(!initialSet&&!force){if(writeOnce){allowSet=false}if(cfg.readOnly){allowSet=false}}if(!initializing&&!force&&writeOnce===INIT_ONLY){allowSet=false}if(allowSet){if(!initialSet){currVal=this.get(name)}if(path){val=O.setValue(Y.clone(currVal),path,val);if(val===undefined){allowSet=false}}if(allowSet){opts=opts||{};if(!this._fireAttrChange||initializing){this._setAttrVal(name,strPath,currVal,val,opts)}else{this._fireAttrChange(name,strPath,currVal,val,opts)}}}return this},_getAttr:function(name){var host=this,fullName=name,state=host._state,path,getter,val,cfg;if(name.indexOf(DOT)!==-1){path=name.split(DOT);name=path.shift()}if(host._tCfgs&&host._tCfgs[name]){cfg={};cfg[name]=host._tCfgs[name];delete host._tCfgs[name];host._addAttrs(cfg,host._tVals)}if(host._isLazyAttr(name)){host._addLazyAttr(name)}val=host._getStateVal(name);getter=state.get(name,GETTER);if(getter&&!getter.call){getter=this[getter]}val=getter?getter.call(host,val,fullName):val;val=path?O.getValue(val,path):val;return val},_getStateVal:function(name){var stateProxy=this._stateProxy;return stateProxy&&name in stateProxy&&!this._state.get(name,BYPASS_PROXY)?stateProxy[name]:this._state.get(name,VALUE)},_setStateVal:function(name,value){var stateProxy=this._stateProxy;if(stateProxy&&name in stateProxy&&!this._state.get(name,BYPASS_PROXY)){stateProxy[name]=value}else{this._state.add(name,VALUE,value)}},_setAttrVal:function(attrName,subAttrName,prevVal,newVal,opts){var host=this,allowSet=true,cfg=this._state.getAll(attrName,true)||{},validator=cfg.validator,setter=cfg.setter,initializing=cfg.initializing,prevRawVal=this._getStateVal(attrName),name=subAttrName||attrName,retVal,valid;if(validator){if(!validator.call){validator=this[validator]}if(validator){valid=validator.call(host,newVal,name,opts);if(!valid&&initializing){newVal=cfg.defaultValue;valid=true}}}if(!validator||valid){if(setter){if(!setter.call){setter=this[setter]}if(setter){retVal=setter.call(host,newVal,name,opts);if(retVal===INVALID_VALUE){if(initializing){newVal=cfg.defaultValue}else{allowSet=false}}else if(retVal!==undefined){newVal=retVal}}}if(allowSet){if(!subAttrName&&newVal===prevRawVal&&!Lang.isObject(newVal)){allowSet=false}else{if(!(INIT_VALUE in cfg)){cfg.initValue=newVal}host._setStateVal(attrName,newVal)}}}else{allowSet=false}return allowSet},setAttrs:function(attrs,opts){return this._setAttrs(attrs,opts)},_setAttrs:function(attrs,opts){var attr;for(attr in attrs){if(attrs.hasOwnProperty(attr)){this.set(attr,attrs[attr],opts)}}return this},getAttrs:function(attrs){return this._getAttrs(attrs)},_getAttrs:function(attrs){var obj={},attr,i,len,modifiedOnly=attrs===true;if(!attrs||modifiedOnly){attrs=O.keys(this._state.data)}for(i=0,len=attrs.length;i<len;i++){attr=attrs[i];if(!modifiedOnly||this._getStateVal(attr)!=this._state.get(attr,INIT_VALUE)){obj[attr]=this.get(attr)}}return obj},addAttrs:function(cfgs,values,lazy){var host=this;if(cfgs){host._tCfgs=cfgs;host._tVals=host._normAttrVals(values);host._addAttrs(cfgs,host._tVals,lazy);host._tCfgs=host._tVals=null}return host},_addAttrs:function(cfgs,values,lazy){var host=this,attr,attrCfg,value;for(attr in cfgs){if(cfgs.hasOwnProperty(attr)){attrCfg=cfgs[attr];attrCfg.defaultValue=attrCfg.value;value=host._getAttrInitVal(attr,attrCfg,host._tVals);if(value!==undefined){attrCfg.value=value}if(host._tCfgs[attr]){delete host._tCfgs[attr]}host.addAttr(attr,attrCfg,lazy)}}},_protectAttrs:AttributeCore.protectAttrs,_normAttrVals:function(valueHash){var vals={},subvals={},path,attr,v,k;if(valueHash){for(k in valueHash){if(valueHash.hasOwnProperty(k)){if(k.indexOf(DOT)!==-1){path=k.split(DOT);attr=path.shift();v=subvals[attr]=subvals[attr]||[];v[v.length]={path:path,value:valueHash[k]}}else{vals[k]=valueHash[k]}}}return{simple:vals,complex:subvals}}else{return null}},_getAttrInitVal:function(attr,cfg,initValues){var val=cfg.value,valFn=cfg.valueFn,tmpVal,initValSet=false,simple,complex,i,l,path,subval,subvals;if(!cfg.readOnly&&initValues){simple=initValues.simple;if(simple&&simple.hasOwnProperty(attr)){val=simple[attr];initValSet=true}}if(valFn&&!initValSet){if(!valFn.call){valFn=this[valFn]}if(valFn){tmpVal=valFn.call(this,attr);val=tmpVal}}if(!cfg.readOnly&&initValues){complex=initValues.complex;if(complex&&complex.hasOwnProperty(attr)&&val!==undefined&&val!==null){subvals=complex[attr];for(i=0,l=subvals.length;i<l;++i){path=subvals[i].path;subval=subvals[i].value;O.setValue(val,path,subval)}}}return val},_initAttrs:function(attrs,values,lazy){attrs=attrs||this.constructor.ATTRS;var Base=Y.Base,BaseCore=Y.BaseCore,baseInst=Base&&Y.instanceOf(this,Base),baseCoreInst=!baseInst&&BaseCore&&Y.instanceOf(this,BaseCore);if(attrs&&!baseInst&&!baseCoreInst){this.addAttrs(Y.AttributeCore.protectAttrs(attrs),values,lazy)}}};Y.AttributeCore=AttributeCore},"3.9.1",{requires:["oop"]});YUI.add("event-custom-complex",function(Y,NAME){var FACADE,FACADE_KEYS,key,EMPTY={},CEProto=Y.CustomEvent.prototype,ETProto=Y.EventTarget.prototype,mixFacadeProps=function(facade,payload){var p;for(p in payload){if(!FACADE_KEYS.hasOwnProperty(p)){facade[p]=payload[p]}}};Y.EventFacade=function(e,currentTarget){e=e||EMPTY;this._event=e;this.details=e.details;this.type=e.type;this._type=e.type;this.target=e.target;this.currentTarget=currentTarget;this.relatedTarget=e.relatedTarget};Y.mix(Y.EventFacade.prototype,{stopPropagation:function(){this._event.stopPropagation();this.stopped=1},stopImmediatePropagation:function(){this._event.stopImmediatePropagation();this.stopped=2},preventDefault:function(){this._event.preventDefault();this.prevented=1},halt:function(immediate){this._event.halt(immediate);this.prevented=1;this.stopped=immediate?2:1}});CEProto.fireComplex=function(args){var es,ef,q,queue,ce,ret,events,subs,postponed,self=this,host=self.host||self,next,oldbubble;if(self.stack){if(self.queuable&&self.type!=self.stack.next.type){self.stack.queue.push([self,args]);return true}}es=self.stack||{id:self.id,next:self,silent:self.silent,stopped:0,prevented:0,bubbling:null,type:self.type,afterQueue:new Y.Queue,defaultTargetOnly:self.defaultTargetOnly,queue:[]};subs=self.getSubs();self.stopped=self.type!==es.type?0:es.stopped;self.prevented=self.type!==es.type?0:es.prevented;self.target=self.target||host;if(self.stoppedFn){events=new Y.EventTarget({fireOnce:true,context:host});self.events=events;events.on("stopped",self.stoppedFn)}self.currentTarget=host;self.details=args.slice();self._facade=null;ef=self._getFacade(args);if(Y.Lang.isObject(args[0])){args[0]=ef}else{args.unshift(ef)}if(subs[0]){self._procSubs(subs[0],args,ef)}if(self.bubbles&&host.bubble&&!self.stopped){oldbubble=es.bubbling;es.bubbling=self.type;if(es.type!=self.type){es.stopped=0;es.prevented=0}ret=host.bubble(self,args,null,es);self.stopped=Math.max(self.stopped,es.stopped);self.prevented=Math.max(self.prevented,es.prevented);es.bubbling=oldbubble}if(self.prevented){if(self.preventedFn){self.preventedFn.apply(host,args)}}else if(self.defaultFn&&(!self.defaultTargetOnly&&!es.defaultTargetOnly||host===ef.target)){self.defaultFn.apply(host,args)}self._broadcast(args);if(subs[1]&&!self.prevented&&self.stopped<2){if(es.id===self.id||self.type!=host._yuievt.bubbling){self._procSubs(subs[1],args,ef);while(next=es.afterQueue.last()){next()}}else{postponed=subs[1];if(es.execDefaultCnt){postponed=Y.merge(postponed);Y.each(postponed,function(s){s.postponed=true})}es.afterQueue.add(function(){self._procSubs(postponed,args,ef)})}}self.target=null;if(es.id===self.id){queue=es.queue;while(queue.length){q=queue.pop();ce=q[0];es.next=ce;ce.fire.apply(ce,q[1])}self.stack=null}ret=!self.stopped;if(self.type!=host._yuievt.bubbling){es.stopped=0;es.prevented=0;self.stopped=0;self.prevented=0}self._facade=null;return ret};CEProto._getFacade=function(){var ef=this._facade,o,args=this.details;if(!ef){ef=new Y.EventFacade(this,this.currentTarget)}o=args&&args[0];if(Y.Lang.isObject(o,true)){mixFacadeProps(ef,o);ef.type=o.type||ef.type}ef.details=this.details;ef.target=this.originalTarget||this.target;ef.currentTarget=this.currentTarget;ef.stopped=0;ef.prevented=0;this._facade=ef;return this._facade};CEProto.stopPropagation=function(){this.stopped=1;if(this.stack){this.stack.stopped=1}if(this.events){this.events.fire("stopped",this)}};CEProto.stopImmediatePropagation=function(){this.stopped=2;if(this.stack){this.stack.stopped=2}if(this.events){this.events.fire("stopped",this)}};CEProto.preventDefault=function(){if(this.preventable){this.prevented=1;if(this.stack){this.stack.prevented=1}}};CEProto.halt=function(immediate){if(immediate){this.stopImmediatePropagation()}else{this.stopPropagation()}this.preventDefault()};ETProto.addTarget=function(o){this._yuievt.targets[Y.stamp(o)]=o;this._yuievt.hasTargets=true};ETProto.getTargets=function(){return Y.Object.values(this._yuievt.targets)};ETProto.removeTarget=function(o){delete this._yuievt.targets[Y.stamp(o)]};ETProto.bubble=function(evt,args,target,es){var targs=this._yuievt.targets,ret=true,t,type=evt&&evt.type,ce,i,bc,ce2,originalTarget=target||evt&&evt.target||this,oldbubble;if(!evt||!evt.stopped&&targs){for(i in targs){if(targs.hasOwnProperty(i)){t=targs[i];ce=t.getEvent(type,true);ce2=t.getSibling(type,ce);if(ce2&&!ce){ce=t.publish(type)}oldbubble=t._yuievt.bubbling;t._yuievt.bubbling=type;if(!ce){if(t._yuievt.hasTargets){t.bubble(evt,args,originalTarget,es)}}else{ce.sibling=ce2;ce.target=originalTarget;ce.originalTarget=originalTarget;ce.currentTarget=t;bc=ce.broadcast;ce.broadcast=false;ce.emitFacade=true;ce.stack=es;ret=ret&&ce.fire.apply(ce,args||evt.details||[]);ce.broadcast=bc;ce.originalTarget=null;if(ce.stopped){break}}t._yuievt.bubbling=oldbubble}}}return ret};FACADE=new Y.EventFacade;FACADE_KEYS={};for(key in FACADE){FACADE_KEYS[key]=true}},"3.9.1",{requires:["event-custom-base"]});YUI.add("attribute-observable",function(Y,NAME){var EventTarget=Y.EventTarget,CHANGE="Change",BROADCAST="broadcast",PUBLISHED="published";function AttributeObservable(){this._ATTR_E_FACADE={};EventTarget.call(this,{emitFacade:true})}AttributeObservable._ATTR_CFG=[BROADCAST];AttributeObservable.prototype={set:function(name,val,opts){return this._setAttr(name,val,opts)},_set:function(name,val,opts){return this._setAttr(name,val,opts,true)},setAttrs:function(attrs,opts){return this._setAttrs(attrs,opts)},_setAttrs:function(attrs,opts){var attr;for(attr in attrs){if(attrs.hasOwnProperty(attr)){this.set(attr,attrs[attr],opts)}}return this},_fireAttrChange:function(attrName,subAttrName,currVal,newVal,opts){var host=this,eventName=attrName+CHANGE,state=host._state,facade,broadcast,evtCfg;if(!state.get(attrName,PUBLISHED)){evtCfg={queuable:false,defaultTargetOnly:true,defaultFn:host._defAttrChangeFn,silent:true};broadcast=state.get(attrName,BROADCAST);if(broadcast!==undefined){evtCfg.broadcast=broadcast}host.publish(eventName,evtCfg);state.add(attrName,PUBLISHED,true)}facade=opts?Y.merge(opts):host._ATTR_E_FACADE;facade.attrName=attrName;facade.subAttrName=subAttrName;facade.prevVal=currVal;facade.newVal=newVal;host.fire(eventName,facade)},_defAttrChangeFn:function(e){if(!this._setAttrVal(e.attrName,e.subAttrName,e.prevVal,e.newVal,e.opts)){e.stopImmediatePropagation()}else{e.newVal=this.get(e.attrName)}}};Y.mix(AttributeObservable,EventTarget,false,null,1);Y.AttributeObservable=AttributeObservable;Y.AttributeEvents=AttributeObservable},"3.9.1",{requires:["event-custom"]});YUI.add("attribute-extras",function(Y,NAME){var BROADCAST="broadcast",PUBLISHED="published",INIT_VALUE="initValue",MODIFIABLE={readOnly:1,writeOnce:1,getter:1,broadcast:1};function AttributeExtras(){}AttributeExtras.prototype={modifyAttr:function(name,config){var host=this,prop,state;if(host.attrAdded(name)){if(host._isLazyAttr(name)){host._addLazyAttr(name)}state=host._state;for(prop in config){if(MODIFIABLE[prop]&&config.hasOwnProperty(prop)){state.add(name,prop,config[prop]);if(prop===BROADCAST){state.remove(name,PUBLISHED)}}}}},removeAttr:function(name){this._state.removeAll(name)},reset:function(name){var host=this;if(name){if(host._isLazyAttr(name)){host._addLazyAttr(name)}host.set(name,host._state.get(name,INIT_VALUE))}else{Y.each(host._state.data,function(v,n){host.reset(n)})}return host},_getAttrCfg:function(name){var o,state=this._state;if(name){o=state.getAll(name)||{}}else{o={};Y.each(state.data,function(v,n){o[n]=state.getAll(n)})}return o}};Y.AttributeExtras=AttributeExtras},"3.9.1",{requires:["oop"]});YUI.add("attribute-base",function(Y,NAME){function Attribute(){Y.AttributeCore.apply(this,arguments);Y.AttributeObservable.apply(this,arguments);Y.AttributeExtras.apply(this,arguments)}Y.mix(Attribute,Y.AttributeCore,false,null,1);Y.mix(Attribute,Y.AttributeExtras,false,null,1);Y.mix(Attribute,Y.AttributeObservable,true,null,1);Attribute.INVALID_VALUE=Y.AttributeCore.INVALID_VALUE;Attribute._ATTR_CFG=Y.AttributeCore._ATTR_CFG.concat(Y.AttributeObservable._ATTR_CFG);Attribute.protectAttrs=Y.AttributeCore.protectAttrs;Y.Attribute=Attribute},"3.9.1",{requires:["attribute-core","attribute-observable","attribute-extras"]});YUI.add("base-core",function(Y,NAME){var O=Y.Object,L=Y.Lang,DOT=".",INITIALIZED="initialized",DESTROYED="destroyed",INITIALIZER="initializer",VALUE="value",OBJECT_CONSTRUCTOR=Object.prototype.constructor,DEEP="deep",SHALLOW="shallow",DESTRUCTOR="destructor",AttributeCore=Y.AttributeCore,_wlmix=function(r,s,wlhash){var p;for(p in s){if(wlhash[p]){r[p]=s[p]}}return r};function BaseCore(cfg){if(!this._BaseInvoked){this._BaseInvoked=true;this._initBase(cfg)}}BaseCore._ATTR_CFG=AttributeCore._ATTR_CFG.concat("cloneDefaultValue");BaseCore._NON_ATTRS_CFG=["plugins"];BaseCore.NAME="baseCore";BaseCore.ATTRS={initialized:{readOnly:true,value:false},destroyed:{readOnly:true,value:false}};BaseCore.prototype={_initBase:function(config){Y.stamp(this);this._initAttribute(config);var PluginHost=Y.Plugin&&Y.Plugin.Host;if(this._initPlugins&&PluginHost){PluginHost.call(this)}if(this._lazyAddAttrs!==false){this._lazyAddAttrs=true}this.name=this.constructor.NAME;this.init.apply(this,arguments)},_initAttribute:function(){AttributeCore.call(this)},init:function(cfg){this._baseInit(cfg);return this},_baseInit:function(cfg){this._initHierarchy(cfg);if(this._initPlugins){this._initPlugins(cfg)}this._set(INITIALIZED,true)},destroy:function(){this._baseDestroy();return this},_baseDestroy:function(){if(this._destroyPlugins){this._destroyPlugins()}this._destroyHierarchy();this._set(DESTROYED,true)},_getClasses:function(){if(!this._classes){this._initHierarchyData()}return this._classes},_getAttrCfgs:function(){if(!this._attrs){this._initHierarchyData()}return this._attrs},_filterAttrCfgs:function(clazz,allCfgs){var cfgs=null,attr,attrs=clazz.ATTRS;if(attrs){for(attr in attrs){if(allCfgs[attr]){cfgs=cfgs||{};cfgs[attr]=allCfgs[attr];allCfgs[attr]=null}}}return cfgs},_filterAdHocAttrs:function(allAttrs,userVals){var adHocs,nonAttrs=this._nonAttrs,attr;if(userVals){adHocs={};for(attr in userVals){if(!allAttrs[attr]&&!nonAttrs[attr]&&userVals.hasOwnProperty(attr)){adHocs[attr]={value:userVals[attr]}}}}return adHocs},_initHierarchyData:function(){var ctor=this.constructor,c,i,l,attrCfg,attrCfgHash,needsAttrCfgHash=!ctor._ATTR_CFG_HASH,nonAttrsCfg,nonAttrs=this._allowAdHocAttrs?{}:null,classes=[],attrs=[];c=ctor;while(c){classes[classes.length]=c;if(c.ATTRS){attrs[attrs.length]=c.ATTRS}if(needsAttrCfgHash){attrCfg=c._ATTR_CFG;attrCfgHash=attrCfgHash||{};if(attrCfg){for(i=0,l=attrCfg.length;i<l;i+=1){attrCfgHash[attrCfg[i]]=true}}}if(this._allowAdHocAttrs){nonAttrsCfg=c._NON_ATTRS_CFG;if(nonAttrsCfg){for(i=0,l=nonAttrsCfg.length;i<l;i++){nonAttrs[nonAttrsCfg[i]]=true}}}c=c.superclass?c.superclass.constructor:null}if(needsAttrCfgHash){ctor._ATTR_CFG_HASH=attrCfgHash}this._classes=classes;this._nonAttrs=nonAttrs;this._attrs=this._aggregateAttrs(attrs)},_attrCfgHash:function(){return this.constructor._ATTR_CFG_HASH},_aggregateAttrs:function(allAttrs){var attr,attrs,cfg,val,path,i,clone,cfgPropsHash=this._attrCfgHash(),aggAttr,aggAttrs={};if(allAttrs){for(i=allAttrs.length-1;i>=0;--i){attrs=allAttrs[i];for(attr in attrs){if(attrs.hasOwnProperty(attr)){cfg=_wlmix({},attrs[attr],cfgPropsHash);val=cfg.value;clone=cfg.cloneDefaultValue;if(val){if(clone===undefined&&(OBJECT_CONSTRUCTOR===val.constructor||L.isArray(val))||clone===DEEP||clone===true){cfg.value=Y.clone(val)}else if(clone===SHALLOW){cfg.value=Y.merge(val)}}path=null;if(attr.indexOf(DOT)!==-1){path=attr.split(DOT);attr=path.shift()}aggAttr=aggAttrs[attr];if(path&&aggAttr&&aggAttr.value){O.setValue(aggAttr.value,path,val)}else if(!path){if(!aggAttr){aggAttrs[attr]=cfg}else{if(aggAttr.valueFn&&VALUE in cfg){aggAttr.valueFn=null}_wlmix(aggAttr,cfg,cfgPropsHash)}}}}}}return aggAttrs},_initHierarchy:function(userVals){var lazy=this._lazyAddAttrs,constr,constrProto,ci,ei,el,extProto,exts,classes=this._getClasses(),attrCfgs=this._getAttrCfgs(),cl=classes.length-1;for(ci=cl;ci>=0;ci--){constr=classes[ci];constrProto=constr.prototype;exts=constr._yuibuild&&constr._yuibuild.exts;if(exts){for(ei=0,el=exts.length;ei<el;ei++){exts[ei].apply(this,arguments)}}this.addAttrs(this._filterAttrCfgs(constr,attrCfgs),userVals,lazy);if(this._allowAdHocAttrs&&ci===cl){this.addAttrs(this._filterAdHocAttrs(attrCfgs,userVals),userVals,lazy)}if(constrProto.hasOwnProperty(INITIALIZER)){constrProto.initializer.apply(this,arguments)}if(exts){for(ei=0;ei<el;ei++){extProto=exts[ei].prototype;if(extProto.hasOwnProperty(INITIALIZER)){extProto.initializer.apply(this,arguments)}}}}},_destroyHierarchy:function(){var constr,constrProto,ci,cl,ei,el,exts,extProto,classes=this._getClasses();for(ci=0,cl=classes.length;ci<cl;ci++){constr=classes[ci];constrProto=constr.prototype;exts=constr._yuibuild&&constr._yuibuild.exts;if(exts){for(ei=0,el=exts.length;ei<el;ei++){extProto=exts[ei].prototype;if(extProto.hasOwnProperty(DESTRUCTOR)){extProto.destructor.apply(this,arguments)}}}if(constrProto.hasOwnProperty(DESTRUCTOR)){constrProto.destructor.apply(this,arguments)}}},toString:function(){return this.name+"["+Y.stamp(this,true)+"]"}};Y.mix(BaseCore,AttributeCore,false,null,1);BaseCore.prototype.constructor=BaseCore;Y.BaseCore=BaseCore},"3.9.1",{requires:["attribute-core"]});YUI.add("base-observable",function(Y,NAME){var L=Y.Lang,DESTROY="destroy",INIT="init",BUBBLETARGETS="bubbleTargets",_BUBBLETARGETS="_bubbleTargets",AttributeObservable=Y.AttributeObservable,BaseCore=Y.BaseCore;
function BaseObservable(){}BaseObservable._ATTR_CFG=AttributeObservable._ATTR_CFG.concat();BaseObservable._NON_ATTRS_CFG=["on","after","bubbleTargets"];BaseObservable.prototype={_initAttribute:function(cfg){BaseCore.prototype._initAttribute.apply(this,arguments);AttributeObservable.call(this);this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME;this._yuievt.config.prefix=this._eventPrefix},init:function(config){this.publish(INIT,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defInitFn});this._preInitEventCfg(config);this.fire(INIT,{cfg:config});return this},_preInitEventCfg:function(config){if(config){if(config.on){this.on(config.on)}if(config.after){this.after(config.after)}}var i,l,target,userTargets=config&&BUBBLETARGETS in config;if(userTargets||_BUBBLETARGETS in this){target=userTargets?config&&config.bubbleTargets:this._bubbleTargets;if(L.isArray(target)){for(i=0,l=target.length;i<l;i++){this.addTarget(target[i])}}else if(target){this.addTarget(target)}}},destroy:function(){this.publish(DESTROY,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defDestroyFn});this.fire(DESTROY);this.detachAll();return this},_defInitFn:function(e){this._baseInit(e.cfg)},_defDestroyFn:function(e){this._baseDestroy(e.cfg)}};Y.mix(BaseObservable,AttributeObservable,false,null,1);Y.BaseObservable=BaseObservable},"3.9.1",{requires:["attribute-observable"]});YUI.add("base-base",function(Y,NAME){var AttributeCore=Y.AttributeCore,AttributeExtras=Y.AttributeExtras,BaseCore=Y.BaseCore,BaseObservable=Y.BaseObservable;function Base(){BaseCore.apply(this,arguments);BaseObservable.apply(this,arguments);AttributeExtras.apply(this,arguments)}Base._ATTR_CFG=BaseCore._ATTR_CFG.concat(BaseObservable._ATTR_CFG);Base._NON_ATTRS_CFG=BaseCore._NON_ATTRS_CFG.concat(BaseObservable._NON_ATTRS_CFG);Base.NAME="base";Base.ATTRS=AttributeCore.protectAttrs(BaseCore.ATTRS);Y.mix(Base,BaseCore,false,null,1);Y.mix(Base,AttributeExtras,false,null,1);Y.mix(Base,BaseObservable,true,null,1);Base.prototype.constructor=Base;Y.Base=Base},"3.9.1",{requires:["attribute-base","base-core","base-observable"]});YUI.add("base-build",function(Y,NAME){var BaseCore=Y.BaseCore,Base=Y.Base,L=Y.Lang,INITIALIZER="initializer",DESTRUCTOR="destructor",AGGREGATES=["_PLUG","_UNPLUG"],build;function arrayAggregator(prop,r,s){if(s[prop]){r[prop]=(r[prop]||[]).concat(s[prop])}}function attrCfgAggregator(prop,r,s){if(s._ATTR_CFG){arrayAggregator.apply(null,arguments);r._ATTR_CFG_HASH=null}}function attrsAggregator(prop,r,s){var sAttrs,rAttrs,a;r.ATTRS=r.ATTRS||{};if(s.ATTRS){sAttrs=s.ATTRS;rAttrs=r.ATTRS;for(a in sAttrs){if(sAttrs.hasOwnProperty(a)){rAttrs[a]=rAttrs[a]||{};Y.mix(rAttrs[a],sAttrs[a],true)}}}}Base._build=function(name,main,extensions,px,sx,cfg){var build=Base._build,builtClass=build._ctor(main,cfg),buildCfg=build._cfg(main,cfg,extensions),_mixCust=build._mixCust,dynamic=builtClass._yuibuild.dynamic,i,l,extClass,extProto,initializer,destructor;for(i=0,l=extensions.length;i<l;i++){extClass=extensions[i];extProto=extClass.prototype;initializer=extProto[INITIALIZER];destructor=extProto[DESTRUCTOR];delete extProto[INITIALIZER];delete extProto[DESTRUCTOR];Y.mix(builtClass,extClass,true,null,1);_mixCust(builtClass,extClass,buildCfg);if(initializer){extProto[INITIALIZER]=initializer}if(destructor){extProto[DESTRUCTOR]=destructor}builtClass._yuibuild.exts.push(extClass)}if(px){Y.mix(builtClass.prototype,px,true)}if(sx){Y.mix(builtClass,build._clean(sx,buildCfg),true);_mixCust(builtClass,sx,buildCfg)}builtClass.prototype.hasImpl=build._impl;if(dynamic){builtClass.NAME=name;builtClass.prototype.constructor=builtClass}return builtClass};build=Base._build;Y.mix(build,{_mixCust:function(r,s,cfg){var aggregates,custom,statics,aggr,l,i;if(cfg){aggregates=cfg.aggregates;custom=cfg.custom;statics=cfg.statics}if(statics){Y.mix(r,s,true,statics)}if(aggregates){for(i=0,l=aggregates.length;i<l;i++){aggr=aggregates[i];if(!r.hasOwnProperty(aggr)&&s.hasOwnProperty(aggr)){r[aggr]=L.isArray(s[aggr])?[]:{}}Y.aggregate(r,s,true,[aggr])}}if(custom){for(i in custom){if(custom.hasOwnProperty(i)){custom[i](i,r,s)}}}},_tmpl:function(main){function BuiltClass(){BuiltClass.superclass.constructor.apply(this,arguments)}Y.extend(BuiltClass,main);return BuiltClass},_impl:function(extClass){var classes=this._getClasses(),i,l,cls,exts,ll,j;for(i=0,l=classes.length;i<l;i++){cls=classes[i];if(cls._yuibuild){exts=cls._yuibuild.exts;ll=exts.length;for(j=0;j<ll;j++){if(exts[j]===extClass){return true}}}}return false},_ctor:function(main,cfg){var dynamic=cfg&&false===cfg.dynamic?false:true,builtClass=dynamic?build._tmpl(main):main,buildCfg=builtClass._yuibuild;if(!buildCfg){buildCfg=builtClass._yuibuild={}}buildCfg.id=buildCfg.id||null;buildCfg.exts=buildCfg.exts||[];buildCfg.dynamic=dynamic;return builtClass},_cfg:function(main,cfg,exts){var aggr=[],cust={},statics=[],buildCfg,cfgAggr=cfg&&cfg.aggregates,cfgCustBuild=cfg&&cfg.custom,cfgStatics=cfg&&cfg.statics,c=main,i,l;while(c&&c.prototype){buildCfg=c._buildCfg;if(buildCfg){if(buildCfg.aggregates){aggr=aggr.concat(buildCfg.aggregates)}if(buildCfg.custom){Y.mix(cust,buildCfg.custom,true)}if(buildCfg.statics){statics=statics.concat(buildCfg.statics)}}c=c.superclass?c.superclass.constructor:null}if(exts){for(i=0,l=exts.length;i<l;i++){c=exts[i];buildCfg=c._buildCfg;if(buildCfg){if(buildCfg.aggregates){aggr=aggr.concat(buildCfg.aggregates)}if(buildCfg.custom){Y.mix(cust,buildCfg.custom,true)}if(buildCfg.statics){statics=statics.concat(buildCfg.statics)}}}}if(cfgAggr){aggr=aggr.concat(cfgAggr)}if(cfgCustBuild){Y.mix(cust,cfg.cfgBuild,true)}if(cfgStatics){statics=statics.concat(cfgStatics)}return{aggregates:aggr,custom:cust,statics:statics}},_clean:function(sx,cfg){var prop,i,l,sxclone=Y.merge(sx),aggregates=cfg.aggregates,custom=cfg.custom;for(prop in custom){if(sxclone.hasOwnProperty(prop)){delete sxclone[prop]}}for(i=0,l=aggregates.length;i<l;i++){prop=aggregates[i];if(sxclone.hasOwnProperty(prop)){delete sxclone[prop]}}return sxclone}});Base.build=function(name,main,extensions,cfg){return build(name,main,extensions,null,null,cfg)};Base.create=function(name,base,extensions,px,sx){return build(name,base,extensions,px,sx)};Base.mix=function(main,extensions){return build(null,main,extensions,null,null,{dynamic:false})};BaseCore._buildCfg={custom:{ATTRS:attrsAggregator,_ATTR_CFG:attrCfgAggregator,_NON_ATTRS_CFG:arrayAggregator},aggregates:AGGREGATES.concat()};Base._buildCfg={custom:{ATTRS:attrsAggregator,_ATTR_CFG:attrCfgAggregator,_NON_ATTRS_CFG:arrayAggregator},aggregates:AGGREGATES.concat()}},"3.9.1",{requires:["base-base"]});YUI.add("event-delegate",function(Y,NAME){var toArray=Y.Array,YLang=Y.Lang,isString=YLang.isString,isObject=YLang.isObject,isArray=YLang.isArray,selectorTest=Y.Selector.test,detachCategories=Y.Env.evt.handles;function delegate(type,fn,el,filter){var args=toArray(arguments,0,true),query=isString(el)?el:null,typeBits,synth,container,categories,cat,i,len,handles,handle;if(isObject(type)){handles=[];if(isArray(type)){for(i=0,len=type.length;i<len;++i){args[0]=type[i];handles.push(Y.delegate.apply(Y,args))}}else{args.unshift(null);for(i in type){if(type.hasOwnProperty(i)){args[0]=i;args[1]=type[i];handles.push(Y.delegate.apply(Y,args))}}}return new Y.EventHandle(handles)}typeBits=type.split(/\|/);if(typeBits.length>1){cat=typeBits.shift();args[0]=type=typeBits.shift()}synth=Y.Node.DOM_EVENTS[type];if(isObject(synth)&&synth.delegate){handle=synth.delegate.apply(synth,arguments)}if(!handle){if(!type||!fn||!el||!filter){return}container=query?Y.Selector.query(query,null,true):el;if(!container&&isString(el)){handle=Y.on("available",function(){Y.mix(handle,Y.delegate.apply(Y,args),true)},el)}if(!handle&&container){args.splice(2,2,container);handle=Y.Event._attach(args,{facade:false});handle.sub.filter=filter;handle.sub._notify=delegate.notifySub}}if(handle&&cat){categories=detachCategories[cat]||(detachCategories[cat]={});categories=categories[type]||(categories[type]=[]);categories.push(handle)}return handle}delegate.notifySub=function(thisObj,args,ce){args=args.slice();if(this.args){args.push.apply(args,this.args)}var currentTarget=delegate._applyFilter(this.filter,args,ce),e,i,len,ret;if(currentTarget){currentTarget=toArray(currentTarget);e=args[0]=new Y.DOMEventFacade(args[0],ce.el,ce);e.container=Y.one(ce.el);for(i=0,len=currentTarget.length;i<len&&!e.stopped;++i){e.currentTarget=Y.one(currentTarget[i]);ret=this.fn.apply(this.context||e.currentTarget,args);if(ret===false){break}}return ret}};delegate.compileFilter=Y.cached(function(selector){return function(target,e){return selectorTest(target._node,selector,e.currentTarget===e.target?null:e.currentTarget._node)}});delegate._disabledRE=/^(?:button|input|select|textarea)$/i;delegate._applyFilter=function(filter,args,ce){var e=args[0],container=ce.el,target=e.target||e.srcElement,match=[],isContainer=false;if(target.nodeType===3){target=target.parentNode}if(target.disabled&&delegate._disabledRE.test(target.nodeName)){return match}args.unshift(target);if(isString(filter)){while(target){isContainer=target===container;if(selectorTest(target,filter,isContainer?null:container)){match.push(target)}if(isContainer){break}target=target.parentNode}}else{args[0]=Y.one(target);args[1]=new Y.DOMEventFacade(e,container,ce);while(target){if(filter.apply(args[0],args)){match.push(target)}if(target===container){break}target=target.parentNode;args[0]=Y.one(target)}args[1]=e}if(match.length<=1){match=match[0]}args.shift();return match};Y.delegate=Y.Event.delegate=delegate},"3.9.1",{requires:["node-base"]});YUI.add("node-event-delegate",function(Y,NAME){Y.Node.prototype.delegate=function(type){var args=Y.Array(arguments,0,true),index=Y.Lang.isObject(type)&&!Y.Lang.isArray(type)?1:2;args.splice(index,0,this._node);return Y.delegate.apply(Y,args)}},"3.9.1",{requires:["node-base","event-delegate"]});YUI.add("array-extras",function(Y,NAME){var A=Y.Array,L=Y.Lang,ArrayProto=Array.prototype;A.lastIndexOf=L._isNative(ArrayProto.lastIndexOf)?function(a,val,fromIndex){return fromIndex||fromIndex===0?a.lastIndexOf(val,fromIndex):a.lastIndexOf(val)}:function(a,val,fromIndex){var len=a.length,i=len-1;if(fromIndex||fromIndex===0){i=Math.min(fromIndex<0?len+fromIndex:fromIndex,len)}if(i>-1&&len>0){for(;i>-1;--i){if(i in a&&a[i]===val){return i}}}return-1};A.unique=function(array,testFn){var i=0,len=array.length,results=[],j,result,resultLen,value;outerLoop:for(;i<len;i++){value=array[i];for(j=0,resultLen=results.length;j<resultLen;j++){result=results[j];if(testFn){if(testFn.call(array,value,result,i,array)){continue outerLoop}}else if(value===result){continue outerLoop}}results.push(value)}return results};A.filter=L._isNative(ArrayProto.filter)?function(a,f,o){return ArrayProto.filter.call(a,f,o)}:function(a,f,o){var i=0,len=a.length,results=[],item;for(;i<len;++i){if(i in a){item=a[i];if(f.call(o,item,i,a)){results.push(item)}}}return results};A.reject=function(a,f,o){return A.filter(a,function(item,i,a){return!f.call(o,item,i,a)})};A.every=L._isNative(ArrayProto.every)?function(a,f,o){return ArrayProto.every.call(a,f,o)}:function(a,f,o){for(var i=0,l=a.length;i<l;++i){if(i in a&&!f.call(o,a[i],i,a)){return false}}return true};A.map=L._isNative(ArrayProto.map)?function(a,f,o){return ArrayProto.map.call(a,f,o)}:function(a,f,o){var i=0,len=a.length,results=ArrayProto.concat.call(a);for(;i<len;++i){if(i in a){results[i]=f.call(o,a[i],i,a)}}return results};A.reduce=L._isNative(ArrayProto.reduce)?function(a,init,f,o){return ArrayProto.reduce.call(a,function(init,item,i,a){return f.call(o,init,item,i,a)},init)}:function(a,init,f,o){var i=0,len=a.length,result=init;for(;i<len;++i){if(i in a){result=f.call(o,result,a[i],i,a)}}return result};A.find=function(a,f,o){for(var i=0,l=a.length;i<l;i++){if(i in a&&f.call(o,a[i],i,a)){return a[i]}}return null};A.grep=function(a,pattern){return A.filter(a,function(item,index){return pattern.test(item)})};A.partition=function(a,f,o){var results={matches:[],rejects:[]};A.each(a,function(item,index){var set=f.call(o,item,index,a)?results.matches:results.rejects;set.push(item)});return results};A.zip=function(a,a2){var results=[];A.each(a,function(item,index){results.push([item,a2[index]])});return results};A.flatten=function(a){var result=[],i,len,val;if(!a){return result}for(i=0,len=a.length;i<len;++i){val=a[i];if(L.isArray(val)){result.push.apply(result,A.flatten(val))}else{result.push(val)}}return result}},"3.9.1",{requires:["yui-base"]});YUI.add("event-synthetic",function(Y,NAME){var CustomEvent=Y.CustomEvent,DOMMap=Y.Env.evt.dom_map,toArray=Y.Array,YLang=Y.Lang,isObject=YLang.isObject,isString=YLang.isString,isArray=YLang.isArray,query=Y.Selector.query,noop=function(){};function Notifier(handle,emitFacade){this.handle=handle;this.emitFacade=emitFacade}Notifier.prototype.fire=function(e){var args=toArray(arguments,0,true),handle=this.handle,ce=handle.evt,sub=handle.sub,thisObj=sub.context,delegate=sub.filter,event=e||{},ret;if(this.emitFacade){if(!e||!e.preventDefault){event=ce._getFacade();if(isObject(e)&&!e.preventDefault){Y.mix(event,e,true);args[0]=event}else{args.unshift(event)}}event.type=ce.type;event.details=args.slice();if(delegate){event.container=ce.host}}else if(delegate&&isObject(e)&&e.currentTarget){args.shift()}sub.context=thisObj||event.currentTarget||ce.host;ret=ce.fire.apply(ce,args);sub.context=thisObj;return ret};function SynthRegistry(el,yuid,key){this.handles=[];this.el=el;this.key=key;this.domkey=yuid}SynthRegistry.prototype={constructor:SynthRegistry,type:"_synth",fn:noop,capture:false,register:function(handle){handle.evt.registry=this;this.handles.push(handle)},unregister:function(sub){var handles=this.handles,events=DOMMap[this.domkey],i;for(i=handles.length-1;i>=0;--i){if(handles[i].sub===sub){handles.splice(i,1);break}}if(!handles.length){delete events[this.key];if(!Y.Object.size(events)){delete DOMMap[this.domkey]}}},detachAll:function(){var handles=this.handles,i=handles.length;while(--i>=0){handles[i].detach()}}};function SyntheticEvent(){this._init.apply(this,arguments)}Y.mix(SyntheticEvent,{Notifier:Notifier,SynthRegistry:SynthRegistry,getRegistry:function(node,type,create){var el=node._node,yuid=Y.stamp(el),key="event:"+yuid+type+"_synth",events=DOMMap[yuid];if(create){if(!events){events=DOMMap[yuid]={}}if(!events[key]){events[key]=new SynthRegistry(el,yuid,key)}}return events&&events[key]||null},_deleteSub:function(sub){if(sub&&sub.fn){var synth=this.eventDef,method=sub.filter?"detachDelegate":"detach";this._subscribers=[];if(CustomEvent.keepDeprecatedSubs){this.subscribers={}}synth[method](sub.node,sub,this.notifier,sub.filter);this.registry.unregister(sub);delete sub.fn;delete sub.node;delete sub.context}},prototype:{constructor:SyntheticEvent,_init:function(){var config=this.publishConfig||(this.publishConfig={});this.emitFacade="emitFacade"in config?config.emitFacade:true;config.emitFacade=false},processArgs:noop,on:noop,detach:noop,delegate:noop,detachDelegate:noop,_on:function(args,delegate){var handles=[],originalArgs=args.slice(),extra=this.processArgs(args,delegate),selector=args[2],method=delegate?"delegate":"on",nodes,handle;nodes=isString(selector)?query(selector):toArray(selector||Y.one(Y.config.win));if(!nodes.length&&isString(selector)){handle=Y.on("available",function(){Y.mix(handle,Y[method].apply(Y,originalArgs),true)},selector);return handle}Y.Array.each(nodes,function(node){var subArgs=args.slice(),filter;node=Y.one(node);if(node){if(delegate){filter=subArgs.splice(3,1)[0]}subArgs.splice(0,4,subArgs[1],subArgs[3]);if(!this.preventDups||!this.getSubs(node,args,null,true)){handles.push(this._subscribe(node,method,subArgs,extra,filter))}}},this);return handles.length===1?handles[0]:new Y.EventHandle(handles)},_subscribe:function(node,method,args,extra,filter){var dispatcher=new Y.CustomEvent(this.type,this.publishConfig),handle=dispatcher.on.apply(dispatcher,args),notifier=new Notifier(handle,this.emitFacade),registry=SyntheticEvent.getRegistry(node,this.type,true),sub=handle.sub;sub.node=node;sub.filter=filter;if(extra){this.applyArgExtras(extra,sub)}Y.mix(dispatcher,{eventDef:this,notifier:notifier,host:node,currentTarget:node,target:node,el:node._node,_delete:SyntheticEvent._deleteSub},true);handle.notifier=notifier;registry.register(handle);this[method](node,sub,notifier,filter);return handle},applyArgExtras:function(extra,sub){sub._extra=extra},_detach:function(args){var target=args[2],els=isString(target)?query(target):toArray(target),node,i,len,handles,j;args.splice(2,1);for(i=0,len=els.length;i<len;++i){node=Y.one(els[i]);if(node){handles=this.getSubs(node,args);if(handles){for(j=handles.length-1;j>=0;--j){handles[j].detach()}}}}},getSubs:function(node,args,filter,first){var registry=SyntheticEvent.getRegistry(node,this.type),handles=[],allHandles,i,len,handle;if(registry){allHandles=registry.handles;if(!filter){filter=this.subMatch}for(i=0,len=allHandles.length;i<len;++i){handle=allHandles[i];if(filter.call(this,handle.sub,args)){if(first){return handle}else{handles.push(allHandles[i])}}}}return handles.length&&handles},subMatch:function(sub,args){return!args[1]||sub.fn===args[1]}}},true);Y.SyntheticEvent=SyntheticEvent;Y.Event.define=function(type,config,force){var eventDef,Impl,synth;if(type&&type.type){eventDef=type;force=config}else if(config){eventDef=Y.merge({type:type},config)}if(eventDef){if(force||!Y.Node.DOM_EVENTS[eventDef.type]){Impl=function(){SyntheticEvent.apply(this,arguments)};Y.extend(Impl,SyntheticEvent,eventDef);synth=new Impl;type=synth.type;Y.Node.DOM_EVENTS[type]=Y.Env.evt.plugins[type]={eventDef:synth,on:function(){return synth._on(toArray(arguments))},delegate:function(){return synth._on(toArray(arguments),true)},detach:function(){return synth._detach(toArray(arguments))}}}}else if(isString(type)||isArray(type)){Y.Array.each(toArray(type),function(t){Y.Node.DOM_EVENTS[t]=1})}return synth}},"3.9.1",{requires:["node-base","event-custom-complex"]});YUI.add("yui-later",function(Y,NAME){var NO_ARGS=[];Y.later=function(when,o,fn,data,periodic){when=when||0;data=!Y.Lang.isUndefined(data)?Y.Array(data):NO_ARGS;o=o||Y.config.win||Y;var cancelled=false,method=o&&Y.Lang.isString(fn)?o[fn]:fn,wrapper=function(){if(!cancelled){if(!method.apply){method(data[0],data[1],data[2],data[3])}else{method.apply(o,data||NO_ARGS)}}},id=periodic?setInterval(wrapper,when):setTimeout(wrapper,when);return{id:id,interval:periodic,cancel:function(){cancelled=true;if(this.interval){clearInterval(id)}else{clearTimeout(id)}}}};Y.Lang.later=Y.later},"3.9.1",{requires:["yui-base"]});YUI.add("view",function(Y,NAME){function View(){View.superclass.constructor.apply(this,arguments)}Y.View=Y.extend(View,Y.Base,{containerTemplate:"<div/>",events:{},template:"",_allowAdHocAttrs:true,initializer:function(config){config||(config={});config.containerTemplate&&(this.containerTemplate=config.containerTemplate);config.template&&(this.template=config.template);this.events=config.events?Y.merge(this.events,config.events):this.events;this.after("containerChange",this._afterContainerChange)},destroy:function(options){if(options&&(options.remove||options["delete"])){this.onceAfter("destroy",function(){this._destroyContainer()})}return View.superclass.destroy.call(this)},destructor:function(){this.detachEvents();delete this._container},attachEvents:function(events){var container=this.get("container"),owns=Y.Object.owns,handler,handlers,name,selector;this.detachEvents();events||(events=this.events);for(selector in events){if(!owns(events,selector)){continue}handlers=events[selector];for(name in handlers){if(!owns(handlers,name)){continue}handler=handlers[name];if(typeof handler==="string"){handler=this[handler]}if(!handler){continue}this._attachedViewEvents.push(container.delegate(name,handler,selector,this))}}return this},create:function(container){return container?Y.one(container):Y.Node.create(this.containerTemplate)},detachEvents:function(){Y.Array.each(this._attachedViewEvents,function(handle){if(handle){handle.detach()}});this._attachedViewEvents=[];return this},remove:function(){var container=this.get("container");container&&container.remove();return this},render:function(){return this},_destroyContainer:function(){var container=this.get("container");container&&container.remove(true)},_getContainer:function(value){if(!this._container){if(value){this._container=value;this.attachEvents()}else{value=this._container=this.create();this._set("container",value)}}return value},_afterContainerChange:function(){this.attachEvents(this.events)}},{NAME:"view",ATTRS:{container:{getter:"_getContainer",setter:Y.one,writeOnce:true}},_NON_ATTRS_CFG:["containerTemplate","events","template"]})},"3.9.1",{requires:["base-build","node-event-delegate"]});YUI.add("classnamemanager",function(Y,NAME){var CLASS_NAME_PREFIX="classNamePrefix",CLASS_NAME_DELIMITER="classNameDelimiter",CONFIG=Y.config;CONFIG[CLASS_NAME_PREFIX]=CONFIG[CLASS_NAME_PREFIX]||"yui3";CONFIG[CLASS_NAME_DELIMITER]=CONFIG[CLASS_NAME_DELIMITER]||"-";Y.ClassNameManager=function(){var sPrefix=CONFIG[CLASS_NAME_PREFIX],sDelimiter=CONFIG[CLASS_NAME_DELIMITER];return{getClassName:Y.cached(function(){var args=Y.Array(arguments);if(args[args.length-1]!==true){args.unshift(sPrefix)}else{args.pop()}return args.join(sDelimiter)})}}()},"3.9.1",{requires:["yui-base"]});YUI.add("history-base",function(Y,NAME){var Lang=Y.Lang,Obj=Y.Object,GlobalEnv=YUI.namespace("Env.History"),YArray=Y.Array,doc=Y.config.doc,docMode=doc.documentMode,win=Y.config.win,DEFAULT_OPTIONS={merge:true},EVT_CHANGE="change",SRC_ADD="add",SRC_REPLACE="replace";function HistoryBase(){this._init.apply(this,arguments)}Y.augment(HistoryBase,Y.EventTarget,null,null,{emitFacade:true,prefix:"history",preventable:false,queueable:true});if(!GlobalEnv._state){GlobalEnv._state={}}function _isSimpleObject(value){return Lang.type(value)==="object"}HistoryBase.NAME="historyBase";HistoryBase.SRC_ADD=SRC_ADD;HistoryBase.SRC_REPLACE=SRC_REPLACE;HistoryBase.html5=!!(win.history&&win.history.pushState&&win.history.replaceState&&("onpopstate"in win||Y.UA.gecko>=2)&&(!Y.UA.android||Y.UA.android>=2.4));HistoryBase.nativeHashChange=("onhashchange"in win||"onhashchange"in doc)&&(!docMode||docMode>7);Y.mix(HistoryBase.prototype,{_init:function(config){var initialState;config=this._config=config||{};this.force=!!config.force;initialState=this._initialState=this._initialState||config.initialState||null;this.publish(EVT_CHANGE,{broadcast:2,defaultFn:this._defChangeFn});if(initialState){this.replace(initialState)}},add:function(){var args=YArray(arguments,0,true);args.unshift(SRC_ADD);return this._change.apply(this,args)},addValue:function(key,value,options){var state={};state[key]=value;return this._change(SRC_ADD,state,options)},get:function(key){var state=GlobalEnv._state,isObject=_isSimpleObject(state);if(key){return isObject&&Obj.owns(state,key)?state[key]:undefined}else{return isObject?Y.mix({},state,true):state}},replace:function(){var args=YArray(arguments,0,true);args.unshift(SRC_REPLACE);return this._change.apply(this,args)},replaceValue:function(key,value,options){var state={};state[key]=value;return this._change(SRC_REPLACE,state,options)},_change:function(src,state,options){options=options?Y.merge(DEFAULT_OPTIONS,options):DEFAULT_OPTIONS;if(options.merge&&_isSimpleObject(state)&&_isSimpleObject(GlobalEnv._state)){state=Y.merge(GlobalEnv._state,state)}this._resolveChanges(src,state,options);return this},_fireEvents:function(src,changes,options){this.fire(EVT_CHANGE,{_options:options,changed:changes.changed,newVal:changes.newState,prevVal:changes.prevState,removed:changes.removed,src:src});Obj.each(changes.changed,function(value,key){this._fireChangeEvent(src,key,value)},this);Obj.each(changes.removed,function(value,key){this._fireRemoveEvent(src,key,value)},this)},_fireChangeEvent:function(src,key,value){this.fire(key+"Change",{newVal:value.newVal,prevVal:value.prevVal,src:src})},_fireRemoveEvent:function(src,key,value){this.fire(key+"Remove",{prevVal:value,src:src})},_resolveChanges:function(src,newState,options){var changed={},isChanged,prevState=GlobalEnv._state,removed={};newState||(newState={});options||(options={});if(_isSimpleObject(newState)&&_isSimpleObject(prevState)){Obj.each(newState,function(newVal,key){var prevVal=prevState[key];if(newVal!==prevVal){changed[key]={newVal:newVal,prevVal:prevVal};isChanged=true}},this);Obj.each(prevState,function(prevVal,key){if(!Obj.owns(newState,key)||newState[key]===null){delete newState[key];removed[key]=prevVal;isChanged=true}},this)}else{isChanged=newState!==prevState}if(isChanged||this.force){this._fireEvents(src,{changed:changed,newState:newState,prevState:prevState,removed:removed},options)}},_storeState:function(src,newState){GlobalEnv._state=newState||{}},_defChangeFn:function(e){this._storeState(e.src,e.newVal,e._options)}},true);Y.HistoryBase=HistoryBase},"3.9.1",{requires:["event-custom-complex"]});YUI.add("history-html5",function(Y,NAME){var HistoryBase=Y.HistoryBase,Lang=Y.Lang,win=Y.config.win,useHistoryHTML5=Y.config.useHistoryHTML5,SRC_POPSTATE="popstate",SRC_REPLACE=HistoryBase.SRC_REPLACE;function HistoryHTML5(){HistoryHTML5.superclass.constructor.apply(this,arguments)}Y.extend(HistoryHTML5,HistoryBase,{_init:function(config){var bookmarkedState=win.history.state;if(Y.Object.isEmpty(bookmarkedState)){bookmarkedState=null}config||(config={});if(config.initialState&&Lang.type(config.initialState)==="object"&&Lang.type(bookmarkedState)==="object"){this._initialState=Y.merge(config.initialState,bookmarkedState)}else{this._initialState=bookmarkedState}Y.on("popstate",this._onPopState,win,this);HistoryHTML5.superclass._init.apply(this,arguments)},_storeState:function(src,newState,options){if(src!==SRC_POPSTATE){win.history[src===SRC_REPLACE?"replaceState":"pushState"](newState,options.title||Y.config.doc.title||"",options.url||null)}HistoryHTML5.superclass._storeState.apply(this,arguments)},_onPopState:function(e){this._resolveChanges(SRC_POPSTATE,e._event.state||null)}},{NAME:"historyhtml5",SRC_POPSTATE:SRC_POPSTATE});if(!Y.Node.DOM_EVENTS.popstate){Y.Node.DOM_EVENTS.popstate=1}Y.HistoryHTML5=HistoryHTML5;if(useHistoryHTML5===true||useHistoryHTML5!==false&&HistoryBase.html5){Y.History=HistoryHTML5}},"3.9.1",{optional:["json"],requires:["event-base","history-base","node-base"]});YUI.add("history-hash",function(Y,NAME){var HistoryBase=Y.HistoryBase,Lang=Y.Lang,YArray=Y.Array,YObject=Y.Object,GlobalEnv=YUI.namespace("Env.HistoryHash"),SRC_HASH="hash",hashNotifiers,oldHash,oldUrl,win=Y.config.win,useHistoryHTML5=Y.config.useHistoryHTML5;function HistoryHash(){HistoryHash.superclass.constructor.apply(this,arguments)}Y.extend(HistoryHash,HistoryBase,{_init:function(config){var bookmarkedState=HistoryHash.parseHash();config=config||{};this._initialState=config.initialState?Y.merge(config.initialState,bookmarkedState):bookmarkedState;Y.after("hashchange",Y.bind(this._afterHashChange,this),win);HistoryHash.superclass._init.apply(this,arguments)},_change:function(src,state,options){YObject.each(state,function(value,key){if(Lang.isValue(value)){state[key]=value.toString()}});return HistoryHash.superclass._change.call(this,src,state,options)},_storeState:function(src,newState){var decode=HistoryHash.decode,newHash=HistoryHash.createHash(newState);HistoryHash.superclass._storeState.apply(this,arguments);if(src!==SRC_HASH&&decode(HistoryHash.getHash())!==decode(newHash)){HistoryHash[src===HistoryBase.SRC_REPLACE?"replaceHash":"setHash"](newHash)}},_afterHashChange:function(e){this._resolveChanges(SRC_HASH,HistoryHash.parseHash(e.newHash),{})}},{NAME:"historyHash",SRC_HASH:SRC_HASH,hashPrefix:"",_REGEX_HASH:/([^\?#&]+)=([^&]+)/g,createHash:function(params){var encode=HistoryHash.encode,hash=[];YObject.each(params,function(value,key){if(Lang.isValue(value)){hash.push(encode(key)+"="+encode(value))}});return hash.join("&")},decode:function(string){return decodeURIComponent(string.replace(/\+/g," "))},encode:function(string){return encodeURIComponent(string).replace(/%20/g,"+")},getHash:Y.UA.gecko?function(){var location=Y.getLocation(),matches=/#(.*)$/.exec(location.href),hash=matches&&matches[1]||"",prefix=HistoryHash.hashPrefix;return prefix&&hash.indexOf(prefix)===0?hash.replace(prefix,""):hash}:function(){var location=Y.getLocation(),hash=location.hash.substring(1),prefix=HistoryHash.hashPrefix;return prefix&&hash.indexOf(prefix)===0?hash.replace(prefix,""):hash},getUrl:function(){return location.href},parseHash:function(hash){var decode=HistoryHash.decode,i,len,matches,param,params={},prefix=HistoryHash.hashPrefix,prefixIndex;hash=Lang.isValue(hash)?hash:HistoryHash.getHash();if(prefix){prefixIndex=hash.indexOf(prefix);if(prefixIndex===0||prefixIndex===1&&hash.charAt(0)==="#"){hash=hash.replace(prefix,"")}}matches=hash.match(HistoryHash._REGEX_HASH)||[];for(i=0,len=matches.length;i<len;++i){param=matches[i].split("=");params[decode(param[0])]=decode(param[1])}return params},replaceHash:function(hash){var location=Y.getLocation(),base=location.href.replace(/#.*$/,"");if(hash.charAt(0)==="#"){hash=hash.substring(1)}location.replace(base+"#"+(HistoryHash.hashPrefix||"")+hash)},setHash:function(hash){var location=Y.getLocation();if(hash.charAt(0)==="#"){hash=hash.substring(1)}location.hash=(HistoryHash.hashPrefix||"")+hash}});hashNotifiers=GlobalEnv._notifiers;if(!hashNotifiers){hashNotifiers=GlobalEnv._notifiers=[]}Y.Event.define("hashchange",{on:function(node,subscriber,notifier){if(node.compareTo(win)||node.compareTo(Y.config.doc.body)){hashNotifiers.push(notifier)}},detach:function(node,subscriber,notifier){var index=YArray.indexOf(hashNotifiers,notifier);if(index!==-1){hashNotifiers.splice(index,1)}}});oldHash=HistoryHash.getHash();oldUrl=HistoryHash.getUrl();if(HistoryBase.nativeHashChange){if(!GlobalEnv._hashHandle){GlobalEnv._hashHandle=Y.Event.attach("hashchange",function(e){var newHash=HistoryHash.getHash(),newUrl=HistoryHash.getUrl();YArray.each(hashNotifiers.concat(),function(notifier){notifier.fire({_event:e,oldHash:oldHash,oldUrl:oldUrl,newHash:newHash,newUrl:newUrl})});oldHash=newHash;oldUrl=newUrl},win)}}else{if(!GlobalEnv._hashPoll){GlobalEnv._hashPoll=Y.later(50,null,function(){var newHash=HistoryHash.getHash(),facade,newUrl;if(oldHash!==newHash){newUrl=HistoryHash.getUrl();facade={oldHash:oldHash,oldUrl:oldUrl,newHash:newHash,newUrl:newUrl};oldHash=newHash;oldUrl=newUrl;YArray.each(hashNotifiers.concat(),function(notifier){notifier.fire(facade)})}},null,true)}}Y.HistoryHash=HistoryHash;if(useHistoryHTML5===false||!Y.History&&useHistoryHTML5!==true&&(!HistoryBase.html5||!Y.HistoryHTML5)){Y.History=HistoryHash}},"3.9.1",{requires:["event-synthetic","history-base","yui-later"]});YUI.add("history-hash-ie",function(Y,NAME){if(Y.UA.ie&&!Y.HistoryBase.nativeHashChange){var Do=Y.Do,GlobalEnv=YUI.namespace("Env.HistoryHash"),HistoryHash=Y.HistoryHash,iframe=GlobalEnv._iframe,win=Y.config.win;HistoryHash.getIframeHash=function(){if(!iframe||!iframe.contentWindow){return""}var prefix=HistoryHash.hashPrefix,hash=iframe.contentWindow.location.hash.substr(1);return prefix&&hash.indexOf(prefix)===0?hash.replace(prefix,""):hash};HistoryHash._updateIframe=function(hash,replace){var iframeDoc=iframe&&iframe.contentWindow&&iframe.contentWindow.document,iframeLocation=iframeDoc&&iframeDoc.location;if(!iframeDoc||!iframeLocation){return}if(replace){iframeLocation.replace(hash.charAt(0)==="#"?hash:"#"+hash)}else{iframeDoc.open().close();iframeLocation.hash=hash}};Do.before(HistoryHash._updateIframe,HistoryHash,"replaceHash",HistoryHash,true);if(!iframe){Y.on("domready",function(){var lastUrlHash=HistoryHash.getHash();iframe=GlobalEnv._iframe=Y.Node.getDOMNode(Y.Node.create('<iframe src="javascript:0" style="display:none" height="0" width="0" tabindex="-1" title="empty"/>'));Y.config.doc.documentElement.appendChild(iframe);HistoryHash._updateIframe(lastUrlHash||"#");
Y.on("hashchange",function(e){lastUrlHash=e.newHash;if(HistoryHash.getIframeHash()!==lastUrlHash){HistoryHash._updateIframe(lastUrlHash)}},win);Y.later(50,null,function(){var iframeHash=HistoryHash.getIframeHash();if(iframeHash!==lastUrlHash){HistoryHash.setHash(iframeHash)}},null,true)})}}},"3.9.1",{requires:["history-hash","node-base"]});YUI.add("router",function(Y,NAME){var HistoryHash=Y.HistoryHash,QS=Y.QueryString,YArray=Y.Array,win=Y.config.win,instances=[],saveQueue=[],EVT_READY="ready";function Router(){Router.superclass.constructor.apply(this,arguments)}Y.Router=Y.extend(Router,Y.Base,{_regexPathParam:/([:*])([\w\-]+)?/g,_regexUrlQuery:/\?([^#]*).*$/,_regexUrlOrigin:/^(?:[^\/#?:]+:\/\/|\/\/)[^\/]*/,initializer:function(config){var self=this;self._html5=self.get("html5");self._routes=[];self._url=self._getURL();self._setRoutes(config&&config.routes?config.routes:self.get("routes"));if(self._html5){self._history=new Y.HistoryHTML5({force:true});self._historyEvents=Y.after("history:change",self._afterHistoryChange,self)}else{self._historyEvents=Y.on("hashchange",self._afterHistoryChange,win,self)}self.publish(EVT_READY,{defaultFn:self._defReadyFn,fireOnce:true,preventable:false});self.once("initializedChange",function(){Y.once("load",function(){setTimeout(function(){self.fire(EVT_READY,{dispatched:!!self._dispatched})},20)})});instances.push(this)},destructor:function(){var instanceIndex=YArray.indexOf(instances,this);if(instanceIndex>-1){instances.splice(instanceIndex,1)}if(this._historyEvents){this._historyEvents.detach()}},dispatch:function(){this.once(EVT_READY,function(){this._ready=true;if(this._html5&&this.upgrade()){return}else{this._dispatch(this._getPath(),this._getURL())}});return this},getPath:function(){return this._getPath()},hasRoute:function(url){var path;if(!this._hasSameOrigin(url)){return false}if(!this._html5){url=this._upgradeURL(url)}path=this.removeQuery(this.removeRoot(url));return!!this.match(path).length},match:function(path){return YArray.filter(this._routes,function(route){return path.search(route.regex)>-1})},removeRoot:function(url){var root=this.get("root");url=url.replace(this._regexUrlOrigin,"");if(root&&url.indexOf(root)===0){url=url.substring(root.length)}return url.charAt(0)==="/"?url:"/"+url},removeQuery:function(url){return url.replace(/\?.*$/,"")},replace:function(url){return this._queue(url,true)},route:function(path,callbacks){callbacks=YArray.flatten(YArray(arguments,1,true));var keys=[];this._routes.push({callbacks:callbacks,keys:keys,path:path,regex:this._getRegex(path,keys),callback:callbacks[0]});return this},save:function(url){return this._queue(url)},upgrade:function(){if(!this._html5){return false}var hashPath=this._getHashPath();if(hashPath){this.once(EVT_READY,function(){this.replace(hashPath)});return true}return false},_decode:function(string){return decodeURIComponent(string.replace(/\+/g," "))},_dequeue:function(){var self=this,fn;if(!YUI.Env.windowLoaded){Y.once("load",function(){self._dequeue()});return this}fn=saveQueue.shift();return fn?fn():this},_dispatch:function(path,url,src){var self=this,decode=self._decode,routes=self.match(path),callbacks=[],matches,req,res;self._dispatching=self._dispatched=true;if(!routes||!routes.length){self._dispatching=false;return self}req=self._getRequest(path,url,src);res=self._getResponse(req);req.next=function(err){var callback,name,route;if(err){if(err==="route"){callbacks=[];req.next()}else{Y.error(err)}}else if(callback=callbacks.shift()){if(typeof callback==="string"){name=callback;callback=self[name];if(!callback){Y.error("Router: Callback not found: "+name,null,"router")}}req.pendingCallbacks=callbacks.length;callback.call(self,req,res,req.next)}else if(route=routes.shift()){callbacks=route.callbacks.concat();matches=YArray.map(route.regex.exec(path)||[],decode);if(matches.length===route.keys.length+1){req.params=YArray.hash(route.keys,matches.slice(1))}else{req.params=matches.concat()}req.pendingRoutes=routes.length;req.next()}};req.next();self._dispatching=false;return self._dequeue()},_getHashPath:function(hash){hash||(hash=HistoryHash.getHash());if(hash&&hash.charAt(0)==="/"){return this._joinURL(hash)}return""},_getOrigin:function(){var location=Y.getLocation();return location.origin||location.protocol+"//"+location.host},_getPath:function(){var path=!this._html5&&this._getHashPath()||Y.getLocation().pathname;return this.removeQuery(this.removeRoot(path))},_getPathRoot:function(){var slash="/",path=Y.getLocation().pathname,segments;if(path.charAt(path.length-1)===slash){return path}segments=path.split(slash);segments.pop();return segments.join(slash)+slash},_getQuery:function(){var location=Y.getLocation(),hash,matches;if(this._html5){return location.search.substring(1)}hash=HistoryHash.getHash();matches=hash.match(this._regexUrlQuery);return hash&&matches?matches[1]:location.search.substring(1)},_getRegex:function(path,keys){if(path instanceof RegExp){return path}if(path==="*"){return/.*/}path=path.replace(this._regexPathParam,function(match,operator,key){if(!key){return operator==="*"?".*":match}keys.push(key);return operator==="*"?"(.*?)":"([^/#?]*)"});return new RegExp("^"+path+"$")},_getRequest:function(path,url,src){return{path:path,query:this._parseQuery(this._getQuery()),url:url,src:src}},_getResponse:function(req){var res=function(){return req.next.apply(this,arguments)};res.req=req;return res},_getRoutes:function(){return this._routes.concat()},_getURL:function(){var url=Y.getLocation().toString();if(!this._html5){url=this._upgradeURL(url)}return url},_hasSameOrigin:function(url){var origin=(url&&url.match(this._regexUrlOrigin)||[])[0];if(origin&&origin.indexOf("//")===0){origin=Y.getLocation().protocol+origin}return!origin||origin===this._getOrigin()},_joinURL:function(url){var root=this.get("root");url=this.removeRoot(url);if(url.charAt(0)==="/"){url=url.substring(1)}return root&&root.charAt(root.length-1)==="/"?root+url:root+"/"+url},_normalizePath:function(path){var dots="..",slash="/",i,len,normalized,segments,segment,stack;if(!path||path===slash){return slash}segments=path.split(slash);stack=[];for(i=0,len=segments.length;i<len;++i){segment=segments[i];if(segment===dots){stack.pop()}else if(segment){stack.push(segment)}}normalized=slash+stack.join(slash);if(normalized!==slash&&path.charAt(path.length-1)===slash){normalized+=slash}return normalized},_parseQuery:QS&&QS.parse?QS.parse:function(query){var decode=this._decode,params=query.split("&"),i=0,len=params.length,result={},param;for(;i<len;++i){param=params[i].split("=");if(param[0]){result[decode(param[0])]=decode(param[1]||"")}}return result},_queue:function(){var args=arguments,self=this;saveQueue.push(function(){if(self._html5){if(Y.UA.ios&&Y.UA.ios<5){self._save.apply(self,args)}else{setTimeout(function(){self._save.apply(self,args)},1)}}else{self._dispatching=true;self._save.apply(self,args)}return self});return!this._dispatching?this._dequeue():this},_resolvePath:function(path){if(!path){return Y.getLocation().pathname}if(path.charAt(0)!=="/"){path=this._getPathRoot()+path}return this._normalizePath(path)},_resolveURL:function(url){var parts=url&&url.match(this._regexURL),origin,path,query,hash,resolved;if(!parts){return Y.getLocation().toString()}origin=parts[1];path=parts[2];query=parts[3];hash=parts[4];if(origin){if(origin.indexOf("//")===0){origin=Y.getLocation().protocol+origin}return origin+(path||"/")+(query||"")+(hash||"")}resolved=this._getOrigin()+this._resolvePath(path);if(path||query){return resolved+(query||"")+(hash||"")}query=this._getQuery();return resolved+(query?"?"+query:"")+(hash||"")},_save:function(url,replace){var urlIsString=typeof url==="string",currentPath,root;if(urlIsString&&!this._hasSameOrigin(url)){Y.error("Security error: The new URL must be of the same origin as the current URL.");return this}if(urlIsString){url=this._joinURL(url)}this._ready=true;if(this._html5){this._history[replace?"replace":"add"](null,{url:url})}else{currentPath=Y.getLocation().pathname;root=this.get("root");if(root===currentPath||root===this._getPathRoot()){url=this.removeRoot(url)}if(url===HistoryHash.getHash()){Y.Router.dispatch()}else{HistoryHash[replace?"replaceHash":"setHash"](url)}}return this},_setRoutes:function(routes){this._routes=[];YArray.each(routes,function(route){var callbacks=route.callbacks||route.callback;this.route(route.path,callbacks)},this);return this._routes.concat()},_upgradeURL:function(url){if(!this._hasSameOrigin(url)){return url}var hash=(url.match(/#(.*)$/)||[])[1]||"",hashPrefix=Y.HistoryHash.hashPrefix,hashPath;if(hashPrefix&&hash.indexOf(hashPrefix)===0){hash=hash.replace(hashPrefix,"")}if(hash){hashPath=this._getHashPath(hash);if(hashPath){return this._resolveURL(hashPath)}}return url},_afterHistoryChange:function(e){var self=this,src=e.src,prevURL=self._url,currentURL=self._getURL();self._url=currentURL;if(src==="popstate"&&(!self._ready||prevURL.replace(/#.*$/,"")===currentURL.replace(/#.*$/,""))){return}self._dispatch(self._getPath(),currentURL,src)},_defReadyFn:function(e){this._ready=true}},{NAME:"router",ATTRS:{html5:{valueFn:function(){return Y.Router.html5},writeOnce:"initOnly"},root:{value:""},routes:{value:[],getter:"_getRoutes",setter:"_setRoutes"}},html5:Y.HistoryBase.html5&&(!Y.UA.android||Y.UA.android>=3),_instances:instances,dispatch:function(){var i,len,router;for(i=0,len=instances.length;i<len;i+=1){router=instances[i];if(router){router._dispatch(router._getPath(),router._getURL())}}}});Y.Controller=Y.Router},"3.9.1",{optional:["querystring-parse"],requires:["array-extras","base-build","history"]});YUI.add("pjax-base",function(Y,NAME){var win=Y.config.win,CLASS_PJAX=Y.ClassNameManager.getClassName("pjax"),EVT_NAVIGATE="navigate";function PjaxBase(){}PjaxBase.prototype={_regexURL:/^((?:[^\/#?:]+:\/\/|\/\/)[^\/]*)?([^?#]*)(\?[^#]*)?(#.*)?$/,initializer:function(){this.publish(EVT_NAVIGATE,{defaultFn:this._defNavigateFn});if(this.get("html5")){this._pjaxBindUI()}},destructor:function(){if(this._pjaxEvents){this._pjaxEvents.detach()}},navigate:function(url,options){url=this._resolveURL(url);if(this._navigate(url,options)){return true}if(!this._hasSameOrigin(url)){Y.error("Security error: The new URL must be of the same origin as the current URL.")}return false},_isLinkSameOrigin:function(link){var location=Y.getLocation(),protocol=location.protocol,hostname=location.hostname,port=parseInt(location.port,10)||null,linkPort;if(link.get("protocol")!==protocol||link.get("hostname")!==hostname){return false}linkPort=parseInt(link.get("port"),10)||null;if(protocol==="http:"){port||(port=80);linkPort||(linkPort=80)}else if(protocol==="https:"){port||(port=443);linkPort||(linkPort=443)}return linkPort===port},_navigate:function(url,options){url=this._upgradeURL(url);if(!this.hasRoute(url)){return false}options=Y.merge(options,{url:url});var currentURL=this._getURL(),hash,hashlessURL;hashlessURL=url.replace(/(#.*)$/,function(u,h,i){hash=h;return u.substring(i)});if(hash&&hashlessURL===currentURL.replace(/#.*$/,"")){if(!this.get("navigateOnHash")){return false}options.hash=hash}"replace"in options||(options.replace=url===currentURL);if(this.get("html5")||options.force){this.fire(EVT_NAVIGATE,options)}else if(win){if(options.replace){win.location.replace(url)}else{win.location=url}}return true},_pjaxBindUI:function(){if(!this._pjaxEvents){this._pjaxEvents=Y.one("body").delegate("click",this._onLinkClick,this.get("linkSelector"),this)}},_defNavigateFn:function(e){this[e.replace?"replace":"save"](e.url);if(win&&this.get("scrollToTop")){setTimeout(function(){win.scroll(0,0)},1)}},_onLinkClick:function(e){var link,url,navigated;if(e.button!==1||e.ctrlKey||e.metaKey){return}link=e.currentTarget;if(link.get("tagName").toUpperCase()!=="A"){return}if(!this._isLinkSameOrigin(link)){return}url=link.get("href");if(url){navigated=this._navigate(url,{originEvent:e});if(navigated){e.preventDefault()}}}};PjaxBase.ATTRS={linkSelector:{value:"a."+CLASS_PJAX,writeOnce:"initOnly"},navigateOnHash:{value:false},scrollToTop:{value:true}};Y.PjaxBase=PjaxBase},"3.9.1",{requires:["classnamemanager","node-event-delegate","router"]});YUI.add("app-base",function(Y,NAME){var Lang=Y.Lang,YObject=Y.Object,PjaxBase=Y.PjaxBase,Router=Y.Router,View=Y.View,getClassName=Y.ClassNameManager.getClassName,win=Y.config.win,AppBase;AppBase=Y.Base.create("app",Y.Base,[View,Router,PjaxBase],{views:{},initializer:function(config){config||(config={});var views={};function mergeViewConfig(view,name){views[name]=Y.merge(views[name],view)}YObject.each(this.views,mergeViewConfig);YObject.each(config.views,mergeViewConfig);this.views=views;this._viewInfoMap={};this.after("activeViewChange",Y.bind("_afterActiveViewChange",this));if(!this.get("serverRouting")){this._pjaxBindUI()}},createView:function(name,config){var viewInfo=this.getViewInfo(name),type=viewInfo&&viewInfo.type||View,ViewConstructor,view;ViewConstructor=Lang.isString(type)?YObject.getValue(Y,type.split(".")):type;view=new ViewConstructor(config);this._viewInfoMap[Y.stamp(view,true)]=viewInfo;return view},getViewInfo:function(view){if(Lang.isString(view)){return this.views[view]}return view&&this._viewInfoMap[Y.stamp(view,true)]},render:function(){var CLASS_NAMES=Y.App.CLASS_NAMES,container=this.get("container"),viewContainer=this.get("viewContainer"),activeView=this.get("activeView"),activeViewContainer=activeView&&activeView.get("container"),areSame=container.compareTo(viewContainer);container.addClass(CLASS_NAMES.app);viewContainer.addClass(CLASS_NAMES.views);if(activeView&&!viewContainer.contains(activeViewContainer)){viewContainer.appendChild(activeViewContainer)}if(!container.contains(viewContainer)&&!areSame){container.appendChild(viewContainer)}return this},showView:function(view,config,options,callback){var viewInfo,created;options||(options={});if(callback){options=Y.merge(options,{callback:callback})}else if(Lang.isFunction(options)){options={callback:options}}if(Lang.isString(view)){viewInfo=this.getViewInfo(view);if(viewInfo&&viewInfo.preserve&&viewInfo.instance){view=viewInfo.instance;this._viewInfoMap[Y.stamp(view,true)]=viewInfo}else{view=this.createView(view,config);created=true}}if(options.update&&!created){view.setAttrs(config)}if("render"in options){if(options.render){view.render()}}else if(created){view.render()}return this._set("activeView",view,{options:options})},_attachView:function(view,prepend){if(!view){return}var viewInfo=this.getViewInfo(view),viewContainer=this.get("viewContainer");view.addTarget(this);if(viewInfo){viewInfo.instance=view}viewContainer[prepend?"prepend":"append"](view.get("container"))},_destroyContainer:function(){var CLASS_NAMES=Y.App.CLASS_NAMES,container=this.get("container"),viewContainer=this.get("viewContainer"),areSame=container.compareTo(viewContainer);if(Y.one("body").compareTo(container)){this.detachEvents();container.removeClass(CLASS_NAMES.app);if(areSame){container.removeClass(CLASS_NAMES.views)}else{viewContainer.remove(true)}return}viewContainer.remove(true);if(!areSame){container.remove(true)}},_detachView:function(view){if(!view){return}var viewInfo=this.getViewInfo(view)||{};if(viewInfo.preserve){view.remove()}else{view.destroy({remove:true});delete this._viewInfoMap[Y.stamp(view,true)];if(view===viewInfo.instance){delete viewInfo.instance}}view.removeTarget(this)},_getViewContainer:function(value){if(!value&&!this._viewContainer){value=this._viewContainer=this.create();this._set("viewContainer",value)}return value},_initHtml5:function(){if(this.get("serverRouting")===false){return false}return Router.html5},_isChildView:function(view,parent){var viewInfo=this.getViewInfo(view),parentInfo=this.getViewInfo(parent);if(viewInfo&&parentInfo){return this.getViewInfo(viewInfo.parent)===parentInfo}return false},_isParentView:function(view,child){var viewInfo=this.getViewInfo(view),childInfo=this.getViewInfo(child);if(viewInfo&&childInfo){return this.getViewInfo(childInfo.parent)===viewInfo}return false},_navigate:function(url,options){if(!this.get("serverRouting")){options=Y.merge({force:true},options)}return PjaxBase.prototype._navigate.call(this,url,options)},_save:function(url,replace){var path;if(this.get("serverRouting")&&!this.get("html5")){if(!this._hasSameOrigin(url)){Y.error("Security error: The new URL must be of the same origin as the current URL.");return this}if(win){path=this._joinURL(url||"");if(replace){win.location.replace(path)}else{win.location=path}}return this}return Router.prototype._save.apply(this,arguments)},_uiSetActiveView:function(newView,oldView,options){options||(options={});var callback=options.callback,isChild=this._isChildView(newView,oldView),isParent=!isChild&&this._isParentView(newView,oldView),prepend=!!options.prepend||isParent;if(newView===oldView){return callback&&callback.call(this,newView)}this._attachView(newView,prepend);this._detachView(oldView);if(callback){callback.call(this,newView)}},_afterActiveViewChange:function(e){this._uiSetActiveView(e.newVal,e.prevVal,e.options)}},{ATTRS:{activeView:{value:null,readOnly:true},container:{valueFn:function(){return Y.one("body")}},html5:{valueFn:"_initHtml5"},linkSelector:{value:"a"},serverRouting:{valueFn:function(){return Y.App.serverRouting},writeOnce:"initOnly"},viewContainer:{getter:"_getViewContainer",setter:Y.one,writeOnce:true}},_NON_ATTRS_CFG:["views"]});Y.namespace("App").Base=AppBase;Y.App=Y.mix(Y.Base.create("app",AppBase,[]),Y.App,true);Y.App.CLASS_NAMES={app:getClassName("app"),views:getClassName("app","views")}},"3.9.1",{requires:["classnamemanager","pjax-base","router","view"]});YUI.add("app-transitions",function(Y,NAME){function AppTransitions(){}AppTransitions.ATTRS={transitions:{setter:"_setTransitions",value:false}};AppTransitions.FX={fade:{viewIn:"app:fadeIn",viewOut:"app:fadeOut"},slideLeft:{viewIn:"app:slideLeft",viewOut:"app:slideLeft"},slideRight:{viewIn:"app:slideRight",viewOut:"app:slideRight"}};AppTransitions.prototype={transitions:{navigate:"fade",toChild:"slideLeft",toParent:"slideRight"},_setTransitions:function(transitions){var defTransitions=this.transitions;if(transitions&&transitions===true){return Y.merge(defTransitions)}return transitions}};Y.App.Transitions=AppTransitions;Y.Base.mix(Y.App,[AppTransitions]);Y.mix(Y.App.CLASS_NAMES,{transitioning:Y.ClassNameManager.getClassName("app","transitioning")})},"3.9.1",{requires:["app-base"]});YUI.add("pluginhost-base",function(Y,NAME){var L=Y.Lang;function PluginHost(){this._plugins={}}PluginHost.prototype={plug:function(Plugin,config){var i,ln,ns;if(L.isArray(Plugin)){for(i=0,ln=Plugin.length;i<ln;i++){this.plug(Plugin[i])}}else{if(Plugin&&!L.isFunction(Plugin)){config=Plugin.cfg;Plugin=Plugin.fn}if(Plugin&&Plugin.NS){ns=Plugin.NS;config=config||{};config.host=this;if(this.hasPlugin(ns)){if(this[ns].setAttrs){this[ns].setAttrs(config)}}else{this[ns]=new Plugin(config);this._plugins[ns]=Plugin}}}return this},unplug:function(plugin){var ns=plugin,plugins=this._plugins;if(plugin){if(L.isFunction(plugin)){ns=plugin.NS;if(ns&&(!plugins[ns]||plugins[ns]!==plugin)){ns=null}}if(ns){if(this[ns]){if(this[ns].destroy){this[ns].destroy()}delete this[ns]}if(plugins[ns]){delete plugins[ns]}}}else{for(ns in this._plugins){if(this._plugins.hasOwnProperty(ns)){this.unplug(ns)}}}return this},hasPlugin:function(ns){return this._plugins[ns]&&this[ns]},_initPlugins:function(config){this._plugins=this._plugins||{};if(this._initConfigPlugins){this._initConfigPlugins(config)}},_destroyPlugins:function(){this.unplug()}};Y.namespace("Plugin").Host=PluginHost},"3.9.1",{requires:["yui-base"]});YUI.add("pluginhost-config",function(Y,NAME){var PluginHost=Y.Plugin.Host,L=Y.Lang;PluginHost.prototype._initConfigPlugins=function(config){var classes=this._getClasses?this._getClasses():[this.constructor],plug=[],unplug={},constructor,i,classPlug,classUnplug,pluginClassName;for(i=classes.length-1;i>=0;i--){constructor=classes[i];classUnplug=constructor._UNPLUG;if(classUnplug){Y.mix(unplug,classUnplug,true)}classPlug=constructor._PLUG;if(classPlug){Y.mix(plug,classPlug,true)}}for(pluginClassName in plug){if(plug.hasOwnProperty(pluginClassName)){if(!unplug[pluginClassName]){this.plug(plug[pluginClassName])}}}if(config&&config.plugins){this.plug(config.plugins)}};PluginHost.plug=function(hostClass,plugin,config){var p,i,l,name;if(hostClass!==Y.Base){hostClass._PLUG=hostClass._PLUG||{};if(!L.isArray(plugin)){if(config){plugin={fn:plugin,cfg:config}}plugin=[plugin]}for(i=0,l=plugin.length;i<l;i++){p=plugin[i];name=p.NAME||p.fn.NAME;hostClass._PLUG[name]=p}}};PluginHost.unplug=function(hostClass,plugin){var p,i,l,name;if(hostClass!==Y.Base){hostClass._UNPLUG=hostClass._UNPLUG||{};if(!L.isArray(plugin)){plugin=[plugin]}for(i=0,l=plugin.length;i<l;i++){p=plugin[i];name=p.NAME;if(!hostClass._PLUG[name]){hostClass._UNPLUG[name]=p}else{delete hostClass._PLUG[name]}}}}},"3.9.1",{requires:["pluginhost-base"]});YUI.add("base-pluginhost",function(Y,NAME){var Base=Y.Base,PluginHost=Y.Plugin.Host;Y.mix(Base,PluginHost,false,null,1);Base.plug=PluginHost.plug;Base.unplug=PluginHost.unplug},"3.9.1",{requires:["base-base","pluginhost"]});YUI.add("node-pluginhost",function(Y,NAME){Y.Node.plug=function(){var args=Y.Array(arguments);args.unshift(Y.Node);Y.Plugin.Host.plug.apply(Y.Base,args);return Y.Node};Y.Node.unplug=function(){var args=Y.Array(arguments);args.unshift(Y.Node);Y.Plugin.Host.unplug.apply(Y.Base,args);return Y.Node};Y.mix(Y.Node,Y.Plugin.Host,false,null,1);Y.NodeList.prototype.plug=function(){var args=arguments;Y.NodeList.each(this,function(node){Y.Node.prototype.plug.apply(Y.one(node),args)});return this};Y.NodeList.prototype.unplug=function(){var args=arguments;Y.NodeList.each(this,function(node){Y.Node.prototype.unplug.apply(Y.one(node),args)});return this}},"3.9.1",{requires:["node-base","pluginhost"]});YUI.add("dom-style",function(Y,NAME){(function(Y){var DOCUMENT_ELEMENT="documentElement",DEFAULT_VIEW="defaultView",OWNER_DOCUMENT="ownerDocument",STYLE="style",FLOAT="float",CSS_FLOAT="cssFloat",STYLE_FLOAT="styleFloat",TRANSPARENT="transparent",GET_COMPUTED_STYLE="getComputedStyle",GET_BOUNDING_CLIENT_RECT="getBoundingClientRect",WINDOW=Y.config.win,DOCUMENT=Y.config.doc,UNDEFINED=undefined,Y_DOM=Y.DOM,TRANSFORM="transform",TRANSFORMORIGIN="transformOrigin",VENDOR_TRANSFORM=["WebkitTransform","MozTransform","OTransform","msTransform"],re_color=/color$/i,re_unit=/width|height|top|left|right|bottom|margin|padding/i;Y.Array.each(VENDOR_TRANSFORM,function(val){if(val in DOCUMENT[DOCUMENT_ELEMENT].style){TRANSFORM=val;TRANSFORMORIGIN=val+"Origin"}});Y.mix(Y_DOM,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(node,att,val,style){style=style||node.style;var CUSTOM_STYLES=Y_DOM.CUSTOM_STYLES;if(style){if(val===null||val===""){val=""}else if(!isNaN(new Number(val))&&re_unit.test(att)){val+=Y_DOM.DEFAULT_UNIT}if(att in CUSTOM_STYLES){if(CUSTOM_STYLES[att].set){CUSTOM_STYLES[att].set(node,val,style);return}else if(typeof CUSTOM_STYLES[att]==="string"){att=CUSTOM_STYLES[att]}}else if(att===""){att="cssText";val=""}style[att]=val}},getStyle:function(node,att,style){style=style||node.style;var CUSTOM_STYLES=Y_DOM.CUSTOM_STYLES,val="";if(style){if(att in CUSTOM_STYLES){if(CUSTOM_STYLES[att].get){return CUSTOM_STYLES[att].get(node,att,style)}else if(typeof CUSTOM_STYLES[att]==="string"){att=CUSTOM_STYLES[att]}}val=style[att];if(val===""){val=Y_DOM[GET_COMPUTED_STYLE](node,att)}}return val},setStyles:function(node,hash){var style=node.style;Y.each(hash,function(v,n){Y_DOM.setStyle(node,n,v,style)},Y_DOM)},getComputedStyle:function(node,att){var val="",doc=node[OWNER_DOCUMENT],computed;if(node[STYLE]&&doc[DEFAULT_VIEW]&&doc[DEFAULT_VIEW][GET_COMPUTED_STYLE]){computed=doc[DEFAULT_VIEW][GET_COMPUTED_STYLE](node,null);if(computed){val=computed[att]}}return val}});if(DOCUMENT[DOCUMENT_ELEMENT][STYLE][CSS_FLOAT]!==UNDEFINED){Y_DOM.CUSTOM_STYLES[FLOAT]=CSS_FLOAT}else if(DOCUMENT[DOCUMENT_ELEMENT][STYLE][STYLE_FLOAT]!==UNDEFINED){Y_DOM.CUSTOM_STYLES[FLOAT]=STYLE_FLOAT}if(Y.UA.opera){Y_DOM[GET_COMPUTED_STYLE]=function(node,att){var view=node[OWNER_DOCUMENT][DEFAULT_VIEW],val=view[GET_COMPUTED_STYLE](node,"")[att];if(re_color.test(att)){val=Y.Color.toRGB(val)}return val}}if(Y.UA.webkit){Y_DOM[GET_COMPUTED_STYLE]=function(node,att){var view=node[OWNER_DOCUMENT][DEFAULT_VIEW],val=view[GET_COMPUTED_STYLE](node,"")[att];if(val==="rgba(0, 0, 0, 0)"){val=TRANSPARENT}return val}}Y.DOM._getAttrOffset=function(node,attr){var val=Y.DOM[GET_COMPUTED_STYLE](node,attr),offsetParent=node.offsetParent,position,parentOffset,offset;if(val==="auto"){position=Y.DOM.getStyle(node,"position");if(position==="static"||position==="relative"){val=0}else if(offsetParent&&offsetParent[GET_BOUNDING_CLIENT_RECT]){parentOffset=offsetParent[GET_BOUNDING_CLIENT_RECT]()[attr];offset=node[GET_BOUNDING_CLIENT_RECT]()[attr];if(attr==="left"||attr==="top"){val=offset-parentOffset}else{val=parentOffset-node[GET_BOUNDING_CLIENT_RECT]()[attr]}}}return val};Y.DOM._getOffset=function(node){var pos,xy=null;if(node){pos=Y_DOM.getStyle(node,"position");xy=[parseInt(Y_DOM[GET_COMPUTED_STYLE](node,"left"),10),parseInt(Y_DOM[GET_COMPUTED_STYLE](node,"top"),10)];if(isNaN(xy[0])){xy[0]=parseInt(Y_DOM.getStyle(node,"left"),10);if(isNaN(xy[0])){xy[0]=pos==="relative"?0:node.offsetLeft||0}}if(isNaN(xy[1])){xy[1]=parseInt(Y_DOM.getStyle(node,"top"),10);if(isNaN(xy[1])){xy[1]=pos==="relative"?0:node.offsetTop||0}}}return xy};Y_DOM.CUSTOM_STYLES.transform={set:function(node,val,style){style[TRANSFORM]=val},get:function(node,style){return Y_DOM[GET_COMPUTED_STYLE](node,TRANSFORM)}};Y_DOM.CUSTOM_STYLES.transformOrigin={set:function(node,val,style){style[TRANSFORMORIGIN]=val},get:function(node,style){return Y_DOM[GET_COMPUTED_STYLE](node,TRANSFORMORIGIN)}}})(Y);(function(Y){var PARSE_INT=parseInt,RE=RegExp;Y.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(val){if(!Y.Color.re_RGB.test(val)){val=Y.Color.toHex(val)}if(Y.Color.re_hex.exec(val)){val="rgb("+[PARSE_INT(RE.$1,16),PARSE_INT(RE.$2,16),PARSE_INT(RE.$3,16)].join(", ")+")"}return val},toHex:function(val){val=Y.Color.KEYWORDS[val]||val;if(Y.Color.re_RGB.exec(val)){val=[Number(RE.$1).toString(16),Number(RE.$2).toString(16),Number(RE.$3).toString(16)];for(var i=0;i<val.length;i++){if(val[i].length<2){val[i]="0"+val[i]}}val=val.join("")}if(val.length<6){val=val.replace(Y.Color.re_hex3,"$1$1")}if(val!=="transparent"&&val.indexOf("#")<0){val="#"+val}return val.toUpperCase()}}})(Y)},"3.9.1",{requires:["dom-base"]});YUI.add("dom-style-ie",function(Y,NAME){(function(Y){var HAS_LAYOUT="hasLayout",PX="px",FILTER="filter",FILTERS="filters",OPACITY="opacity",AUTO="auto",BORDER_WIDTH="borderWidth",BORDER_TOP_WIDTH="borderTopWidth",BORDER_RIGHT_WIDTH="borderRightWidth",BORDER_BOTTOM_WIDTH="borderBottomWidth",BORDER_LEFT_WIDTH="borderLeftWidth",WIDTH="width",HEIGHT="height",TRANSPARENT="transparent",VISIBLE="visible",GET_COMPUTED_STYLE="getComputedStyle",UNDEFINED=undefined,documentElement=Y.config.doc.documentElement,testFeature=Y.Features.test,addFeature=Y.Features.add,re_unit=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,isIE8=Y.UA.ie>=8,_getStyleObj=function(node){return node.currentStyle||node.style},ComputedStyle={CUSTOM_STYLES:{},get:function(el,property){var value="",current;if(el){current=_getStyleObj(el)[property];if(property===OPACITY&&Y.DOM.CUSTOM_STYLES[OPACITY]){value=Y.DOM.CUSTOM_STYLES[OPACITY].get(el)}else if(!current||current.indexOf&&current.indexOf(PX)>-1){value=current}else if(Y.DOM.IE.COMPUTED[property]){value=Y.DOM.IE.COMPUTED[property](el,property)}else if(re_unit.test(current)){value=ComputedStyle.getPixel(el,property)+PX}else{value=current}}return value},sizeOffsets:{width:["Left","Right"],height:["Top","Bottom"],top:["Top"],bottom:["Bottom"]},getOffset:function(el,prop){var current=_getStyleObj(el)[prop],capped=prop.charAt(0).toUpperCase()+prop.substr(1),offset="offset"+capped,pixel="pixel"+capped,sizeOffsets=ComputedStyle.sizeOffsets[prop],mode=el.ownerDocument.compatMode,value="";if(current===AUTO||current.indexOf("%")>-1){value=el["offset"+capped];if(mode!=="BackCompat"){if(sizeOffsets[0]){value-=ComputedStyle.getPixel(el,"padding"+sizeOffsets[0]);value-=ComputedStyle.getBorderWidth(el,"border"+sizeOffsets[0]+"Width",1)}if(sizeOffsets[1]){value-=ComputedStyle.getPixel(el,"padding"+sizeOffsets[1]);value-=ComputedStyle.getBorderWidth(el,"border"+sizeOffsets[1]+"Width",1)}}}else{if(!el.style[pixel]&&!el.style[prop]){el.style[prop]=current}value=el.style[pixel]}return value+PX},borderMap:{thin:isIE8?"1px":"2px",medium:isIE8?"3px":"4px",thick:isIE8?"5px":"6px"},getBorderWidth:function(el,property,omitUnit){var unit=omitUnit?"":PX,current=el.currentStyle[property];if(current.indexOf(PX)<0){if(ComputedStyle.borderMap[current]&&el.currentStyle.borderStyle!=="none"){current=ComputedStyle.borderMap[current]}else{current=0}}return omitUnit?parseFloat(current):current},getPixel:function(node,att){var val=null,style=_getStyleObj(node),styleRight=style.right,current=style[att];node.style.right=current;val=node.style.pixelRight;node.style.right=styleRight;return val},getMargin:function(node,att){var val,style=_getStyleObj(node);if(style[att]==AUTO){val=0}else{val=ComputedStyle.getPixel(node,att)}return val+PX},getVisibility:function(node,att){var current;while((current=node.currentStyle)&&current[att]=="inherit"){node=node.parentNode}return current?current[att]:VISIBLE},getColor:function(node,att){var current=_getStyleObj(node)[att];if(!current||current===TRANSPARENT){Y.DOM.elementByAxis(node,"parentNode",null,function(parent){current=_getStyleObj(parent)[att];if(current&&current!==TRANSPARENT){node=parent;return true}})}return Y.Color.toRGB(current)},getBorderColor:function(node,att){var current=_getStyleObj(node),val=current[att]||current.color;return Y.Color.toRGB(Y.Color.toHex(val))}},IEComputed={};addFeature("style","computedStyle",{test:function(){return"getComputedStyle"in Y.config.win}});addFeature("style","opacity",{test:function(){return"opacity"in documentElement.style}});addFeature("style","filter",{test:function(){return"filters"in documentElement}});if(!testFeature("style","opacity")&&testFeature("style","filter")){Y.DOM.CUSTOM_STYLES[OPACITY]={get:function(node){var val=100;try{val=node[FILTERS]["DXImageTransform.Microsoft.Alpha"][OPACITY]}catch(e){try{val=node[FILTERS]("alpha")[OPACITY]}catch(err){}}return val/100},set:function(node,val,style){var current,styleObj=_getStyleObj(node),currentFilter=styleObj[FILTER];style=style||node.style;if(val===""){current=OPACITY in styleObj?styleObj[OPACITY]:1;val=current}if(typeof currentFilter=="string"){style[FILTER]=currentFilter.replace(/alpha([^)]*\))/gi,"")+(val<1?"alpha("+OPACITY+"="+val*100+")":"");if(!style[FILTER]){style.removeAttribute(FILTER)}if(!styleObj[HAS_LAYOUT]){style.zoom=1}}}}}try{Y.config.doc.createElement("div").style.height="-1px"}catch(e){Y.DOM.CUSTOM_STYLES.height={set:function(node,val,style){var floatVal=parseFloat(val);if(floatVal>=0||val==="auto"||val===""){style.height=val}else{}}};Y.DOM.CUSTOM_STYLES.width={set:function(node,val,style){var floatVal=parseFloat(val);if(floatVal>=0||val==="auto"||val===""){style.width=val}else{}}}}if(!testFeature("style","computedStyle")){IEComputed[WIDTH]=IEComputed[HEIGHT]=ComputedStyle.getOffset;IEComputed.color=IEComputed.backgroundColor=ComputedStyle.getColor;IEComputed[BORDER_WIDTH]=IEComputed[BORDER_TOP_WIDTH]=IEComputed[BORDER_RIGHT_WIDTH]=IEComputed[BORDER_BOTTOM_WIDTH]=IEComputed[BORDER_LEFT_WIDTH]=ComputedStyle.getBorderWidth;IEComputed.marginTop=IEComputed.marginRight=IEComputed.marginBottom=IEComputed.marginLeft=ComputedStyle.getMargin;
IEComputed.visibility=ComputedStyle.getVisibility;IEComputed.borderColor=IEComputed.borderTopColor=IEComputed.borderRightColor=IEComputed.borderBottomColor=IEComputed.borderLeftColor=ComputedStyle.getBorderColor;Y.DOM[GET_COMPUTED_STYLE]=ComputedStyle.get;Y.namespace("DOM.IE");Y.DOM.IE.COMPUTED=IEComputed;Y.DOM.IE.ComputedStyle=ComputedStyle}})(Y)},"3.9.1",{requires:["dom-style"]});YUI.add("dom-screen",function(Y,NAME){(function(Y){var DOCUMENT_ELEMENT="documentElement",COMPAT_MODE="compatMode",POSITION="position",FIXED="fixed",RELATIVE="relative",LEFT="left",TOP="top",_BACK_COMPAT="BackCompat",MEDIUM="medium",BORDER_LEFT_WIDTH="borderLeftWidth",BORDER_TOP_WIDTH="borderTopWidth",GET_BOUNDING_CLIENT_RECT="getBoundingClientRect",GET_COMPUTED_STYLE="getComputedStyle",Y_DOM=Y.DOM,RE_TABLE=/^t(?:able|d|h)$/i,SCROLL_NODE;if(Y.UA.ie){if(Y.config.doc[COMPAT_MODE]!=="BackCompat"){SCROLL_NODE=DOCUMENT_ELEMENT}else{SCROLL_NODE="body"}}Y.mix(Y_DOM,{winHeight:function(node){var h=Y_DOM._getWinSize(node).height;return h},winWidth:function(node){var w=Y_DOM._getWinSize(node).width;return w},docHeight:function(node){var h=Y_DOM._getDocSize(node).height;return Math.max(h,Y_DOM._getWinSize(node).height)},docWidth:function(node){var w=Y_DOM._getDocSize(node).width;return Math.max(w,Y_DOM._getWinSize(node).width)},docScrollX:function(node,doc){doc=doc||node?Y_DOM._getDoc(node):Y.config.doc;var dv=doc.defaultView,pageOffset=dv?dv.pageXOffset:0;return Math.max(doc[DOCUMENT_ELEMENT].scrollLeft,doc.body.scrollLeft,pageOffset)},docScrollY:function(node,doc){doc=doc||node?Y_DOM._getDoc(node):Y.config.doc;var dv=doc.defaultView,pageOffset=dv?dv.pageYOffset:0;return Math.max(doc[DOCUMENT_ELEMENT].scrollTop,doc.body.scrollTop,pageOffset)},getXY:function(){if(Y.config.doc[DOCUMENT_ELEMENT][GET_BOUNDING_CLIENT_RECT]){return function(node){var xy=null,scrollLeft,scrollTop,mode,box,offX,offY,doc,win,inDoc,rootNode;if(node&&node.tagName){doc=node.ownerDocument;mode=doc[COMPAT_MODE];if(mode!==_BACK_COMPAT){rootNode=doc[DOCUMENT_ELEMENT]}else{rootNode=doc.body}if(rootNode.contains){inDoc=rootNode.contains(node)}else{inDoc=Y.DOM.contains(rootNode,node)}if(inDoc){win=doc.defaultView;if(win&&"pageXOffset"in win){scrollLeft=win.pageXOffset;scrollTop=win.pageYOffset}else{scrollLeft=SCROLL_NODE?doc[SCROLL_NODE].scrollLeft:Y_DOM.docScrollX(node,doc);scrollTop=SCROLL_NODE?doc[SCROLL_NODE].scrollTop:Y_DOM.docScrollY(node,doc)}if(Y.UA.ie){if(!doc.documentMode||doc.documentMode<8||mode===_BACK_COMPAT){offX=rootNode.clientLeft;offY=rootNode.clientTop}}box=node[GET_BOUNDING_CLIENT_RECT]();xy=[box.left,box.top];if(offX||offY){xy[0]-=offX;xy[1]-=offY}if(scrollTop||scrollLeft){if(!Y.UA.ios||Y.UA.ios>=4.2){xy[0]+=scrollLeft;xy[1]+=scrollTop}}}else{xy=Y_DOM._getOffset(node)}}return xy}}else{return function(node){var xy=null,doc,parentNode,bCheck,scrollTop,scrollLeft;if(node){if(Y_DOM.inDoc(node)){xy=[node.offsetLeft,node.offsetTop];doc=node.ownerDocument;parentNode=node;bCheck=Y.UA.gecko||Y.UA.webkit>519?true:false;while(parentNode=parentNode.offsetParent){xy[0]+=parentNode.offsetLeft;xy[1]+=parentNode.offsetTop;if(bCheck){xy=Y_DOM._calcBorders(parentNode,xy)}}if(Y_DOM.getStyle(node,POSITION)!=FIXED){parentNode=node;while(parentNode=parentNode.parentNode){scrollTop=parentNode.scrollTop;scrollLeft=parentNode.scrollLeft;if(Y.UA.gecko&&Y_DOM.getStyle(parentNode,"overflow")!=="visible"){xy=Y_DOM._calcBorders(parentNode,xy)}if(scrollTop||scrollLeft){xy[0]-=scrollLeft;xy[1]-=scrollTop}}xy[0]+=Y_DOM.docScrollX(node,doc);xy[1]+=Y_DOM.docScrollY(node,doc)}else{xy[0]+=Y_DOM.docScrollX(node,doc);xy[1]+=Y_DOM.docScrollY(node,doc)}}else{xy=Y_DOM._getOffset(node)}}return xy}}}(),getScrollbarWidth:Y.cached(function(){var doc=Y.config.doc,testNode=doc.createElement("div"),body=doc.getElementsByTagName("body")[0],width=.1;if(body){testNode.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;";testNode.appendChild(doc.createElement("p")).style.height="1px";body.insertBefore(testNode,body.firstChild);width=testNode.offsetWidth-testNode.clientWidth;body.removeChild(testNode)}return width},null,.1),getX:function(node){return Y_DOM.getXY(node)[0]},getY:function(node){return Y_DOM.getXY(node)[1]},setXY:function(node,xy,noRetry){var setStyle=Y_DOM.setStyle,pos,delta,newXY,currentXY;if(node&&xy){pos=Y_DOM.getStyle(node,POSITION);delta=Y_DOM._getOffset(node);if(pos=="static"){pos=RELATIVE;setStyle(node,POSITION,pos)}currentXY=Y_DOM.getXY(node);if(xy[0]!==null){setStyle(node,LEFT,xy[0]-currentXY[0]+delta[0]+"px")}if(xy[1]!==null){setStyle(node,TOP,xy[1]-currentXY[1]+delta[1]+"px")}if(!noRetry){newXY=Y_DOM.getXY(node);if(newXY[0]!==xy[0]||newXY[1]!==xy[1]){Y_DOM.setXY(node,xy,true)}}}else{}},setX:function(node,x){return Y_DOM.setXY(node,[x,null])},setY:function(node,y){return Y_DOM.setXY(node,[null,y])},swapXY:function(node,otherNode){var xy=Y_DOM.getXY(node);Y_DOM.setXY(node,Y_DOM.getXY(otherNode));Y_DOM.setXY(otherNode,xy)},_calcBorders:function(node,xy2){var t=parseInt(Y_DOM[GET_COMPUTED_STYLE](node,BORDER_TOP_WIDTH),10)||0,l=parseInt(Y_DOM[GET_COMPUTED_STYLE](node,BORDER_LEFT_WIDTH),10)||0;if(Y.UA.gecko){if(RE_TABLE.test(node.tagName)){t=0;l=0}}xy2[0]+=l;xy2[1]+=t;return xy2},_getWinSize:function(node,doc){doc=doc||node?Y_DOM._getDoc(node):Y.config.doc;var win=doc.defaultView||doc.parentWindow,mode=doc[COMPAT_MODE],h=win.innerHeight,w=win.innerWidth,root=doc[DOCUMENT_ELEMENT];if(mode&&!Y.UA.opera){if(mode!="CSS1Compat"){root=doc.body}h=root.clientHeight;w=root.clientWidth}return{height:h,width:w}},_getDocSize:function(node){var doc=node?Y_DOM._getDoc(node):Y.config.doc,root=doc[DOCUMENT_ELEMENT];if(doc[COMPAT_MODE]!="CSS1Compat"){root=doc.body}return{height:root.scrollHeight,width:root.scrollWidth}}})})(Y);(function(Y){var TOP="top",RIGHT="right",BOTTOM="bottom",LEFT="left",getOffsets=function(r1,r2){var t=Math.max(r1[TOP],r2[TOP]),r=Math.min(r1[RIGHT],r2[RIGHT]),b=Math.min(r1[BOTTOM],r2[BOTTOM]),l=Math.max(r1[LEFT],r2[LEFT]),ret={};ret[TOP]=t;ret[RIGHT]=r;ret[BOTTOM]=b;ret[LEFT]=l;return ret},DOM=Y.DOM;Y.mix(DOM,{region:function(node){var xy=DOM.getXY(node),ret=false;if(node&&xy){ret=DOM._getRegion(xy[1],xy[0]+node.offsetWidth,xy[1]+node.offsetHeight,xy[0])}return ret},intersect:function(node,node2,altRegion){var r=altRegion||DOM.region(node),region={},n=node2,off;if(n.tagName){region=DOM.region(n)}else if(Y.Lang.isObject(node2)){region=node2}else{return false}off=getOffsets(region,r);return{top:off[TOP],right:off[RIGHT],bottom:off[BOTTOM],left:off[LEFT],area:(off[BOTTOM]-off[TOP])*(off[RIGHT]-off[LEFT]),yoff:off[BOTTOM]-off[TOP],xoff:off[RIGHT]-off[LEFT],inRegion:DOM.inRegion(node,node2,false,altRegion)}},inRegion:function(node,node2,all,altRegion){var region={},r=altRegion||DOM.region(node),n=node2,off;if(n.tagName){region=DOM.region(n)}else if(Y.Lang.isObject(node2)){region=node2}else{return false}if(all){return r[LEFT]>=region[LEFT]&&r[RIGHT]<=region[RIGHT]&&r[TOP]>=region[TOP]&&r[BOTTOM]<=region[BOTTOM]}else{off=getOffsets(region,r);if(off[BOTTOM]>=off[TOP]&&off[RIGHT]>=off[LEFT]){return true}else{return false}}},inViewportRegion:function(node,all,altRegion){return DOM.inRegion(node,DOM.viewportRegion(node),all,altRegion)},_getRegion:function(t,r,b,l){var region={};region[TOP]=region[1]=t;region[LEFT]=region[0]=l;region[BOTTOM]=b;region[RIGHT]=r;region.width=region[RIGHT]-region[LEFT];region.height=region[BOTTOM]-region[TOP];return region},viewportRegion:function(node){node=node||Y.config.doc.documentElement;var ret=false,scrollX,scrollY;if(node){scrollX=DOM.docScrollX(node);scrollY=DOM.docScrollY(node);ret=DOM._getRegion(scrollY,DOM.winWidth(node)+scrollX,scrollY+DOM.winHeight(node),scrollX)}return ret}})})(Y)},"3.9.1",{requires:["dom-base","dom-style"]});YUI.add("node-screen",function(Y,NAME){Y.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(name){Y.Node.ATTRS[name]={getter:function(){var args=Array.prototype.slice.call(arguments);args.unshift(Y.Node.getDOMNode(this));return Y.DOM[name].apply(this,args)}}});Y.Node.ATTRS.scrollLeft={getter:function(){var node=Y.Node.getDOMNode(this);return"scrollLeft"in node?node.scrollLeft:Y.DOM.docScrollX(node)},setter:function(val){var node=Y.Node.getDOMNode(this);if(node){if("scrollLeft"in node){node.scrollLeft=val}else if(node.document||node.nodeType===9){Y.DOM._getWin(node).scrollTo(val,Y.DOM.docScrollY(node))}}else{}}};Y.Node.ATTRS.scrollTop={getter:function(){var node=Y.Node.getDOMNode(this);return"scrollTop"in node?node.scrollTop:Y.DOM.docScrollY(node)},setter:function(val){var node=Y.Node.getDOMNode(this);if(node){if("scrollTop"in node){node.scrollTop=val}else if(node.document||node.nodeType===9){Y.DOM._getWin(node).scrollTo(Y.DOM.docScrollX(node),val)}}else{}}};Y.Node.importMethod(Y.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]);Y.Node.ATTRS.region={getter:function(){var node=this.getDOMNode(),region;if(node&&!node.tagName){if(node.nodeType===9){node=node.documentElement}}if(Y.DOM.isWindow(node)){region=Y.DOM.viewportRegion(node)}else{region=Y.DOM.region(node)}return region}};Y.Node.ATTRS.viewportRegion={getter:function(){return Y.DOM.viewportRegion(Y.Node.getDOMNode(this))}};Y.Node.importMethod(Y.DOM,"inViewportRegion");Y.Node.prototype.intersect=function(node2,altRegion){var node1=Y.Node.getDOMNode(this);if(Y.instanceOf(node2,Y.Node)){node2=Y.Node.getDOMNode(node2)}return Y.DOM.intersect(node1,node2,altRegion)};Y.Node.prototype.inRegion=function(node2,all,altRegion){var node1=Y.Node.getDOMNode(this);if(Y.instanceOf(node2,Y.Node)){node2=Y.Node.getDOMNode(node2)}return Y.DOM.inRegion(node1,node2,all,altRegion)}},"3.9.1",{requires:["dom-screen","node-base"]});YUI.add("node-style",function(Y,NAME){(function(Y){Y.mix(Y.Node.prototype,{setStyle:function(attr,val){Y.DOM.setStyle(this._node,attr,val);return this},setStyles:function(hash){Y.DOM.setStyles(this._node,hash);return this},getStyle:function(attr){return Y.DOM.getStyle(this._node,attr)},getComputedStyle:function(attr){return Y.DOM.getComputedStyle(this._node,attr)}});Y.NodeList.importMethod(Y.Node.prototype,["getStyle","getComputedStyle","setStyle","setStyles"])})(Y)},"3.9.1",{requires:["dom-style","node-base"]});YUI.add("escape",function(Y,NAME){var HTML_CHARS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},Escape={html:function(string){return(string+"").replace(/[&<>"'\/`]/g,Escape._htmlReplacer)},regex:function(string){return(string+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(match){return HTML_CHARS[match]}};Escape.regexp=Escape.regex;Y.Escape=Escape},"3.9.1",{requires:["yui-base"]});YUI.add("model",function(Y,NAME){var GlobalEnv=YUI.namespace("Env.Model"),Lang=Y.Lang,YArray=Y.Array,YObject=Y.Object,EVT_CHANGE="change",EVT_ERROR="error",EVT_LOAD="load",EVT_SAVE="save";function Model(){Model.superclass.constructor.apply(this,arguments)}Y.Model=Y.extend(Model,Y.Base,{idAttribute:"id",_allowAdHocAttrs:true,_isYUIModel:true,initializer:function(config){this.changed={};this.lastChange={};this.lists=[]},destroy:function(options,callback){var self=this;if(typeof options==="function"){callback=options;options=null}self.onceAfter("destroy",function(){function finish(err){if(!err){YArray.each(self.lists.concat(),function(list){list.remove(self,options)})}callback&&callback.apply(null,arguments)}if(options&&(options.remove||options["delete"])){self.sync("delete",options,finish)}else{finish()}});return Model.superclass.destroy.call(self)},generateClientId:function(){GlobalEnv.lastId||(GlobalEnv.lastId=0);return this.constructor.NAME+"_"+(GlobalEnv.lastId+=1)},getAsHTML:function(name){var value=this.get(name);return Y.Escape.html(Lang.isValue(value)?String(value):"")},getAsURL:function(name){var value=this.get(name);return encodeURIComponent(Lang.isValue(value)?String(value):"")},isModified:function(){return this.isNew()||!YObject.isEmpty(this.changed)},isNew:function(){return!Lang.isValue(this.get("id"))},load:function(options,callback){var self=this;if(typeof options==="function"){callback=options;options={}}options||(options={});self.sync("read",options,function(err,response){var facade={options:options,response:response},parsed;if(err){facade.error=err;facade.src="load";self.fire(EVT_ERROR,facade)}else{if(!self._loadEvent){self._loadEvent=self.publish(EVT_LOAD,{preventable:false})}parsed=facade.parsed=self._parse(response);self.setAttrs(parsed,options);self.changed={};self.fire(EVT_LOAD,facade)}callback&&callback.apply(null,arguments)});return self},parse:function(response){if(typeof response==="string"){try{return Y.JSON.parse(response)}catch(ex){this.fire(EVT_ERROR,{error:ex,response:response,src:"parse"});return null}}return response},save:function(options,callback){var self=this;if(typeof options==="function"){callback=options;options={}}options||(options={});self._validate(self.toJSON(),function(err){if(err){callback&&callback.call(null,err);return}self.sync(self.isNew()?"create":"update",options,function(err,response){var facade={options:options,response:response},parsed;if(err){facade.error=err;facade.src="save";self.fire(EVT_ERROR,facade)}else{if(!self._saveEvent){self._saveEvent=self.publish(EVT_SAVE,{preventable:false})}if(response){parsed=facade.parsed=self._parse(response);self.setAttrs(parsed,options)}self.changed={};self.fire(EVT_SAVE,facade)}callback&&callback.apply(null,arguments)})});return self},set:function(name,value,options){var attributes={};attributes[name]=value;return this.setAttrs(attributes,options)},setAttrs:function(attributes,options){var idAttribute=this.idAttribute,changed,e,key,lastChange,transaction;options||(options={});transaction=options._transaction={};if(idAttribute!=="id"){attributes=Y.merge(attributes);if(YObject.owns(attributes,idAttribute)){attributes.id=attributes[idAttribute]}else if(YObject.owns(attributes,"id")){attributes[idAttribute]=attributes.id}}for(key in attributes){if(YObject.owns(attributes,key)){this._setAttr(key,attributes[key],options)}}if(!YObject.isEmpty(transaction)){changed=this.changed;lastChange=this.lastChange={};for(key in transaction){if(YObject.owns(transaction,key)){e=transaction[key];changed[key]=e.newVal;lastChange[key]={newVal:e.newVal,prevVal:e.prevVal,src:e.src||null}}}if(!options.silent){if(!this._changeEvent){this._changeEvent=this.publish(EVT_CHANGE,{preventable:false})}this.fire(EVT_CHANGE,Y.merge(options,{changed:lastChange}))}}return this},sync:function(){var callback=YArray(arguments,0,true).pop();if(typeof callback==="function"){callback()}},toJSON:function(){var attrs=this.getAttrs();delete attrs.clientId;delete attrs.destroyed;delete attrs.initialized;if(this.idAttribute!=="id"){delete attrs.id}return attrs},undo:function(attrNames,options){var lastChange=this.lastChange,idAttribute=this.idAttribute,toUndo={},needUndo;attrNames||(attrNames=YObject.keys(lastChange));YArray.each(attrNames,function(name){if(YObject.owns(lastChange,name)){name=name===idAttribute?"id":name;needUndo=true;toUndo[name]=lastChange[name].prevVal}});return needUndo?this.setAttrs(toUndo,options):this},validate:function(attrs,callback){callback&&callback()},addAttr:function(name,config,lazy){var idAttribute=this.idAttribute,idAttrCfg,id;if(idAttribute&&name===idAttribute){idAttrCfg=this._isLazyAttr("id")||this._getAttrCfg("id");id=config.value===config.defaultValue?null:config.value;if(!Lang.isValue(id)){id=idAttrCfg.value===idAttrCfg.defaultValue?null:idAttrCfg.value;if(!Lang.isValue(id)){id=Lang.isValue(config.defaultValue)?config.defaultValue:idAttrCfg.defaultValue}}config.value=id;if(idAttrCfg.value!==id){idAttrCfg.value=id;if(this._isLazyAttr("id")){this._state.add("id","lazy",idAttrCfg)}else{this._state.add("id","value",id)}}}return Model.superclass.addAttr.apply(this,arguments)},_parse:function(response){return this.parse(response)},_validate:function(attributes,callback){var self=this;function handler(err){if(Lang.isValue(err)){self.fire(EVT_ERROR,{attributes:attributes,error:err,src:"validate"});callback(err);return}callback()}if(self.validate.length===1){handler(self.validate(attributes,handler))}else{self.validate(attributes,handler)}},_defAttrChangeFn:function(e){var attrName=e.attrName;if(!this._setAttrVal(attrName,e.subAttrName,e.prevVal,e.newVal)){e.stopImmediatePropagation()}else{e.newVal=this.get(attrName);if(e._transaction){e._transaction[attrName]=e}}}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:true},id:{value:null}}})},"3.9.1",{requires:["base-build","escape","json-parse"]});YUI.add("cookie",function(Y,NAME){var L=Y.Lang,O=Y.Object,NULL=null,isString=L.isString,isObject=L.isObject,isUndefined=L.isUndefined,isFunction=L.isFunction,encode=encodeURIComponent,decode=decodeURIComponent,doc=Y.config.doc;function error(message){throw new TypeError(message)}function validateCookieName(name){if(!isString(name)||name===""){error("Cookie name must be a non-empty string.")}}function validateSubcookieName(subName){if(!isString(subName)||subName===""){error("Subcookie name must be a non-empty string.")}}Y.Cookie={_createCookieString:function(name,value,encodeValue,options){options=options||{};var text=encode(name)+"="+(encodeValue?encode(value):value),expires=options.expires,path=options.path,domain=options.domain;if(isObject(options)){if(expires instanceof Date){text+="; expires="+expires.toUTCString()}if(isString(path)&&path!==""){text+="; path="+path}if(isString(domain)&&domain!==""){text+="; domain="+domain}if(options.secure===true){text+="; secure"}}return text},_createCookieHashString:function(hash){if(!isObject(hash)){error("Cookie._createCookieHashString(): Argument must be an object.")}var text=[];O.each(hash,function(value,key){if(!isFunction(value)&&!isUndefined(value)){text.push(encode(key)+"="+encode(String(value)))}});return text.join("&")},_parseCookieHash:function(text){var hashParts=text.split("&"),hashPart=NULL,hash={};if(text.length){for(var i=0,len=hashParts.length;i<len;i++){hashPart=hashParts[i].split("=");hash[decode(hashPart[0])]=decode(hashPart[1])}}return hash},_parseCookieString:function(text,shouldDecode,options){var cookies={};if(isString(text)&&text.length>0){var decodeValue=shouldDecode===false?function(s){return s}:decode,cookieParts=text.split(/;\s/g),cookieName=NULL,cookieValue=NULL,cookieNameValue=NULL;for(var i=0,len=cookieParts.length;i<len;i++){cookieNameValue=cookieParts[i].match(/([^=]+)=/i);if(cookieNameValue instanceof Array){try{cookieName=decode(cookieNameValue[1]);cookieValue=decodeValue(cookieParts[i].substring(cookieNameValue[1].length+1))}catch(ex){}}else{cookieName=decode(cookieParts[i]);cookieValue=""}if(!isUndefined(options)&&options.reverseCookieLoading){if(isUndefined(cookies[cookieName])){cookies[cookieName]=cookieValue}}else{cookies[cookieName]=cookieValue}}}return cookies},_setDoc:function(newDoc){doc=newDoc},exists:function(name){validateCookieName(name);var cookies=this._parseCookieString(doc.cookie,true);return cookies.hasOwnProperty(name)},get:function(name,options){validateCookieName(name);var cookies,cookie,converter;if(isFunction(options)){converter=options;options={}}else if(isObject(options)){converter=options.converter}else{options={}}cookies=this._parseCookieString(doc.cookie,!options.raw,options);cookie=cookies[name];if(isUndefined(cookie)){return NULL}if(!isFunction(converter)){return cookie}else{return converter(cookie)}},getSub:function(name,subName,converter,options){var hash=this.getSubs(name,options);if(hash!==NULL){validateSubcookieName(subName);if(isUndefined(hash[subName])){return NULL}if(!isFunction(converter)){return hash[subName]}else{return converter(hash[subName])}}else{return NULL}},getSubs:function(name,options){validateCookieName(name);var cookies=this._parseCookieString(doc.cookie,false,options);if(isString(cookies[name])){return this._parseCookieHash(cookies[name])}return NULL},remove:function(name,options){validateCookieName(name);options=Y.merge(options||{},{expires:new Date(0)});return this.set(name,"",options)},removeSub:function(name,subName,options){validateCookieName(name);validateSubcookieName(subName);options=options||{};var subs=this.getSubs(name);if(isObject(subs)&&subs.hasOwnProperty(subName)){delete subs[subName];if(!options.removeIfEmpty){return this.setSubs(name,subs,options)}else{for(var key in subs){if(subs.hasOwnProperty(key)&&!isFunction(subs[key])&&!isUndefined(subs[key])){return this.setSubs(name,subs,options)}}return this.remove(name,options)}}else{return""}},set:function(name,value,options){validateCookieName(name);if(isUndefined(value)){error("Cookie.set(): Value cannot be undefined.")}options=options||{};var text=this._createCookieString(name,value,!options.raw,options);doc.cookie=text;return text},setSub:function(name,subName,value,options){validateCookieName(name);validateSubcookieName(subName);if(isUndefined(value)){error("Cookie.setSub(): Subcookie value cannot be undefined.")}var hash=this.getSubs(name);if(!isObject(hash)){hash={}}hash[subName]=value;return this.setSubs(name,hash,options)},setSubs:function(name,value,options){validateCookieName(name);if(!isObject(value)){error("Cookie.setSubs(): Cookie value must be an object.")}var text=this._createCookieString(name,this._createCookieHashString(value),false,options);doc.cookie=text;return text}}},"3.9.1",{requires:["yui-base"]});YUI.add("event-key",function(Y,NAME){var ALT="+alt",CTRL="+ctrl",META="+meta",SHIFT="+shift",trim=Y.Lang.trim,eventDef={KEY_MAP:{enter:13,esc:27,backspace:8,tab:9,pageup:33,pagedown:34},_typeRE:/^(up|down|press):/,_keysRE:/^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,processArgs:function(args){var spec=args.splice(3,1)[0],mods=Y.Array.hash(spec.match(/\+(?:alt|ctrl|meta|shift)\b/g)||[]),config={type:this._typeRE.test(spec)?RegExp.$1:null,mods:mods,keys:null},bits=spec.replace(this._keysRE,""),chr,uc,lc,i;if(bits){bits=bits.split(",");config.keys={};for(i=bits.length-1;i>=0;--i){chr=trim(bits[i]);if(!chr){continue}if(+chr==chr){config.keys[chr]=mods}else{lc=chr.toLowerCase();if(this.KEY_MAP[lc]){config.keys[this.KEY_MAP[lc]]=mods;if(!config.type){config.type="down"}}else{chr=chr.charAt(0);uc=chr.toUpperCase();if(mods["+shift"]){chr=uc}config.keys[chr.charCodeAt(0)]=chr===uc?Y.merge(mods,{"+shift":true}):mods}}}}if(!config.type){config.type="press"}return config},on:function(node,sub,notifier,filter){var spec=sub._extra,type="key"+spec.type,keys=spec.keys,method=filter?"delegate":"on";sub._detach=node[method](type,function(e){var key=keys?keys[e.which]:spec.mods;if(key&&(!key[ALT]||key[ALT]&&e.altKey)&&(!key[CTRL]||key[CTRL]&&e.ctrlKey)&&(!key[META]||key[META]&&e.metaKey)&&(!key[SHIFT]||key[SHIFT]&&e.shiftKey)){notifier.fire(e)}},filter)},detach:function(node,sub,notifier){sub._detach.detach()}};eventDef.delegate=eventDef.on;eventDef.detachDelegate=eventDef.detach;Y.Event.define("key",eventDef,true)},"3.9.1",{requires:["event-synthetic"]});YUI.add("event-touch",function(Y,NAME){var SCALE="scale",ROTATION="rotation",IDENTIFIER="identifier",win=Y.config.win,GESTURE_MAP={};Y.DOMEventFacade.prototype._touch=function(e,currentTarget,wrapper){var i,l,etCached,et,touchCache;if(e.touches){this.touches=[];touchCache={};for(i=0,l=e.touches.length;i<l;++i){et=e.touches[i];touchCache[Y.stamp(et)]=this.touches[i]=new Y.DOMEventFacade(et,currentTarget,wrapper)}}if(e.targetTouches){this.targetTouches=[];for(i=0,l=e.targetTouches.length;i<l;++i){et=e.targetTouches[i];etCached=touchCache&&touchCache[Y.stamp(et,true)];this.targetTouches[i]=etCached||new Y.DOMEventFacade(et,currentTarget,wrapper)}}if(e.changedTouches){this.changedTouches=[];for(i=0,l=e.changedTouches.length;i<l;++i){et=e.changedTouches[i];etCached=touchCache&&touchCache[Y.stamp(et,true)];this.changedTouches[i]=etCached||new Y.DOMEventFacade(et,currentTarget,wrapper)}}if(SCALE in e){this[SCALE]=e[SCALE]}if(ROTATION in e){this[ROTATION]=e[ROTATION]}if(IDENTIFIER in e){this[IDENTIFIER]=e[IDENTIFIER]}};if(Y.Node.DOM_EVENTS){Y.mix(Y.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1})}if(win&&"ontouchstart"in win&&!(Y.UA.chrome&&Y.UA.chrome<6)){GESTURE_MAP.start="touchstart";GESTURE_MAP.end="touchend";GESTURE_MAP.move="touchmove";GESTURE_MAP.cancel="touchcancel"}else if(win&&"msPointerEnabled"in win.navigator){GESTURE_MAP.start="MSPointerDown";GESTURE_MAP.end="MSPointerUp";GESTURE_MAP.move="MSPointerMove";GESTURE_MAP.cancel="MSPointerCancel"}else{GESTURE_MAP.start="mousedown";GESTURE_MAP.end="mouseup";GESTURE_MAP.move="mousemove";GESTURE_MAP.cancel="mousecancel"}Y.Event._GESTURE_MAP=GESTURE_MAP},"3.9.1",{requires:["node-base"]});YUI.add("querystring-stringify",function(Y,NAME){var QueryString=Y.namespace("QueryString"),stack=[],L=Y.Lang;QueryString.escape=encodeURIComponent;QueryString.stringify=function(obj,c,name){var begin,end,i,l,n,s,sep=c&&c.sep?c.sep:"&",eq=c&&c.eq?c.eq:"=",aK=c&&c.arrayKey?c.arrayKey:false;if(L.isNull(obj)||L.isUndefined(obj)||L.isFunction(obj)){return name?QueryString.escape(name)+eq:""}if(L.isBoolean(obj)||Object.prototype.toString.call(obj)==="[object Boolean]"){obj=+obj}if(L.isNumber(obj)||L.isString(obj)){return QueryString.escape(name)+eq+QueryString.escape(obj)}if(L.isArray(obj)){s=[];name=aK?name+"[]":name;l=obj.length;for(i=0;i<l;i++){s.push(QueryString.stringify(obj[i],c,name))}return s.join(sep)}for(i=stack.length-1;i>=0;--i){if(stack[i]===obj){throw new Error("QueryString.stringify. Cyclical reference")}}stack.push(obj);s=[];begin=name?name+"[":"";end=name?"]":"";for(i in obj){if(obj.hasOwnProperty(i)){n=begin+i+end;s.push(QueryString.stringify(obj[i],c,n))}}stack.pop();s=s.join(sep);if(!s&&name){return name+"="}return s}},"3.9.1",{requires:["yui-base"]});YUI.add("array-invoke",function(Y,NAME){Y.Array.invoke=function(items,name){var args=Y.Array(arguments,2,true),isFunction=Y.Lang.isFunction,ret=[];Y.Array.each(Y.Array(items),function(item,i){if(item&&isFunction(item[name])){ret[i]=item[name].apply(item,args)}});return ret}},"3.9.1",{requires:["yui-base"]});YUI.add("arraylist",function(Y,NAME){var YArray=Y.Array,YArray_each=YArray.each,ArrayListProto;function ArrayList(items){if(items!==undefined){this._items=Y.Lang.isArray(items)?items:YArray(items)}else{this._items=this._items||[]}}ArrayListProto={item:function(i){return this._items[i]},each:function(fn,context){YArray_each(this._items,function(item,i){item=this.item(i);fn.call(context||item,item,i,this)},this);return this},some:function(fn,context){return YArray.some(this._items,function(item,i){item=this.item(i);return fn.call(context||item,item,i,this)},this)},indexOf:function(needle){return YArray.indexOf(this._items,needle)},size:function(){return this._items.length},isEmpty:function(){return!this.size()},toJSON:function(){return this._items}};ArrayListProto._item=ArrayListProto.item;Y.mix(ArrayList.prototype,ArrayListProto);Y.mix(ArrayList,{addMethod:function(dest,names){names=YArray(names);YArray_each(names,function(name){dest[name]=function(){var args=YArray(arguments,0,true),ret=[];YArray_each(this._items,function(item,i){item=this._item(i);var result=item[name].apply(item,args);if(result!==undefined&&result!==item){ret[i]=result}},this);return ret.length?ret:this}})}});Y.ArrayList=ArrayList},"3.9.1",{requires:["yui-base"]});YUI.add("model-list",function(Y,NAME){var AttrProto=Y.Attribute.prototype,Lang=Y.Lang,YArray=Y.Array,EVT_ADD="add",EVT_CREATE="create",EVT_ERROR="error",EVT_LOAD="load",EVT_REMOVE="remove",EVT_RESET="reset";function ModelList(){ModelList.superclass.constructor.apply(this,arguments)}Y.ModelList=Y.extend(ModelList,Y.Base,{model:Y.Model,_isYUIModelList:true,initializer:function(config){config||(config={});var model=this.model=config.model||this.model;if(typeof model==="string"){this.model=Y.Object.getValue(Y,model.split("."));if(!this.model){Y.error("ModelList: Model class not found: "+model)}}this.publish(EVT_ADD,{defaultFn:this._defAddFn});this.publish(EVT_RESET,{defaultFn:this._defResetFn});this.publish(EVT_REMOVE,{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();if(config.items){this.add(config.items,{silent:true})}},destructor:function(){this._clear()},add:function(models,options){var isList=models._isYUIModelList;if(isList||Lang.isArray(models)){return YArray.map(isList?models.toArray():models,function(model,index){var modelOptions=options||{};if("index"in modelOptions){modelOptions=Y.merge(modelOptions,{index:modelOptions.index+index})}return this._add(model,modelOptions)},this)}else{return this._add(models,options)}},create:function(model,options,callback){var self=this;if(typeof options==="function"){callback=options;options={}}options||(options={});if(!model._isYUIModel){model=new this.model(model)}self.fire(EVT_CREATE,Y.merge(options,{model:model}));return model.save(options,function(err){if(!err){self.add(model,options)}callback&&callback.apply(null,arguments)})},each:function(callback,thisObj){var items=this._items.concat(),i,item,len;for(i=0,len=items.length;i<len;i++){item=items[i];callback.call(thisObj||item,item,i,this)}return this},filter:function(options,callback){var filtered=[],items=this._items,i,item,len,list;if(typeof options==="function"){callback=options;options={}}for(i=0,len=items.length;i<len;++i){item=items[i];if(callback.call(this,item,i,this)){filtered.push(item)}}if(options.asList){list=new this.constructor({model:this.model});if(filtered.length){list.add(filtered,{silent:true})}return list}else{return filtered}},get:function(name){if(this.attrAdded(name)){return AttrProto.get.apply(this,arguments)}return this.invoke("get",name)},getAsHTML:function(name){if(this.attrAdded(name)){return Y.Escape.html(AttrProto.get.apply(this,arguments))}return this.invoke("getAsHTML",name)},getAsURL:function(name){if(this.attrAdded(name)){return encodeURIComponent(AttrProto.get.apply(this,arguments))}return this.invoke("getAsURL",name)},getByClientId:function(clientId){return this._clientIdMap[clientId]||null},getById:function(id){return this._idMap[id]||null},invoke:function(name){var args=[this._items,name].concat(YArray(arguments,1,true));return YArray.invoke.apply(YArray,args)},load:function(options,callback){var self=this;if(typeof options==="function"){callback=options;options={}}options||(options={});this.sync("read",options,function(err,response){var facade={options:options,response:response},parsed;if(err){facade.error=err;facade.src="load";self.fire(EVT_ERROR,facade)}else{if(!self._loadEvent){self._loadEvent=self.publish(EVT_LOAD,{preventable:false})}parsed=facade.parsed=self._parse(response);self.reset(parsed,options);self.fire(EVT_LOAD,facade)}callback&&callback.apply(null,arguments)});return this},map:function(fn,thisObj){return YArray.map(this._items,fn,thisObj)},parse:function(response){if(typeof response==="string"){try{return Y.JSON.parse(response)||[]}catch(ex){this.fire(EVT_ERROR,{error:ex,response:response,src:"parse"});return null}}return response||[]},remove:function(models,options){var isList=models._isYUIModelList;if(isList||Lang.isArray(models)){models=YArray.map(isList?models.toArray():models,function(model){if(Lang.isNumber(model)){return this.item(model)}return model},this);return YArray.map(models,function(model){return this._remove(model,options)},this)}else{return this._remove(models,options)}},reset:function(models,options){models||(models=[]);options||(options={});var facade=Y.merge({src:"reset"},options);if(models._isYUIModelList){models=models.toArray()}else{models=YArray.map(models,function(model){return model._isYUIModel?model:new this.model(model)},this)}facade.models=models;if(options.silent){this._defResetFn(facade)}else{if(this.comparator){models.sort(Y.bind(this._sort,this))}this.fire(EVT_RESET,facade)}return this},some:function(callback,thisObj){var items=this._items.concat(),i,item,len;for(i=0,len=items.length;i<len;i++){item=items[i];if(callback.call(thisObj||item,item,i,this)){return true
}}return false},sort:function(options){if(!this.comparator){return this}var models=this._items.concat(),facade;options||(options={});models.sort(Y.bind(this._sort,this));facade=Y.merge(options,{models:models,src:"sort"});options.silent?this._defResetFn(facade):this.fire(EVT_RESET,facade);return this},sync:function(){var callback=YArray(arguments,0,true).pop();if(typeof callback==="function"){callback()}},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(model){return model.toJSON()})},_add:function(model,options){var facade,id;options||(options={});if(!model._isYUIModel){model=new this.model(model)}id=model.get("id");if(this._clientIdMap[model.get("clientId")]||Lang.isValue(id)&&this._idMap[id]){this.fire(EVT_ERROR,{error:"Model is already in the list.",model:model,src:"add"});return}facade=Y.merge(options,{index:"index"in options?options.index:this._findIndex(model),model:model});options.silent?this._defAddFn(facade):this.fire(EVT_ADD,facade);return model},_attachList:function(model){model.lists.push(this);model.addTarget(this)},_clear:function(){YArray.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,b){return a<b?-1:a>b?1:0},_detachList:function(model){var index=YArray.indexOf(model.lists,this);if(index>-1){model.lists.splice(index,1);model.removeTarget(this)}},_findIndex:function(model){var items=this._items,max=items.length,min=0,item,middle,needle;if(!this.comparator||!max){return max}needle=this.comparator(model);while(min<max){middle=min+max>>1;item=items[middle];if(this._compare(this.comparator(item),needle)<0){min=middle+1}else{max=middle}}return min},_parse:function(response){return this.parse(response)},_remove:function(model,options){var index,facade;options||(options={});if(Lang.isNumber(model)){index=model;model=this.item(index)}else{index=this.indexOf(model)}if(index===-1||!model){this.fire(EVT_ERROR,{error:"Model is not in the list.",index:index,model:model,src:"remove"});return}facade=Y.merge(options,{index:index,model:model});options.silent?this._defRemoveFn(facade):this.fire(EVT_REMOVE,facade);return model},_sort:function(a,b){return this._compare(this.comparator(a),this.comparator(b))},_afterIdChange:function(e){var newVal=e.newVal,prevVal=e.prevVal,target=e.target;if(Lang.isValue(prevVal)){if(this._idMap[prevVal]===target){delete this._idMap[prevVal]}else{return}}else{if(this.indexOf(target)===-1){return}}if(Lang.isValue(newVal)){this._idMap[newVal]=target}},_defAddFn:function(e){var model=e.model,id=model.get("id");this._clientIdMap[model.get("clientId")]=model;if(Lang.isValue(id)){this._idMap[id]=model}this._attachList(model);this._items.splice(e.index,0,model)},_defRemoveFn:function(e){var model=e.model,id=model.get("id");this._detachList(model);delete this._clientIdMap[model.get("clientId")];if(Lang.isValue(id)){delete this._idMap[id]}this._items.splice(e.index,1)},_defResetFn:function(e){if(e.src==="sort"){this._items=e.models.concat();return}this._clear();if(e.models.length){this.add(e.models,{silent:true})}}},{NAME:"modelList"});Y.augment(ModelList,Y.ArrayList)},"3.9.1",{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]});YUI.add("timers",function(Y,NAME){var YGLOBAL=Y.config.global,soon=function(callbackFunction){var canceled;soon._asynchronizer(function(){if(!canceled){callbackFunction()}});return{cancel:function(){canceled=1}}};if("setImmediate"in YGLOBAL){soon._asynchronizer=function(callbackFunction){setImmediate(callbackFunction)};soon._impl="setImmediate"}else if("process"in YGLOBAL&&"nextTick"in process){soon._asynchronizer=process.nextTick;soon._impl="nextTick"}else{soon._asynchronizer=function(callbackFunction){setTimeout(callbackFunction,0)};soon._impl="setTimeout"}Y.soon=soon},"3.9.1",{requires:["yui-base"]});YUI.add("promise",function(Y,NAME){function Promise(fn){if(!(this instanceof Promise)){return new Promise(fn)}var resolver=new Promise.Resolver(this);this._resolver=resolver;fn.call(this,function(value){resolver.fulfill(value)},function(reason){resolver.reject(reason)})}Y.mix(Promise.prototype,{then:function(callback,errback){return this._resolver.then(callback,errback)},getStatus:function(){return this._resolver.getStatus()}});Promise.isPromise=function(obj){return!!obj&&typeof obj.then==="function"};Y.Promise=Promise;function Resolver(promise){this._callbacks=[];this._errbacks=[];this.promise=promise;this._status="pending"}Y.mix(Resolver.prototype,{fulfill:function(value){if(this._status==="pending"){this._result=value}if(this._status!=="rejected"){this._notify(this._callbacks,this._result);this._callbacks=[];this._errbacks=null;this._status="fulfilled"}},reject:function(reason){if(this._status==="pending"){this._result=reason}if(this._status!=="fulfilled"){this._notify(this._errbacks,this._result);this._callbacks=null;this._errbacks=[];this._status="rejected"}},then:function(callback,errback){var promise=this.promise,thenFulfill,thenReject,then=new promise.constructor(function(fulfill,reject){thenFulfill=fulfill;thenReject=reject}),callbackList=this._callbacks||[],errbackList=this._errbacks||[];callbackList.push(typeof callback==="function"?this._wrap(thenFulfill,thenReject,callback):thenFulfill);errbackList.push(typeof errback==="function"?this._wrap(thenFulfill,thenReject,errback):thenReject);if(this._status==="fulfilled"){this.fulfill(this._result)}else if(this._status==="rejected"){this.reject(this._result)}return then},_wrap:function(thenFulfill,thenReject,fn){var promise=this.promise;return function(){var args=arguments;Y.soon(function(){var result;try{result=fn.apply(promise,args)}catch(e){return thenReject(e)}if(Promise.isPromise(result)){result.then(thenFulfill,thenReject)}else{thenFulfill(result)}})}},getStatus:function(){return this._status},_notify:function(subs,result){var i,len;for(i=0,len=subs.length;i<len;++i){subs[i](result)}}},true);Y.Promise.Resolver=Resolver;Y.when=function(promise,callback,errback){var value;if(!Y.Promise.isPromise(promise)){value=promise;promise=new Y.Promise(function(fulfill){fulfill(value)})}return callback||errback?promise.then(callback,errback):promise};var slice=[].slice;Y.batch=function(){var funcs=slice.call(arguments),remaining=funcs.length,i=0,length=funcs.length,results=[];return new Y.Promise(function(fulfill,reject){var allDone=this;function oneDone(index){return function(value){results[index]=value;remaining--;if(!remaining&&allDone.getStatus()!=="rejected"){fulfill(results)}}}if(length<1){return fulfill(results)}for(;i<length;i++){Y.when(funcs[i],oneDone(i),reject)}})}},"3.9.1",{requires:["timers"]});YUI.add("lazy-model-list",function(Y,NAME){var AttrProto=Y.Attribute.prototype,GlobalEnv=YUI.namespace("Env.Model"),Lang=Y.Lang,YArray=Y.Array,EVT_ADD="add",EVT_ERROR="error",EVT_RESET="reset";Y.LazyModelList=Y.Base.create("lazyModelList",Y.ModelList,[],{initializer:function(){this.after("*:change",this._afterModelChange)},free:function(model){var index;if(model){index=Lang.isNumber(model)?model:this.indexOf(model);if(index>=0){delete this._models[index]}}else{this._models=[]}return this},get:function(name){if(this.attrAdded(name)){return AttrProto.get.apply(this,arguments)}return YArray.map(this._items,function(item){return item[name]})},getAsHTML:function(name){if(this.attrAdded(name)){return Y.Escape.html(AttrProto.get.apply(this,arguments))}return YArray.map(this._items,function(item){return Y.Escape.html(item[name])})},getAsURL:function(name){if(this.attrAdded(name)){return encodeURIComponent(AttrProto.get.apply(this,arguments))}return YArray.map(this._items,function(item){return encodeURIComponent(item[name])})},indexOf:function(model){return YArray.indexOf(model&&model._isYUIModel?this._models:this._items,model)},reset:function(items,options){items||(items=[]);options||(options={});var facade=Y.merge({src:"reset"},options);items=items._isYUIModelList?items.map(this._modelToObject):YArray.map(items,this._modelToObject);facade.models=items;if(options.silent){this._defResetFn(facade)}else{if(this.comparator){items.sort(Y.bind(this._sort,this))}this.fire(EVT_RESET,facade)}return this},revive:function(item){var i,len,models;if(item||item===0){return this._revive(Lang.isNumber(item)?item:this.indexOf(item))}else{models=[];for(i=0,len=this._items.length;i<len;i++){models.push(this._revive(i))}return models}},toJSON:function(){return this.toArray()},_add:function(item,options){var facade;options||(options={});item=this._modelToObject(item);if(!("clientId"in item)){item.clientId=this._generateClientId()}if(this._isInList(item)){this.fire(EVT_ERROR,{error:"Model is already in the list.",model:item,src:"add"});return}facade=Y.merge(options,{index:"index"in options?options.index:this._findIndex(item),model:item});options.silent?this._defAddFn(facade):this.fire(EVT_ADD,facade);return item},_clear:function(){YArray.each(this._models,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[];this._models=[]},_generateClientId:function(){GlobalEnv.lastId||(GlobalEnv.lastId=0);return this.model.NAME+"_"+(GlobalEnv.lastId+=1)},_isInList:function(item){return!!("clientId"in item&&this._clientIdMap[item.clientId]||"id"in item&&this._idMap[item.id])},_modelToObject:function(model){if(model._isYUIModel){model=model.getAttrs();delete model.destroyed;delete model.initialized}return model},_remove:function(item,options){if(item._isYUIModel){item=this.indexOf(item)}return Y.ModelList.prototype._remove.call(this,item,options)},_revive:function(index){var item,model;if(index<0){return null}item=this._items[index];if(!item){return null}model=this._models[index];if(!model){model=new this.model(item);model._set("clientId",item.clientId);this._attachList(model);this._models[index]=model}return model},_afterModelChange:function(e){var changed=e.changed,item=this._clientIdMap[e.target.get("clientId")],name;if(item){for(name in changed){if(changed.hasOwnProperty(name)){item[name]=changed[name].newVal}}}},_defAddFn:function(e){var item=e.model;this._clientIdMap[item.clientId]=item;if(Lang.isValue(item.id)){this._idMap[item.id]=item}this._items.splice(e.index,0,item)},_defRemoveFn:function(e){var index=e.index,item=e.model,model=this._models[index];delete this._clientIdMap[item.clientId];if("id"in item){delete this._idMap[item.id]}if(model){this._detachList(model)}this._items.splice(index,1);this._models.splice(index,1)}})},"3.9.1",{requires:["model-list"]});YUI.add("datasource-local",function(Y,NAME){var LANG=Y.Lang,DSLocal=function(){DSLocal.superclass.constructor.apply(this,arguments)};Y.mix(DSLocal,{NAME:"dataSourceLocal",ATTRS:{source:{value:null}},_tId:0,transactions:{},issueCallback:function(e,caller){var callbacks=e.on||e.callback,callback=callbacks&&callbacks.success,payload=e.details[0];payload.error=e.error||e.response.error;if(payload.error){caller.fire("error",payload);callback=callbacks&&callbacks.failure}if(callback){callback(payload)}}});Y.extend(DSLocal,Y.Base,{initializer:function(config){this._initEvents()},_initEvents:function(){this.publish("request",{defaultFn:Y.bind("_defRequestFn",this),queuable:true});this.publish("data",{defaultFn:Y.bind("_defDataFn",this),queuable:true});this.publish("response",{defaultFn:Y.bind("_defResponseFn",this),queuable:true})},_defRequestFn:function(e){var data=this.get("source"),payload=e.details[0];if(LANG.isUndefined(data)){payload.error=new Error("Local source undefined")}payload.data=data;this.fire("data",payload)},_defDataFn:function(e){var data=e.data,meta=e.meta,response={results:LANG.isArray(data)?data:[data],meta:meta?meta:{}},payload=e.details[0];payload.response=response;this.fire("response",payload)},_defResponseFn:function(e){DSLocal.issueCallback(e,this)},sendRequest:function(request){var tId=DSLocal._tId++,callbacks;request=request||{};callbacks=request.on||request.callback;this.fire("request",{tId:tId,request:request.request,on:callbacks,callback:callbacks,cfg:request.cfg||{}});return tId}});Y.namespace("DataSource").Local=DSLocal},"3.9.1",{requires:["base"]});YUI.add("datasource-io",function(Y,NAME){var DSIO=function(){DSIO.superclass.constructor.apply(this,arguments)};Y.mix(DSIO,{NAME:"dataSourceIO",ATTRS:{io:{value:Y.io,cloneDefaultValue:false},ioConfig:{value:null}}});Y.extend(DSIO,Y.DataSource.Local,{initializer:function(config){this._queue={interval:null,conn:null,requests:[]}},successHandler:function(id,response,e){var defIOConfig=this.get("ioConfig"),payload=e.details[0];delete Y.DataSource.Local.transactions[e.tId];payload.data=response;this.fire("data",payload);if(defIOConfig&&defIOConfig.on&&defIOConfig.on.success){defIOConfig.on.success.apply(defIOConfig.context||Y,arguments)}},failureHandler:function(id,response,e){var defIOConfig=this.get("ioConfig"),payload=e.details[0];delete Y.DataSource.Local.transactions[e.tId];payload.error=new Error("IO data failure");payload.data=response;this.fire("data",payload);if(defIOConfig&&defIOConfig.on&&defIOConfig.on.failure){defIOConfig.on.failure.apply(defIOConfig.context||Y,arguments)}},_queue:null,_defRequestFn:function(e){var uri=this.get("source"),io=this.get("io"),defIOConfig=this.get("ioConfig"),request=e.request,cfg=Y.merge(defIOConfig,e.cfg,{on:Y.merge(defIOConfig,{success:this.successHandler,failure:this.failureHandler}),context:this,arguments:e});if(Y.Lang.isString(request)){if(cfg.method&&cfg.method.toUpperCase()==="POST"){cfg.data=cfg.data?cfg.data+request:request}else{uri+=request}}Y.DataSource.Local.transactions[e.tId]=io(uri,cfg);return e.tId}});Y.DataSource.IO=DSIO},"3.9.1",{requires:["datasource-local","io-base"]});YUI.add("json-stringify",function(Y,NAME){var COLON=":",_JSON=Y.config.global.JSON;Y.mix(Y.namespace("JSON"),{dateToString:function(d){function _zeroPad(v){return v<10?"0"+v:v}return d.getUTCFullYear()+"-"+_zeroPad(d.getUTCMonth()+1)+"-"+_zeroPad(d.getUTCDate())+"T"+_zeroPad(d.getUTCHours())+COLON+_zeroPad(d.getUTCMinutes())+COLON+_zeroPad(d.getUTCSeconds())+"Z"},stringify:function(){return _JSON.stringify.apply(_JSON,arguments)},charCacheThreshold:100})},"3.9.1",{requires:["yui-base"]});YUI.add("plugin",function(Y,NAME){function Plugin(config){if(!(this.hasImpl&&this.hasImpl(Y.Plugin.Base))){Plugin.superclass.constructor.apply(this,arguments)}else{Plugin.prototype.initializer.apply(this,arguments)}}Plugin.ATTRS={host:{writeOnce:true}};Plugin.NAME="plugin";Plugin.NS="plugin";Y.extend(Plugin,Y.Base,{_handles:null,initializer:function(config){this._handles=[]},destructor:function(){if(this._handles){for(var i=0,l=this._handles.length;i<l;i++){this._handles[i].detach()}}},doBefore:function(strMethod,fn,context){var host=this.get("host"),handle;if(strMethod in host){handle=this.beforeHostMethod(strMethod,fn,context)}else if(host.on){handle=this.onHostEvent(strMethod,fn,context)}return handle},doAfter:function(strMethod,fn,context){var host=this.get("host"),handle;if(strMethod in host){handle=this.afterHostMethod(strMethod,fn,context)}else if(host.after){handle=this.afterHostEvent(strMethod,fn,context)}return handle},onHostEvent:function(type,fn,context){var handle=this.get("host").on(type,fn,context||this);this._handles.push(handle);return handle},afterHostEvent:function(type,fn,context){var handle=this.get("host").after(type,fn,context||this);this._handles.push(handle);return handle},beforeHostMethod:function(strMethod,fn,context){var handle=Y.Do.before(fn,this.get("host"),strMethod,context||this);this._handles.push(handle);return handle},afterHostMethod:function(strMethod,fn,context){var handle=Y.Do.after(fn,this.get("host"),strMethod,context||this);this._handles.push(handle);return handle},toString:function(){return this.constructor.NAME+"["+this.constructor.NS+"]"}});Y.namespace("Plugin").Base=Plugin},"3.9.1",{requires:["base-base"]});YUI.add("dataschema-base",function(Y,NAME){var LANG=Y.Lang,SchemaBase={apply:function(schema,data){return data},parse:function(value,field){if(field.parser){var parser=LANG.isFunction(field.parser)?field.parser:Y.Parsers[field.parser+""];if(parser){value=parser.call(this,value)}else{}}return value}};Y.namespace("DataSchema").Base=SchemaBase;Y.namespace("Parsers")},"3.9.1",{requires:["base"]});YUI.add("dataschema-json",function(Y,NAME){var LANG=Y.Lang,isFunction=LANG.isFunction,isObject=LANG.isObject,isArray=LANG.isArray,Base=Y.DataSchema.Base,SchemaJSON;SchemaJSON={getPath:function(locator){var path=null,keys=[],i=0;if(locator){locator=locator.replace(/\[\s*(['"])(.*?)\1\s*\]/g,function(x,$1,$2){keys[i]=$2;return".@"+i++}).replace(/\[(\d+)\]/g,function(x,$1){keys[i]=parseInt($1,10)|0;return".@"+i++}).replace(/^\./,"");path=locator.split(".");for(i=path.length-1;i>=0;--i){if(path[i].charAt(0)==="@"){path[i]=keys[parseInt(path[i].substr(1),10)]}}}return path},getLocationValue:function(path,data){var i=0,len=path.length;for(;i<len;i++){if(isObject(data)&&path[i]in data){data=data[path[i]]}else{data=undefined;break}}return data},apply:function(schema,data){var data_in=data,data_out={results:[],meta:{}};if(!isObject(data)){try{data_in=Y.JSON.parse(data)}catch(e){data_out.error=e;return data_out}}if(isObject(data_in)&&schema){data_out=SchemaJSON._parseResults.call(this,schema,data_in,data_out);if(schema.metaFields!==undefined){data_out=SchemaJSON._parseMeta(schema.metaFields,data_in,data_out)}}else{data_out.error=new Error("JSON schema parse failure")}return data_out},_parseResults:function(schema,json_in,data_out){var getPath=SchemaJSON.getPath,getValue=SchemaJSON.getLocationValue,path=getPath(schema.resultListLocator),results=path?getValue(path,json_in)||json_in[schema.resultListLocator]:json_in;if(isArray(results)){if(isArray(schema.resultFields)){data_out=SchemaJSON._getFieldValues.call(this,schema.resultFields,results,data_out)}else{data_out.results=results}}else if(schema.resultListLocator){data_out.results=[];data_out.error=new Error("JSON results retrieval failure")}return data_out},_getFieldValues:function(fields,array_in,data_out){var results=[],len=fields.length,i,j,field,key,locator,path,parser,val,simplePaths=[],complexPaths=[],fieldParsers=[],result,record;for(i=0;i<len;i++){field=fields[i];key=field.key||field;locator=field.locator||key;path=SchemaJSON.getPath(locator);if(path){if(path.length===1){simplePaths.push({key:key,path:path[0]})}else{complexPaths.push({key:key,path:path,locator:locator})}}else{}parser=isFunction(field.parser)?field.parser:Y.Parsers[field.parser+""];if(parser){fieldParsers.push({key:key,parser:parser})}}for(i=array_in.length-1;i>=0;--i){record={};result=array_in[i];if(result){for(j=complexPaths.length-1;j>=0;--j){path=complexPaths[j];val=SchemaJSON.getLocationValue(path.path,result);if(val===undefined){val=SchemaJSON.getLocationValue([path.locator],result);if(val!==undefined){simplePaths.push({key:path.key,path:path.locator});complexPaths.splice(i,1);continue}}record[path.key]=Base.parse.call(this,SchemaJSON.getLocationValue(path.path,result),path)}for(j=simplePaths.length-1;j>=0;--j){path=simplePaths[j];record[path.key]=Base.parse.call(this,result[path.path]===undefined?result[j]:result[path.path],path)}for(j=fieldParsers.length-1;j>=0;--j){key=fieldParsers[j].key;record[key]=fieldParsers[j].parser.call(this,record[key]);if(record[key]===undefined){record[key]=null}}results[i]=record}}data_out.results=results;return data_out},_parseMeta:function(metaFields,json_in,data_out){if(isObject(metaFields)){var key,path;for(key in metaFields){if(metaFields.hasOwnProperty(key)){path=SchemaJSON.getPath(metaFields[key]);if(path&&json_in){data_out.meta[key]=SchemaJSON.getLocationValue(path,json_in)}}}}else{data_out.error=new Error("JSON meta data retrieval failure")}return data_out}};Y.DataSchema.JSON=Y.mix(SchemaJSON,Base)},"3.9.1",{requires:["dataschema-base","json"]});YUI.add("datasource-jsonschema",function(Y,NAME){var DataSourceJSONSchema=function(){DataSourceJSONSchema.superclass.constructor.apply(this,arguments)};Y.mix(DataSourceJSONSchema,{NS:"schema",NAME:"dataSourceJSONSchema",ATTRS:{schema:{}}});Y.extend(DataSourceJSONSchema,Y.Plugin.Base,{initializer:function(config){this.doBefore("_defDataFn",this._beforeDefDataFn)},_beforeDefDataFn:function(e){var data=e.data&&(e.data.responseText||e.data),schema=this.get("schema"),payload=e.details[0];payload.response=Y.DataSchema.JSON.apply.call(this,schema,data)||{meta:{},results:data};this.get("host").fire("response",payload);return new Y.Do.Halt("DataSourceJSONSchema plugin halted _defDataFn")}});Y.namespace("Plugin").DataSourceJSONSchema=DataSourceJSONSchema},"3.9.1",{requires:["datasource-local","plugin","dataschema-json"]});YUI.add("event-mousewheel",function(Y,NAME){var DOM_MOUSE_SCROLL="DOMMouseScroll",fixArgs=function(args){var a=Y.Array(args,0,true),target;if(Y.UA.gecko){a[0]=DOM_MOUSE_SCROLL;target=Y.config.win}else{target=Y.config.doc}if(a.length<3){a[2]=target}else{a.splice(2,0,target)}return a};Y.Env.evt.plugins.mousewheel={on:function(){return Y.Event._attach(fixArgs(arguments))},detach:function(){return Y.Event.detach.apply(Y.Event,fixArgs(arguments))}}},"3.9.1",{requires:["node-base"]});YUI.add("event-mouseenter",function(Y,NAME){var domEventProxies=Y.Env.evt.dom_wrappers,contains=Y.DOM.contains,toArray=Y.Array,noop=function(){},config={proxyType:"mouseover",relProperty:"fromElement",_notify:function(e,property,notifier){var el=this._node,related=e.relatedTarget||e[property];if(el!==related&&!contains(el,related)){notifier.fire(new Y.DOMEventFacade(e,el,domEventProxies["event:"+Y.stamp(el)+e.type]))}},on:function(node,sub,notifier){var el=Y.Node.getDOMNode(node),args=[this.proxyType,this._notify,el,null,this.relProperty,notifier];sub.handle=Y.Event._attach(args,{facade:false})},detach:function(node,sub){sub.handle.detach()},delegate:function(node,sub,notifier,filter){var el=Y.Node.getDOMNode(node),args=[this.proxyType,noop,el,null,notifier];sub.handle=Y.Event._attach(args,{facade:false});sub.handle.sub.filter=filter;sub.handle.sub.relProperty=this.relProperty;sub.handle.sub._notify=this._filterNotify},_filterNotify:function(thisObj,args,ce){args=args.slice();if(this.args){args.push.apply(args,this.args)}var currentTarget=Y.delegate._applyFilter(this.filter,args,ce),related=args[0].relatedTarget||args[0][this.relProperty],e,i,len,ret,ct;if(currentTarget){currentTarget=toArray(currentTarget);for(i=0,len=currentTarget.length&&(!e||!e.stopped);i<len;++i){ct=currentTarget[0];if(!contains(ct,related)){if(!e){e=new Y.DOMEventFacade(args[0],ct,ce);e.container=Y.one(ce.el)}e.currentTarget=Y.one(ct);ret=args[1].fire(e);if(ret===false){break}}}}return ret},detachDelegate:function(node,sub){sub.handle.detach()}};Y.Event.define("mouseenter",config,true);Y.Event.define("mouseleave",Y.merge(config,{proxyType:"mouseout",relProperty:"toElement"}),true)},"3.9.1",{requires:["event-synthetic"]});YUI.add("event-focus",function(Y,NAME){var Event=Y.Event,YLang=Y.Lang,isString=YLang.isString,arrayIndex=Y.Array.indexOf,useActivate=function(){var supported=false,doc=Y.config.doc,p;if(doc){p=doc.createElement("p");p.setAttribute("onbeforeactivate",";");supported=p.onbeforeactivate!==undefined}return supported}();function define(type,proxy,directEvent){var nodeDataKey="_"+type+"Notifiers";Y.Event.define(type,{_useActivate:useActivate,_attach:function(el,notifier,delegate){if(Y.DOM.isWindow(el)){return Event._attach([type,function(e){notifier.fire(e)},el])}else{return Event._attach([proxy,this._proxy,el,this,notifier,delegate],{capture:true})}},_proxy:function(e,notifier,delegate){var target=e.target,currentTarget=e.currentTarget,notifiers=target.getData(nodeDataKey),yuid=Y.stamp(currentTarget._node),defer=useActivate||target!==currentTarget,directSub;notifier.currentTarget=delegate?target:currentTarget;notifier.container=delegate?currentTarget:null;if(!notifiers){notifiers={};target.setData(nodeDataKey,notifiers);if(defer){directSub=Event._attach([directEvent,this._notify,target._node]).sub;directSub.once=true}}else{defer=true}if(!notifiers[yuid]){notifiers[yuid]=[]}notifiers[yuid].push(notifier);if(!defer){this._notify(e)}},_notify:function(e,container){var currentTarget=e.currentTarget,notifierData=currentTarget.getData(nodeDataKey),axisNodes=currentTarget.ancestors(),doc=currentTarget.get("ownerDocument"),delegates=[],count=notifierData?Y.Object.keys(notifierData).length:0,target,notifiers,notifier,yuid,match,tmp,i,len,sub,ret;currentTarget.clearData(nodeDataKey);axisNodes.push(currentTarget);if(doc){axisNodes.unshift(doc)}axisNodes._nodes.reverse();if(count){tmp=count;axisNodes.some(function(node){var yuid=Y.stamp(node),notifiers=notifierData[yuid],i,len;if(notifiers){count--;for(i=0,len=notifiers.length;i<len;++i){if(notifiers[i].handle.sub.filter){delegates.push(notifiers[i])}}}return!count});count=tmp}while(count&&(target=axisNodes.shift())){yuid=Y.stamp(target);notifiers=notifierData[yuid];if(notifiers){for(i=0,len=notifiers.length;i<len;++i){notifier=notifiers[i];sub=notifier.handle.sub;match=true;e.currentTarget=target;if(sub.filter){match=sub.filter.apply(target,[target,e].concat(sub.args||[]));delegates.splice(arrayIndex(delegates,notifier),1)}if(match){e.container=notifier.container;ret=notifier.fire(e)}if(ret===false||e.stopped===2){break}}delete notifiers[yuid];count--}if(e.stopped!==2){for(i=0,len=delegates.length;i<len;++i){notifier=delegates[i];sub=notifier.handle.sub;if(sub.filter.apply(target,[target,e].concat(sub.args||[]))){e.container=notifier.container;e.currentTarget=target;ret=notifier.fire(e)}if(ret===false||e.stopped===2){break}}}if(e.stopped){break}}},on:function(node,sub,notifier){sub.handle=this._attach(node._node,notifier)},detach:function(node,sub){sub.handle.detach()},delegate:function(node,sub,notifier,filter){if(isString(filter)){sub.filter=function(target){return Y.Selector.test(target._node,filter,node===target?null:node._node)}}sub.handle=this._attach(node._node,notifier,true)},detachDelegate:function(node,sub){sub.handle.detach()}},true)}if(useActivate){define("focus","beforeactivate","focusin");define("blur","beforedeactivate","focusout")}else{define("focus","focus","focus");define("blur","blur","blur")}},"3.9.1",{requires:["event-synthetic"]});YUI.add("event-resize",function(Y,NAME){Y.Event.define("windowresize",{on:Y.UA.gecko&&Y.UA.gecko<1.91?function(node,sub,notifier){sub._handle=Y.Event.attach("resize",function(e){notifier.fire(e)})}:function(node,sub,notifier){var delay=Y.config.windowResizeDelay||100;sub._handle=Y.Event.attach("resize",function(e){if(sub._timer){sub._timer.cancel()}sub._timer=Y.later(delay,Y,function(){notifier.fire(e)})})},detach:function(node,sub){if(sub._timer){sub._timer.cancel()}sub._handle.detach()}})},"3.9.1",{requires:["node-base","event-synthetic"]});YUI.add("event-hover",function(Y,NAME){var isFunction=Y.Lang.isFunction,noop=function(){},conf={processArgs:function(args){var i=isFunction(args[2])?2:3;return isFunction(args[i])?args.splice(i,1)[0]:noop},on:function(node,sub,notifier,filter){var args=sub.args?sub.args.slice():[];args.unshift(null);sub._detach=node[filter?"delegate":"on"]({mouseenter:function(e){e.phase="over";notifier.fire(e)},mouseleave:function(e){var thisObj=sub.context||this;args[0]=e;e.type="hover";e.phase="out";sub._extra.apply(thisObj,args)}},filter)},detach:function(node,sub,notifier){sub._detach.detach()}};conf.delegate=conf.on;conf.detachDelegate=conf.detach;Y.Event.define("hover",conf)},"3.9.1",{requires:["event-mouseenter"]});YUI.add("event-outside",function(Y,NAME){var nativeEvents=["blur","change","click","dblclick","focus","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","select","submit"];Y.Event.defineOutside=function(event,name){name=name||event+"outside";var config={on:function(node,sub,notifier){sub.handle=Y.one("doc").on(event,function(e){if(this.isOutside(node,e.target)){e.currentTarget=node;notifier.fire(e)}},this)},detach:function(node,sub,notifier){sub.handle.detach()},delegate:function(node,sub,notifier,filter){sub.handle=Y.one("doc").delegate(event,function(e){if(this.isOutside(node,e.target)){notifier.fire(e)}},filter,this)},isOutside:function(node,target){return target!==node&&!target.ancestor(function(p){return p===node})}};config.detachDelegate=config.detach;Y.Event.define(name,config)};Y.Array.each(nativeEvents,function(event){Y.Event.defineOutside(event)})},"3.9.1",{requires:["event-synthetic"]});YUI.add("event-move",function(Y,NAME){var GESTURE_MAP=Y.Event._GESTURE_MAP,EVENT={start:GESTURE_MAP.start,end:GESTURE_MAP.end,move:GESTURE_MAP.move},START="start",MOVE="move",END="end",GESTURE_MOVE="gesture"+MOVE,GESTURE_MOVE_END=GESTURE_MOVE+END,GESTURE_MOVE_START=GESTURE_MOVE+START,_MOVE_START_HANDLE="_msh",_MOVE_HANDLE="_mh",_MOVE_END_HANDLE="_meh",_DEL_MOVE_START_HANDLE="_dmsh",_DEL_MOVE_HANDLE="_dmh",_DEL_MOVE_END_HANDLE="_dmeh",_MOVE_START="_ms",_MOVE="_m",MIN_TIME="minTime",MIN_DISTANCE="minDistance",PREVENT_DEFAULT="preventDefault",BUTTON="button",OWNER_DOCUMENT="ownerDocument",CURRENT_TARGET="currentTarget",TARGET="target",NODE_TYPE="nodeType",SUPPORTS_POINTER=Y.config.win&&"msPointerEnabled"in Y.config.win.navigator,MS_TOUCH_ACTION_COUNT="msTouchActionCount",MS_INIT_TOUCH_ACTION="msInitTouchAction",_defArgsProcessor=function(se,args,delegate){var iConfig=delegate?4:3,config=args.length>iConfig?Y.merge(args.splice(iConfig,1)[0]):{};if(!(PREVENT_DEFAULT in config)){config[PREVENT_DEFAULT]=se.PREVENT_DEFAULT}return config},_getRoot=function(node,subscriber){return subscriber._extra.root||node.get(NODE_TYPE)===9?node:node.get(OWNER_DOCUMENT)},_checkDocumentElem=function(node){var elem=node.getDOMNode();if(node.compareTo(Y.config.doc)&&elem.documentElement){return elem.documentElement}else{return false}},_normTouchFacade=function(touchFacade,touch,params){touchFacade.pageX=touch.pageX;touchFacade.pageY=touch.pageY;touchFacade.screenX=touch.screenX;touchFacade.screenY=touch.screenY;touchFacade.clientX=touch.clientX;touchFacade.clientY=touch.clientY;touchFacade[TARGET]=touchFacade[TARGET]||touch[TARGET];touchFacade[CURRENT_TARGET]=touchFacade[CURRENT_TARGET]||touch[CURRENT_TARGET];touchFacade[BUTTON]=params&&params[BUTTON]||1},_setTouchActions=function(node){var elem=_checkDocumentElem(node)||node.getDOMNode(),num=node.getData(MS_TOUCH_ACTION_COUNT);if(SUPPORTS_POINTER){if(!num){num=0;node.setData(MS_INIT_TOUCH_ACTION,elem.style.msTouchAction)}elem.style.msTouchAction=Y.Event._DEFAULT_TOUCH_ACTION;num++;node.setData(MS_TOUCH_ACTION_COUNT,num)}},_unsetTouchActions=function(node){var elem=_checkDocumentElem(node)||node.getDOMNode(),num=node.getData(MS_TOUCH_ACTION_COUNT),initTouchAction=node.getData(MS_INIT_TOUCH_ACTION);if(SUPPORTS_POINTER){num--;node.setData(MS_TOUCH_ACTION_COUNT,num);if(num===0&&elem.style.msTouchAction!==initTouchAction){elem.style.msTouchAction=initTouchAction}}},_prevent=function(e,preventDefault){if(preventDefault){if(!preventDefault.call||preventDefault(e)){e.preventDefault()}}},define=Y.Event.define;Y.Event._DEFAULT_TOUCH_ACTION="none";define(GESTURE_MOVE_START,{on:function(node,subscriber,ce){_setTouchActions(node);subscriber[_MOVE_START_HANDLE]=node.on(EVENT[START],this._onStart,this,node,subscriber,ce)},delegate:function(node,subscriber,ce,filter){var se=this;subscriber[_DEL_MOVE_START_HANDLE]=node.delegate(EVENT[START],function(e){se._onStart(e,node,subscriber,ce,true)},filter)},detachDelegate:function(node,subscriber,ce,filter){var handle=subscriber[_DEL_MOVE_START_HANDLE];if(handle){handle.detach();subscriber[_DEL_MOVE_START_HANDLE]=null}_unsetTouchActions(node)},detach:function(node,subscriber,ce){var startHandle=subscriber[_MOVE_START_HANDLE];if(startHandle){startHandle.detach();subscriber[_MOVE_START_HANDLE]=null}_unsetTouchActions(node)},processArgs:function(args,delegate){var params=_defArgsProcessor(this,args,delegate);if(!(MIN_TIME in params)){params[MIN_TIME]=this.MIN_TIME}if(!(MIN_DISTANCE in params)){params[MIN_DISTANCE]=this.MIN_DISTANCE}return params},_onStart:function(e,node,subscriber,ce,delegate){if(delegate){node=e[CURRENT_TARGET]
}var params=subscriber._extra,fireStart=true,minTime=params[MIN_TIME],minDistance=params[MIN_DISTANCE],button=params.button,preventDefault=params[PREVENT_DEFAULT],root=_getRoot(node,subscriber),startXY;if(e.touches){if(e.touches.length===1){_normTouchFacade(e,e.touches[0],params)}else{fireStart=false}}else{fireStart=button===undefined||button===e.button}if(fireStart){_prevent(e,preventDefault);if(minTime===0||minDistance===0){this._start(e,node,ce,params)}else{startXY=[e.pageX,e.pageY];if(minTime>0){params._ht=Y.later(minTime,this,this._start,[e,node,ce,params]);params._hme=root.on(EVENT[END],Y.bind(function(){this._cancel(params)},this))}if(minDistance>0){params._hm=root.on(EVENT[MOVE],Y.bind(function(em){if(Math.abs(em.pageX-startXY[0])>minDistance||Math.abs(em.pageY-startXY[1])>minDistance){this._start(e,node,ce,params)}},this))}}}},_cancel:function(params){if(params._ht){params._ht.cancel();params._ht=null}if(params._hme){params._hme.detach();params._hme=null}if(params._hm){params._hm.detach();params._hm=null}},_start:function(e,node,ce,params){if(params){this._cancel(params)}e.type=GESTURE_MOVE_START;node.setData(_MOVE_START,e);ce.fire(e)},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:false});define(GESTURE_MOVE,{on:function(node,subscriber,ce){_setTouchActions(node);var root=_getRoot(node,subscriber,EVENT[MOVE]),moveHandle=root.on(EVENT[MOVE],this._onMove,this,node,subscriber,ce);subscriber[_MOVE_HANDLE]=moveHandle},delegate:function(node,subscriber,ce,filter){var se=this;subscriber[_DEL_MOVE_HANDLE]=node.delegate(EVENT[MOVE],function(e){se._onMove(e,node,subscriber,ce,true)},filter)},detach:function(node,subscriber,ce){var moveHandle=subscriber[_MOVE_HANDLE];if(moveHandle){moveHandle.detach();subscriber[_MOVE_HANDLE]=null}_unsetTouchActions(node)},detachDelegate:function(node,subscriber,ce,filter){var handle=subscriber[_DEL_MOVE_HANDLE];if(handle){handle.detach();subscriber[_DEL_MOVE_HANDLE]=null}_unsetTouchActions(node)},processArgs:function(args,delegate){return _defArgsProcessor(this,args,delegate)},_onMove:function(e,node,subscriber,ce,delegate){if(delegate){node=e[CURRENT_TARGET]}var fireMove=subscriber._extra.standAlone||node.getData(_MOVE_START),preventDefault=subscriber._extra.preventDefault;if(fireMove){if(e.touches){if(e.touches.length===1){_normTouchFacade(e,e.touches[0])}else{fireMove=false}}if(fireMove){_prevent(e,preventDefault);e.type=GESTURE_MOVE;ce.fire(e)}}},PREVENT_DEFAULT:false});define(GESTURE_MOVE_END,{on:function(node,subscriber,ce){_setTouchActions(node);var root=_getRoot(node,subscriber),endHandle=root.on(EVENT[END],this._onEnd,this,node,subscriber,ce);subscriber[_MOVE_END_HANDLE]=endHandle},delegate:function(node,subscriber,ce,filter){var se=this;subscriber[_DEL_MOVE_END_HANDLE]=node.delegate(EVENT[END],function(e){se._onEnd(e,node,subscriber,ce,true)},filter)},detachDelegate:function(node,subscriber,ce,filter){var handle=subscriber[_DEL_MOVE_END_HANDLE];if(handle){handle.detach();subscriber[_DEL_MOVE_END_HANDLE]=null}_unsetTouchActions(node)},detach:function(node,subscriber,ce){var endHandle=subscriber[_MOVE_END_HANDLE];if(endHandle){endHandle.detach();subscriber[_MOVE_END_HANDLE]=null}_unsetTouchActions(node)},processArgs:function(args,delegate){return _defArgsProcessor(this,args,delegate)},_onEnd:function(e,node,subscriber,ce,delegate){if(delegate){node=e[CURRENT_TARGET]}var fireMoveEnd=subscriber._extra.standAlone||node.getData(_MOVE)||node.getData(_MOVE_START),preventDefault=subscriber._extra.preventDefault;if(fireMoveEnd){if(e.changedTouches){if(e.changedTouches.length===1){_normTouchFacade(e,e.changedTouches[0])}else{fireMoveEnd=false}}if(fireMoveEnd){_prevent(e,preventDefault);e.type=GESTURE_MOVE_END;ce.fire(e);node.clearData(_MOVE_START);node.clearData(_MOVE)}}},PREVENT_DEFAULT:false})},"3.9.1",{requires:["node-base","event-touch","event-synthetic"]});YUI.add("event-flick",function(Y,NAME){var GESTURE_MAP=Y.Event._GESTURE_MAP,EVENT={start:GESTURE_MAP.start,end:GESTURE_MAP.end,move:GESTURE_MAP.move},START="start",END="end",MOVE="move",OWNER_DOCUMENT="ownerDocument",MIN_VELOCITY="minVelocity",MIN_DISTANCE="minDistance",PREVENT_DEFAULT="preventDefault",_FLICK_START="_fs",_FLICK_START_HANDLE="_fsh",_FLICK_END_HANDLE="_feh",_FLICK_MOVE_HANDLE="_fmh",NODE_TYPE="nodeType";Y.Event.define("flick",{on:function(node,subscriber,ce){var startHandle=node.on(EVENT[START],this._onStart,this,node,subscriber,ce);subscriber[_FLICK_START_HANDLE]=startHandle},detach:function(node,subscriber,ce){var startHandle=subscriber[_FLICK_START_HANDLE],endHandle=subscriber[_FLICK_END_HANDLE];if(startHandle){startHandle.detach();subscriber[_FLICK_START_HANDLE]=null}if(endHandle){endHandle.detach();subscriber[_FLICK_END_HANDLE]=null}},processArgs:function(args){var params=args.length>3?Y.merge(args.splice(3,1)[0]):{};if(!(MIN_VELOCITY in params)){params[MIN_VELOCITY]=this.MIN_VELOCITY}if(!(MIN_DISTANCE in params)){params[MIN_DISTANCE]=this.MIN_DISTANCE}if(!(PREVENT_DEFAULT in params)){params[PREVENT_DEFAULT]=this.PREVENT_DEFAULT}return params},_onStart:function(e,node,subscriber,ce){var start=true,endHandle,moveHandle,doc,preventDefault=subscriber._extra.preventDefault,origE=e;if(e.touches){start=e.touches.length===1;e=e.touches[0]}if(start){if(preventDefault){if(!preventDefault.call||preventDefault(e)){origE.preventDefault()}}e.flick={time:(new Date).getTime()};subscriber[_FLICK_START]=e;endHandle=subscriber[_FLICK_END_HANDLE];doc=node.get(NODE_TYPE)===9?node:node.get(OWNER_DOCUMENT);if(!endHandle){endHandle=doc.on(EVENT[END],Y.bind(this._onEnd,this),null,node,subscriber,ce);subscriber[_FLICK_END_HANDLE]=endHandle}subscriber[_FLICK_MOVE_HANDLE]=doc.once(EVENT[MOVE],Y.bind(this._onMove,this),null,node,subscriber,ce)}},_onMove:function(e,node,subscriber,ce){var start=subscriber[_FLICK_START];if(start&&start.flick){start.flick.time=(new Date).getTime()}},_onEnd:function(e,node,subscriber,ce){var endTime=(new Date).getTime(),start=subscriber[_FLICK_START],valid=!!start,endEvent=e,startTime,time,preventDefault,params,xyDistance,distance,velocity,axis,moveHandle=subscriber[_FLICK_MOVE_HANDLE];if(moveHandle){moveHandle.detach();delete subscriber[_FLICK_MOVE_HANDLE]}if(valid){if(e.changedTouches){if(e.changedTouches.length===1&&e.touches.length===0){endEvent=e.changedTouches[0]}else{valid=false}}if(valid){params=subscriber._extra;preventDefault=params[PREVENT_DEFAULT];if(preventDefault){if(!preventDefault.call||preventDefault(e)){e.preventDefault()}}startTime=start.flick.time;endTime=(new Date).getTime();time=endTime-startTime;xyDistance=[endEvent.pageX-start.pageX,endEvent.pageY-start.pageY];if(params.axis){axis=params.axis}else{axis=Math.abs(xyDistance[0])>=Math.abs(xyDistance[1])?"x":"y"}distance=xyDistance[axis==="x"?0:1];velocity=time!==0?distance/time:0;if(isFinite(velocity)&&Math.abs(distance)>=params[MIN_DISTANCE]&&Math.abs(velocity)>=params[MIN_VELOCITY]){e.type="flick";e.flick={time:time,distance:distance,velocity:velocity,axis:axis,start:start};ce.fire(e)}subscriber[_FLICK_START]=null}}},MIN_VELOCITY:0,MIN_DISTANCE:0,PREVENT_DEFAULT:false})},"3.9.1",{requires:["node-base","event-touch","event-synthetic"]});YUI.add("event-valuechange",function(Y,NAME){var DATA_KEY="_valuechange",VALUE="value",config,VC={POLL_INTERVAL:50,TIMEOUT:1e4,_poll:function(node,options){var domNode=node._node,event=options.e,newVal=domNode&&domNode.value,vcData=node._data&&node._data[DATA_KEY],facade,prevVal;if(!domNode||!vcData){VC._stopPolling(node);return}prevVal=vcData.prevVal;if(newVal!==prevVal){vcData.prevVal=newVal;facade={_event:event,currentTarget:event&&event.currentTarget||node,newVal:newVal,prevVal:prevVal,target:event&&event.target||node};Y.Object.each(vcData.notifiers,function(notifier){notifier.fire(facade)});VC._refreshTimeout(node)}},_refreshTimeout:function(node,notifier){if(!node._node){return}var vcData=node.getData(DATA_KEY);VC._stopTimeout(node);vcData.timeout=setTimeout(function(){VC._stopPolling(node,notifier)},VC.TIMEOUT)},_startPolling:function(node,notifier,options){if(!node.test("input,textarea")){return}var vcData=node.getData(DATA_KEY);if(!vcData){vcData={prevVal:node.get(VALUE)};node.setData(DATA_KEY,vcData)}vcData.notifiers||(vcData.notifiers={});if(vcData.interval){if(options.force){VC._stopPolling(node,notifier)}else{vcData.notifiers[Y.stamp(notifier)]=notifier;return}}vcData.notifiers[Y.stamp(notifier)]=notifier;vcData.interval=setInterval(function(){VC._poll(node,vcData,options)},VC.POLL_INTERVAL);VC._refreshTimeout(node,notifier)},_stopPolling:function(node,notifier){if(!node._node){return}var vcData=node.getData(DATA_KEY)||{};clearInterval(vcData.interval);delete vcData.interval;VC._stopTimeout(node);if(notifier){vcData.notifiers&&delete vcData.notifiers[Y.stamp(notifier)]}else{vcData.notifiers={}}},_stopTimeout:function(node){var vcData=node.getData(DATA_KEY)||{};clearTimeout(vcData.timeout);delete vcData.timeout},_onBlur:function(e,notifier){VC._stopPolling(e.currentTarget,notifier)},_onFocus:function(e,notifier){var node=e.currentTarget,vcData=node.getData(DATA_KEY);if(!vcData){vcData={};node.setData(DATA_KEY,vcData)}vcData.prevVal=node.get(VALUE);VC._startPolling(node,notifier,{e:e})},_onKeyDown:function(e,notifier){VC._startPolling(e.currentTarget,notifier,{e:e})},_onKeyUp:function(e,notifier){if(e.charCode===229||e.charCode===197){VC._startPolling(e.currentTarget,notifier,{e:e,force:true})}},_onMouseDown:function(e,notifier){VC._startPolling(e.currentTarget,notifier,{e:e})},_onSubscribe:function(node,sub,notifier,filter){var _valuechange,callbacks,nodes;callbacks={blur:VC._onBlur,focus:VC._onFocus,keydown:VC._onKeyDown,keyup:VC._onKeyUp,mousedown:VC._onMouseDown};_valuechange=notifier._valuechange={};if(filter){_valuechange.delegated=true;_valuechange.getNodes=function(){return node.all("input,textarea").filter(filter)};_valuechange.getNodes().each(function(child){if(!child.getData(DATA_KEY)){child.setData(DATA_KEY,{prevVal:child.get(VALUE)})}});notifier._handles=Y.delegate(callbacks,node,filter,null,notifier)}else{if(!node.test("input,textarea")){return}if(!node.getData(DATA_KEY)){node.setData(DATA_KEY,{prevVal:node.get(VALUE)})}notifier._handles=node.on(callbacks,null,null,notifier)}},_onUnsubscribe:function(node,subscription,notifier){var _valuechange=notifier._valuechange;notifier._handles&&notifier._handles.detach();if(_valuechange.delegated){_valuechange.getNodes().each(function(child){VC._stopPolling(child,notifier)})}else{VC._stopPolling(node,notifier)}}};config={detach:VC._onUnsubscribe,on:VC._onSubscribe,delegate:VC._onSubscribe,detachDelegate:VC._onUnsubscribe,publishConfig:{emitFacade:true}};Y.Event.define("valuechange",config);Y.Event.define("valueChange",config);Y.ValueChange=VC},"3.9.1",{requires:["event-focus","event-synthetic"]});YUI.add("event-tap",function(Y,NAME){var doc=Y.config.doc,GESTURE_MAP=Y.Event._GESTURE_MAP,SUPPORTS_TOUCHES=!!(doc&&doc.createTouch),EVT_START=GESTURE_MAP.start,EVT_MOVE=GESTURE_MAP.move,EVT_END=GESTURE_MAP.end,EVT_CANCEL=GESTURE_MAP.cancel,EVT_TAP="tap",HANDLES={START:"Y_TAP_ON_START_HANDLE",MOVE:"Y_TAP_ON_MOVE_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};function detachHelper(subscription,handles,subset,context){handles=subset?handles:[handles.START,handles.MOVE,handles.END,handles.CANCEL];Y.Array.each(handles,function(item,index,array){var handle=subscription[item];if(handle){handle.detach();subscription[item]=null}})}Y.Event.define(EVT_TAP,{on:function(node,subscription,notifier){subscription[HANDLES.START]=node.on(EVT_START,this.touchStart,this,node,subscription,notifier)},detach:function(node,subscription,notifier){detachHelper(subscription,HANDLES)},delegate:function(node,subscription,notifier,filter){subscription[HANDLES.START]=node.delegate(EVT_START,function(e){this.touchStart(e,node,subscription,notifier,true)},filter,this)},detachDelegate:function(node,subscription,notifier){detachHelper(subscription,HANDLES)},touchStart:function(event,node,subscription,notifier,delegate){var context={canceled:false};if(event.button&&event.button===3){return}if(event.touches&&event.touches.length!==1){return}context.node=delegate?event.currentTarget:node;if(SUPPORTS_TOUCHES&&event.touches){context.startXY=[event.touches[0].pageX,event.touches[0].pageY]}else{context.startXY=[event.pageX,event.pageY]}subscription[HANDLES.MOVE]=node.once(EVT_MOVE,this.touchMove,this,node,subscription,notifier,delegate,context);subscription[HANDLES.END]=node.once(EVT_END,this.touchEnd,this,node,subscription,notifier,delegate,context);subscription[HANDLES.CANCEL]=node.once(EVT_CANCEL,this.touchMove,this,node,subscription,notifier,delegate,context)},touchMove:function(event,node,subscription,notifier,delegate,context){detachHelper(subscription,[HANDLES.MOVE,HANDLES.END,HANDLES.CANCEL],true,context);context.cancelled=true},touchEnd:function(event,node,subscription,notifier,delegate,context){var startXY=context.startXY,endXY,clientXY;if(SUPPORTS_TOUCHES&&event.changedTouches){endXY=[event.changedTouches[0].pageX,event.changedTouches[0].pageY];clientXY=[event.changedTouches[0].clientX,event.changedTouches[0].clientY]}else{endXY=[event.pageX,event.pageY];clientXY=[event.clientX,event.clientY]}detachHelper(subscription,[HANDLES.MOVE,HANDLES.END,HANDLES.CANCEL],true,context);if(Math.abs(endXY[0]-startXY[0])===0&&Math.abs(endXY[1]-startXY[1])===0){event.type=EVT_TAP;event.pageX=endXY[0];event.pageY=endXY[1];event.clientX=clientXY[0];event.clientY=clientXY[1];event.currentTarget=context.node;notifier.fire(event)}}})},"3.9.1",{requires:["node-base","event-base","event-touch","event-synthetic"]});YUI.add("handlebars-base",function(Y,NAME){var Handlebars=Y.namespace("Handlebars");Handlebars.VERSION="1.0.0-rc.3";Handlebars.COMPILER_REVISION=2;Handlebars.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.0-rc.3"};Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(name,fn,inverse){if(inverse){fn.not=inverse}this.helpers[name]=fn};Handlebars.registerPartial=function(name,str){this.partials[name]=str};Handlebars.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Error("Could not find property '"+arg+"'")}});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var type=toString.call(context);if(type===functionType){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(type==="[object Array]"){if(context.length>0){return Handlebars.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}});Handlebars.K=function(){};Handlebars.createFrame=Object.create||function(object){Handlebars.K.prototype=object;var obj=new Handlebars.K;Handlebars.K.prototype=null;return obj};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(level,obj){if(Handlebars.logger.level<=level){var method=Handlebars.logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};Handlebars.log=function(level,obj){Handlebars.logger.log(level,obj)};Handlebars.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;if(options.data){data=Handlebars.createFrame(options.data)}if(context&&typeof context==="object"){if(context instanceof Array){for(var j=context.length;i<j;i++){if(data){data.index=i}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});Handlebars.registerHelper("if",function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this)}if(!context||Handlebars.Utils.isEmpty(context)){return options.inverse(this)}else{return options.fn(this)}});Handlebars.registerHelper("unless",function(context,options){return Handlebars.helpers["if"].call(this,context,{fn:options.inverse,inverse:options.fn})});Handlebars.registerHelper("with",function(context,options){return options.fn(context)});Handlebars.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;Handlebars.log(level,context)});var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function(string){this.string=string};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;"};Handlebars.Utils={escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString()}else if(string==null||string===false){return""}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)},isEmpty:function(value){if(!value&&value!==0){return true}else if(toString.call(value)==="[object Array]"&&value.length===0){return true}else{return false}}};Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){return Handlebars.VM.program(fn,data)}else if(programWrapper){return programWrapper}else{programWrapper=this.programs[i]=Handlebars.VM.program(fn);return programWrapper}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var result=templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data);var compilerInfo=container.compilerInfo||[],compilerRevision=compilerInfo[0]||1,currentRevision=Handlebars.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=Handlebars.REVISION_CHANGES[currentRevision],compilerVersions=Handlebars.REVISION_CHANGES[compilerRevision];throw"Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+")."}}return result}},programWithDepth:function(fn,data,$depth){var args=Array.prototype.slice.call(arguments,2);return function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))}},program:function(fn,data){return function(context,options){options=options||{};return fn(context,options.data||data)}},noop:function(){return""},invokePartial:function(partial,name,context,helpers,partials,data){var options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}else{partials[name]=Handlebars.compile(partial,{data:data!==undefined});return partials[name](context,options)}}};Handlebars.template=Handlebars.VM.template;Handlebars.VERSION+="-yui";Handlebars.revive=Handlebars.template;Y.namespace("Template").Handlebars=Handlebars},"3.9.1",{requires:[]});YUI.add("handlebars-compiler",function(Y,NAME){var Handlebars=Y.Handlebars;var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=new yy.ProgramNode([],$$[$0]);break;case 3:this.$=new yy.ProgramNode($$[$0-2],$$[$0]);break;case 4:this.$=new yy.ProgramNode($$[$0-1],[]);break;case 5:this.$=new yy.ProgramNode($$[$0]);break;case 6:this.$=new yy.ProgramNode([],[]);break;case 7:this.$=new yy.ProgramNode([]);break;case 8:this.$=[$$[$0]];break;case 9:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 10:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0]);break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0]);break;case 12:this.$=$$[$0];break;case 13:this.$=$$[$0];break;case 14:this.$=new yy.ContentNode($$[$0]);break;case 15:this.$=new yy.CommentNode($$[$0]);break;case 16:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 17:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 18:this.$=$$[$0-1];break;case 19:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 20:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1],true);break;case 21:this.$=new yy.PartialNode($$[$0-1]);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1]);break;case 23:break;case 24:this.$=[[$$[$0-2]].concat($$[$0-1]),$$[$0]];break;case 25:this.$=[[$$[$0-1]].concat($$[$0]),null];break;case 26:this.$=[[$$[$0-1]],$$[$0]];break;case 27:this.$=[[$$[$0]],null];break;case 28:this.$=[[new yy.DataNode($$[$0])],null];break;case 29:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 30:this.$=[$$[$0]];break;case 31:this.$=$$[$0];break;case 32:this.$=new yy.StringNode($$[$0]);break;case 33:this.$=new yy.IntegerNode($$[$0]);break;case 34:this.$=new yy.BooleanNode($$[$0]);break;case 35:this.$=new yy.DataNode($$[$0]);break;case 36:this.$=new yy.HashNode($$[$0]);break;case 37:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 38:this.$=[$$[$0]];break;case 39:this.$=[$$[$0-2],$$[$0]];break;case 40:this.$=[$$[$0-2],new yy.StringNode($$[$0])];break;case 41:this.$=[$$[$0-2],new yy.IntegerNode($$[$0])];break;case 42:this.$=[$$[$0-2],new yy.BooleanNode($$[$0])];break;case 43:this.$=[$$[$0-2],new yy.DataNode($$[$0])];break;case 44:this.$=new yy.PartialNameNode($$[$0]);break;case 45:this.$=new yy.IdNode($$[$0]);break;case 46:$$[$0-2].push($$[$0]);this.$=$$[$0-2];break;case 47:this.$=[$$[$0]];break}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};
if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-1)!=="\\")this.begin("mu");if(yy_.yytext.slice(-1)==="\\")yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1),this.begin("emu");if(yy_.yytext)return 14;break;case 1:return 14;break;case 2:if(yy_.yytext.slice(-1)!=="\\")this.popState();if(yy_.yytext.slice(-1)==="\\")yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1);return 14;break;case 3:yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-4);this.popState();return 15;break;case 4:this.begin("par");return 24;break;case 5:return 16;break;case 6:return 20;break;case 7:return 19;break;case 8:return 19;break;case 9:return 23;break;case 10:return 23;break;case 11:this.popState();this.begin("com");break;case 12:yy_.yytext=yy_.yytext.substr(3,yy_.yyleng-5);this.popState();return 15;break;case 13:return 22;break;case 14:return 36;break;case 15:return 35;break;case 16:return 35;break;case 17:return 39;break;case 18:break;case 19:this.popState();return 18;break;case 20:this.popState();return 18;break;case 21:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\"/g,'"');return 30;break;case 22:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\'/g,"'");return 30;break;case 23:yy_.yytext=yy_.yytext.substr(1);return 28;break;case 24:return 32;break;case 25:return 32;break;case 26:return 31;break;case 27:return 35;break;case 28:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 35;break;case 29:return"INVALID";break;case 30:break;case 31:this.popState();return 37;break;case 32:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-/]+)/,/^(?:$)/];lexer.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[3],inclusive:false},par:{rules:[30,31],inclusive:false},INITIAL:{rules:[0,1,32],inclusive:true}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();Handlebars.Parser=handlebars;Handlebars.parse=function(input){if(input.constructor===Handlebars.AST.ProgramNode){return input}Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(input)};Handlebars.AST={};Handlebars.AST.ProgramNode=function(statements,inverse){this.type="program";this.statements=statements;if(inverse){this.inverse=new Handlebars.AST.ProgramNode(inverse)}};Handlebars.AST.MustacheNode=function(rawParams,hash,unescaped){this.type="mustache";this.escaped=!unescaped;this.hash=hash;var id=this.id=rawParams[0];var params=this.params=rawParams.slice(1);var eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)};Handlebars.AST.PartialNode=function(partialName,context){this.type="partial";this.partialName=partialName;this.context=context};Handlebars.AST.BlockNode=function(mustache,program,inverse,close){var verifyMatch=function(open,close){if(open.original!==close.original){throw new Handlebars.Exception(open.original+" doesn't match "+close.original)}};verifyMatch(mustache.id,close);this.type="block";this.mustache=mustache;this.program=program;this.inverse=inverse;if(this.inverse&&!this.program){this.isInverse=true}};Handlebars.AST.ContentNode=function(string){this.type="content";this.string=string};Handlebars.AST.HashNode=function(pairs){this.type="hash";this.pairs=pairs};Handlebars.AST.IdNode=function(parts){this.type="ID";this.original=parts.join(".");var dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."||part==="."||part==="this"){if(dig.length>0){throw new Handlebars.Exception("Invalid path: "+this.original)}else if(part===".."){depth++}else{this.isScoped=true}}else{dig.push(part)}}this.parts=dig;this.string=dig.join(".");this.depth=depth;this.isSimple=parts.length===1&&!this.isScoped&&depth===0;this.stringModeValue=this.string};Handlebars.AST.PartialNameNode=function(name){this.type="PARTIAL_NAME";this.name=name};Handlebars.AST.DataNode=function(id){this.type="DATA";this.id=id};Handlebars.AST.StringNode=function(string){this.type="STRING";this.string=string;this.stringModeValue=string};Handlebars.AST.IntegerNode=function(integer){this.type="INTEGER";this.integer=integer;this.stringModeValue=Number(integer)};Handlebars.AST.BooleanNode=function(bool){this.type="BOOLEAN";this.bool=bool;this.stringModeValue=bool==="true"};Handlebars.AST.CommentNode=function(comment){this.type="comment";this.comment=comment};var Compiler=Handlebars.Compiler=function(){};var JavaScriptCompiler=Handlebars.JavaScriptCompiler=function(){};Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==="DECLARE"){out.push("DECLARE "+opcode.name+"="+opcode.value)}else{params=[];for(var j=0;j<opcode.args.length;j++){param=opcode.args[j];if(typeof param==="string"){param='"'+param.replace("\n","\\n")+'"'}params.push(param)}out.push(opcode.opcode+" "+params.join(" "))}}return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len){return false}for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length){return false}for(var j=0;j<opcode.args.length;j++){if(opcode.args[j]!==otherOpcode.args[j]){return false}}}len=this.children.length;if(other.children.length!==len){return false}for(i=0;i<len;i++){if(!this.children[i].equals(other.children[i])){return false}}return true},guid:0,compile:function(program,options){this.children=[];this.depths={list:[]};this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(knownHelpers){for(var name in knownHelpers){this.options.knownHelpers[name]=knownHelpers[name]}}return this.program(program)},accept:function(node){return this[node.type](node)},program:function(program){var statements=program.statements,statement;this.opcodes=[];for(var i=0,l=statements.length;i<l;i++){statement=statements[i];this[statement.type](statement)}this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(program){var result=(new this.compiler).compile(program,this.options);var guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2){continue}else{this.addDepth(depth-1)}}return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;if(program){program=this.compileProgram(program)}if(inverse){inverse=this.compileProgram(inverse)}var type=this.classifyMustache(mustache);if(type==="helper"){this.helperMustache(mustache,program,inverse)}else if(type==="simple"){this.simpleMustache(mustache);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("blockValue")}else{this.ambiguousMustache(mustache,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++){pair=pairs[i];val=pair[1];if(this.options.stringParams){this.opcode("pushStringParam",val.stringModeValue,val.type)}else{this.accept(val)}this.opcode("assignToHash",pair[0])}this.opcode("popHash")},partial:function(partial){var partialName=partial.partialName;this.usePartial=true;if(partial.context){this.ID(partial.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",partialName.name);this.opcode("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){var options=this.options;var type=this.classifyMustache(mustache);if(type==="simple"){this.simpleMustache(mustache)}else if(type==="helper"){this.helperMustache(mustache)}else{this.ambiguousMustache(mustache)}if(mustache.escaped&&!options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ambiguousMustache:function(mustache,program,inverse){var id=mustache.id,name=id.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",id.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("invokeAmbiguous",name,isBlock)},simpleMustache:function(mustache){var id=mustache.id;if(id.type==="DATA"){this.DATA(id)}else if(id.parts.length){this.ID(id)}else{this.addDepth(id.depth);this.opcode("getContext",id.depth);this.opcode("pushContext")}this.opcode("resolvePossibleLambda")},helperMustache:function(mustache,program,inverse){var params=this.setupFullMustacheParams(mustache,program,inverse),name=mustache.id.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else if(this.knownHelpersOnly){throw new Error("You specified knownHelpersOnly, but used the unknown helper "+name)}else{this.opcode("invokeHelper",params.length,name)}},ID:function(id){this.addDepth(id.depth);this.opcode("getContext",id.depth);var name=id.parts[0];if(!name){this.opcode("pushContext")}else{this.opcode("lookupOnContext",id.parts[0])}for(var i=1,l=id.parts.length;i<l;i++){this.opcode("lookup",id.parts[i])}},DATA:function(data){this.options.data=true;this.opcode("lookupData",data.id)},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){if(isNaN(depth)){throw new Error("EWOT")}if(depth===0){return}if(!this.depths[depth]){this.depths[depth]=true;this.depths.list.push(depth)}},classifyMustache:function(mustache){var isHelper=mustache.isHelper;var isEligible=mustache.eligibleHelper;var options=this.options;if(isEligible&&!isHelper){var name=mustache.id.parts[0];if(options.knownHelpers[name]){isHelper=true}else if(options.knownHelpersOnly){isEligible=false}}if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else{return"simple"}},pushParams:function(params){var i=params.length,param;while(i--){param=params[i];if(this.options.stringParams){if(param.depth){this.addDepth(param.depth)}this.opcode("getContext",param.depth||0);this.opcode("pushStringParam",param.stringModeValue,param.type)}else{this[param.type](param)}}},setupMustacheParams:function(mustache){var params=mustache.params;this.pushParams(params);if(mustache.hash){this.hash(mustache.hash)}else{this.opcode("emptyHash")}return params},setupFullMustacheParams:function(mustache,program,inverse){var params=mustache.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(mustache.hash){this.hash(mustache.hash)}else{this.opcode("emptyHash")}return params}};var Literal=function(value){this.value=value};JavaScriptCompiler.prototype={nameLookup:function(parent,name){if(/^[0-9]+$/.test(name)){return parent+"["+name+"]"}else if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return parent+"."+name}else{return parent+"['"+name+"']"}},appendToBuffer:function(string){if(this.environment.isSimple){return"return "+string+";"}else{return{appendToBuffer:true,content:string,toString:function(){return"buffer += "+string+";"}}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment;this.options=options||{};Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(l=opcodes.length;this.i<l;this.i++){opcode=opcodes[this.i];if(opcode.opcode==="DECLARE"){this[opcode.name]=opcode.value}else{this[opcode.opcode].apply(this,opcode.args)}}return this.createFunctionContext(asObject)},nextOpcode:function(){var opcodes=this.environment.opcodes;return opcodes[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var out=[];if(!this.isChild){var namespace=this.namespace;var copies="helpers = helpers || "+namespace+".helpers;";if(this.environment.usePartial){copies=copies+" partials = partials || "+namespace+".partials;"}if(this.options.data){copies=copies+" data = data || {};"}out.push(copies)}else{out.push("")}if(!this.environment.isSimple){out.push(", buffer = "+this.initializeBuffer())}else{out.push("")}this.lastContext=0;this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){this.source[1]=this.source[1]+", "+locals.join(", ")}if(!this.isChild){for(var alias in this.context.aliases){this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++){params.push("depth"+this.environment.depths.list[i])}var source=this.mergeSource();if(!this.isChild){var revision=Handlebars.COMPILER_REVISION,versions=Handlebars.REVISION_CHANGES[revision];source="this.compilerInfo = ["+revision+",'"+versions+"'];\n"+source}if(asObject){params.push(source);return Function.apply(this,params)}else{var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+source+"}";Handlebars.log(Handlebars.logger.DEBUG,functionSource+"\n\n");return functionSource}},mergeSource:function(){var source="",buffer;for(var i=0,len=this.source.length;i<len;i++){var line=this.source[i];if(line.appendToBuffer){if(buffer){buffer=buffer+"\n    + "+line.content}else{buffer=line.content}}else{if(buffer){source+="buffer += "+buffer+";\n  ";buffer=undefined}source+=line+"\n  "}}return source},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);this.replaceStack(function(current){params.splice(1,0,current);return"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current);params[params.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.source.push(this.appendToBuffer(this.quotedString(content)))},append:function(){this.flushInline();var local=this.popStack();this.source.push("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){if(this.lastContext!==depth){this.lastContext=depth}},lookupOnContext:function(name){this.push(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(id){this.push(this.nameLookup("data",id,"data"))},pushStringParam:function(string,type){this.pushStackLiteral("depth"+this.lastContext);this.pushString(type);if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}},emptyHash:function(){this.pushStackLiteral("{}");if(this.options.stringParams){this.register("hashTypes","{}")}},pushHash:function(){this.hash={values:[],types:[]}},popHash:function(){var hash=this.hash;this.hash=undefined;if(this.options.stringParams){this.register("hashTypes","{"+hash.types.join(",")+"}")}this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){this.inlineStack.push(expr);return expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},invokeHelper:function(paramSize,name){this.context.aliases.helperMissing="helpers.helperMissing";var helper=this.lastHelper=this.setupHelper(paramSize,name,true);this.push(helper.name);this.replaceStack(function(name){return name+" ? "+name+".call("+helper.callParams+") "+": helperMissing.call("+helper.helperMissingParams+")"})},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var helper=this.setupHelper(0,name,helperCall);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");var nonHelper=this.nameLookup("depth"+this.lastContext,name,"context");var nextStack=this.nextStack();this.source.push("if ("+nextStack+" = "+helperName+") { "+nextStack+" = "+nextStack+".call("+helper.callParams+"); }");this.source.push("else { "+nextStack+" = "+nonHelper+"; "+nextStack+" = typeof "+nextStack+" === functionType ? "+nextStack+".apply(depth0) : "+nextStack+"; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"];if(this.options.data){params.push("data")}this.context.aliases.self="this";this.push("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack(),type;if(this.options.stringParams){type=this.popStack();this.popStack()}var hash=this.hash;if(type){hash.types.push("'"+key+"': "+type)}hash.values.push("'"+key+"': ("+value+")")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push("");index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context);this.context.environments[index]=child}else{child.index=index;child.name="program"+index}}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child)){return i}}},programExpression:function(guid){this.context.aliases.self="this";if(guid==null){return"self.noop"}var child=this.environment.children[guid],depths=child.depths.list,depth;var programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];if(depth===1){programParams.push("depth0")}else{programParams.push("depth"+(depth-1))}}if(depths.length===0){return"self.program("+programParams.join(", ")+")"}else{programParams.shift();return"self.programWithDepth("+programParams.join(", ")+")"}},register:function(name,val){this.useRegister(name);this.source.push(name+" = "+val+";")},useRegister:function(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},pushStackLiteral:function(item){return this.push(new Literal(item))},pushStack:function(item){this.flushInline();var stack=this.incrStack();if(item){this.source.push(stack+" = "+item+";")}this.compileStack.push(stack);return stack},replaceStack:function(callback){var prefix="",inline=this.isInline(),stack;if(inline){var top=this.popStack(true);if(top instanceof Literal){stack=top.value}else{var name=this.stackSlot?this.topStackName():this.incrStack();prefix="("+this.push(name)+" = "+top+"),";stack=this.topStack()}}else{stack=this.topStack()}var item=callback.call(this,stack);if(inline){if(this.inlineStack.length||this.compileStack.length){this.popStack()}this.push("("+prefix+item+")")}else{if(!/^stack/.test(stack)){stack=this.nextStack()}this.source.push(stack+" = ("+prefix+item+");")}return stack},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else{this.pushStack(entry)}}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal){return item.value}else{if(!inline){this.stackSlot--}return item}},topStack:function(wrapped){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];if(!wrapped&&item instanceof Literal){return item.value}else{return item}},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(paramSize,name,missingParams){var params=[];this.setupParams(paramSize,params,missingParams);var foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,name:foundHelper,callParams:["depth0"].concat(params).join(", "),helperMissingParams:missingParams&&["depth0",this.quotedString(name)].concat(params).join(", ")}},setupParams:function(paramSize,params,useRegister){var options=[],contexts=[],types=[],param,inverse,program;options.push("hash:"+this.popStack());inverse=this.popStack();program=this.popStack();if(program||inverse){if(!program){this.context.aliases.self="this";program="self.noop"}if(!inverse){this.context.aliases.self="this";inverse="self.noop"}options.push("inverse:"+inverse);options.push("fn:"+program)}for(var i=0;i<paramSize;i++){param=this.popStack();params.push(param);if(this.options.stringParams){types.push(this.popStack());contexts.push(this.popStack())}}if(this.options.stringParams){options.push("contexts:["+contexts.join(",")+"]");options.push("types:["+types.join(",")+"]");options.push("hashTypes:hashTypes")}if(this.options.data){options.push("data:data")}options="{"+options.join(",")+"}";if(useRegister){this.register("options",options);params.push("options")}else{params.push(options)}return params.join(", ")}};var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}JavaScriptCompiler.isValidJavaScriptVariableName=function(name){if(!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(name)){return true}return false};Handlebars.precompile=function(input,options){if(!input||typeof input!=="string"&&input.constructor!==Handlebars.AST.ProgramNode){throw new Handlebars.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}var ast=Handlebars.parse(input);var environment=(new Compiler).compile(ast,options);return(new JavaScriptCompiler).compile(environment,options)};Handlebars.compile=function(input,options){if(!input||typeof input!=="string"&&input.constructor!==Handlebars.AST.ProgramNode){throw new Handlebars.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}var compiled;function compile(){var ast=Handlebars.parse(input);var environment=(new Compiler).compile(ast,options);var templateSpec=(new JavaScriptCompiler).compile(environment,options,undefined,true);return Handlebars.template(templateSpec)}return function(context,options){if(!compiled){compiled=compile()}return compiled.call(this,context,options)}};var levels=["debug","info","warn","error"];Handlebars.logger.log=function(level,message){};Handlebars.render=function(string,context,options){return Handlebars.compile(string)(context,options)}},"3.9.1",{requires:["handlebars-base"]});YUI.add("querystring-parse",function(Y,NAME){var QueryString=Y.namespace("QueryString"),pieceParser=function(eq){return function parsePiece(key,val){var sliced,numVal,head,tail,ret;if(arguments.length!==2){key=key.split(eq);return parsePiece(QueryString.unescape(key.shift()),QueryString.unescape(key.join(eq)))}key=key.replace(/^\s+|\s+$/g,"");if(Y.Lang.isString(val)){val=val.replace(/^\s+|\s+$/g,"");if(!isNaN(val)){numVal=+val;if(val===numVal.toString(10)){val=numVal}}}sliced=/(.*)\[([^\]]*)\]$/.exec(key);if(!sliced){ret={};if(key){ret[key]=val}return ret}tail=sliced[2];head=sliced[1];if(!tail){return parsePiece(head,[val])}ret={};ret[tail]=val;return parsePiece(head,ret)}},mergeParams=function(params,addition){return!params?addition:Y.Lang.isArray(params)?params.concat(addition):!Y.Lang.isObject(params)||!Y.Lang.isObject(addition)?[params].concat(addition):mergeObjects(params,addition)},mergeObjects=function(params,addition){for(var i in addition){if(i&&addition.hasOwnProperty(i)){params[i]=mergeParams(params[i],addition[i])}}return params};QueryString.parse=function(qs,sep,eq){return Y.Array.reduce(Y.Array.map(qs.split(sep||"&"),pieceParser(eq||"=")),{},mergeParams)};QueryString.unescape=function(s){return decodeURIComponent(s.replace(/\+/g," "))}},"3.9.1",{requires:["yui-base","array-extras"]});YUI.add("datatype-date-parse",function(Y,NAME){Y.mix(Y.namespace("Date"),{parse:function(data){var val=new Date(+data||data);if(Y.Lang.isDate(val)){return val}else{return null}}});Y.namespace("Parsers").date=Y.Date.parse;Y.namespace("DataType");Y.DataType.Date=Y.Date},"3.9.1");YUI.add("intl-base",function(Y,NAME){var SPLIT_REGEX=/[, ]/;Y.mix(Y.namespace("Intl"),{lookupBestLang:function(preferredLanguages,availableLanguages){var i,language,result,index;function scan(language){var i;for(i=0;i<availableLanguages.length;i+=1){if(language.toLowerCase()===availableLanguages[i].toLowerCase()){return availableLanguages[i]}}}if(Y.Lang.isString(preferredLanguages)){preferredLanguages=preferredLanguages.split(SPLIT_REGEX)}for(i=0;i<preferredLanguages.length;i+=1){language=preferredLanguages[i];if(!language||language==="*"){continue}while(language.length>0){result=scan(language);if(result){return result}else{index=language.lastIndexOf("-");if(index>=0){language=language.substring(0,index);if(index>=2&&language.charAt(index-2)==="-"){language=language.substring(0,index-2)}}else{break}}}}return""}})},"3.9.1",{requires:["yui-base"]});YUI.add("intl",function(Y,NAME){var _mods={},ROOT_LANG="yuiRootLang",ACTIVE_LANG="yuiActiveLang",NONE=[];Y.mix(Y.namespace("Intl"),{_mod:function(module){if(!_mods[module]){_mods[module]={}}return _mods[module]},setLang:function(module,lang){var langs=this._mod(module),currLang=langs[ACTIVE_LANG],exists=!!langs[lang];if(exists&&lang!==currLang){langs[ACTIVE_LANG]=lang;this.fire("intl:langChange",{module:module,prevVal:currLang,newVal:lang===ROOT_LANG?"":lang})}return exists},getLang:function(module){var lang=this._mod(module)[ACTIVE_LANG];return lang===ROOT_LANG?"":lang},add:function(module,lang,strings){lang=lang||ROOT_LANG;this._mod(module)[lang]=strings;this.setLang(module,lang)},get:function(module,key,lang){var mod=this._mod(module),strs;lang=lang||mod[ACTIVE_LANG];strs=mod[lang]||{};
return key?strs[key]:Y.merge(strs)},getAvailableLangs:function(module){var loader=Y.Env._loader,mod=loader&&loader.moduleInfo[module],langs=mod&&mod.lang;return langs?langs.concat():NONE}});Y.augment(Y.Intl,Y.EventTarget);Y.Intl.publish("intl:langChange",{emitFacade:true})},"3.9.1",{requires:["intl-base","event-custom"]});YUI.add("lang/datatype-date-format",function(e){e.Intl.add("datatype-date-format","",{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%Y-%m-%dT%H:%M:%S%z",p:["AM","PM"],P:["am","pm"],x:"%Y-%m-%d",X:"%H:%M:%S"})},"3.9.1");YUI.add("datatype-date-format",function(Y,NAME){var xPad=function(x,pad,r){if(typeof r==="undefined"){r=10}pad=pad+"";for(;parseInt(x,10)<r&&r>1;r/=10){x=pad+x}return x.toString()};var Dt={formats:{a:function(d,l){return l.a[d.getDay()]},A:function(d,l){return l.A[d.getDay()]},b:function(d,l){return l.b[d.getMonth()]},B:function(d,l){return l.B[d.getMonth()]},C:function(d){return xPad(parseInt(d.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(d){return xPad(parseInt(Dt.formats.G(d)%100,10),0)},G:function(d){var y=d.getFullYear();var V=parseInt(Dt.formats.V(d),10);var W=parseInt(Dt.formats.W(d),10);if(W>V){y++}else if(W===0&&V>=52){y--}return y},H:["getHours","0"],I:function(d){var I=d.getHours()%12;return xPad(I===0?12:I,0)},j:function(d){var gmd_1=new Date(""+d.getFullYear()+"/1/1 GMT");var gmdate=new Date(""+d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+" GMT");var ms=gmdate-gmd_1;var doy=parseInt(ms/6e4/60/24,10)+1;return xPad(doy,0,100)},k:["getHours"," "],l:function(d){var I=d.getHours()%12;return xPad(I===0?12:I," ")},m:function(d){return xPad(d.getMonth()+1,0)},M:["getMinutes","0"],p:function(d,l){return l.p[d.getHours()>=12?1:0]},P:function(d,l){return l.P[d.getHours()>=12?1:0]},s:function(d,l){return parseInt(d.getTime()/1e3,10)},S:["getSeconds","0"],u:function(d){var dow=d.getDay();return dow===0?7:dow},U:function(d){var doy=parseInt(Dt.formats.j(d),10);var rdow=6-d.getDay();var woy=parseInt((doy+rdow)/7,10);return xPad(woy,0)},V:function(d){var woy=parseInt(Dt.formats.W(d),10);var dow1_1=new Date(""+d.getFullYear()+"/1/1").getDay();var idow=woy+(dow1_1>4||dow1_1<=1?0:1);if(idow===53&&new Date(""+d.getFullYear()+"/12/31").getDay()<4){idow=1}else if(idow===0){idow=Dt.formats.V(new Date(""+(d.getFullYear()-1)+"/12/31"))}return xPad(idow,0)},w:"getDay",W:function(d){var doy=parseInt(Dt.formats.j(d),10);var rdow=7-Dt.formats.u(d);var woy=parseInt((doy+rdow)/7,10);return xPad(woy,0,10)},y:function(d){return xPad(d.getFullYear()%100,0)},Y:"getFullYear",z:function(d){var o=d.getTimezoneOffset();var H=xPad(parseInt(Math.abs(o/60),10),0);var M=xPad(Math.abs(o%60),0);return(o>0?"-":"+")+H+M},Z:function(d){var tz=d.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");if(tz.length>4){tz=Dt.formats.z(d)}return tz},"%":function(d){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"  ",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(oDate,oConfig){oConfig=oConfig||{};if(!Y.Lang.isDate(oDate)){return Y.Lang.isValue(oDate)?oDate:""}var format,resources,compatMode,sLocale,LOCALE;format=oConfig.format||"%Y-%m-%d";resources=Y.Intl.get("datatype-date-format");var replace_aggs=function(m0,m1){if(compatMode&&m1==="r"){return resources[m1]}var f=Dt.aggregates[m1];return f==="locale"?resources[m1]:f};var replace_formats=function(m0,m1){var f=Dt.formats[m1];switch(Y.Lang.type(f)){case"string":return oDate[f]();case"function":return f.call(oDate,oDate,resources);case"array":if(Y.Lang.type(f[0])==="string"){return xPad(oDate[f[0]](),f[1])}default:return m1}};while(format.match(/%[cDFhnrRtTxX]/)){format=format.replace(/%([cDFhnrRtTxX])/g,replace_aggs)}var str=format.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,replace_formats);replace_aggs=replace_formats=undefined;return str}};Y.mix(Y.namespace("Date"),Dt);Y.namespace("DataType");Y.DataType.Date=Y.Date},"3.9.1",{lang:["ar","ar-JO","ca","ca-ES","da","da-DK","de","de-AT","de-DE","el","el-GR","en","en-AU","en-CA","en-GB","en-IE","en-IN","en-JO","en-MY","en-NZ","en-PH","en-SG","en-US","es","es-AR","es-BO","es-CL","es-CO","es-EC","es-ES","es-MX","es-PE","es-PY","es-US","es-UY","es-VE","fi","fi-FI","fr","fr-BE","fr-CA","fr-FR","hi","hi-IN","id","id-ID","it","it-IT","ja","ja-JP","ko","ko-KR","ms","ms-MY","nb","nb-NO","nl","nl-BE","nl-NL","pl","pl-PL","pt","pt-BR","ro","ro-RO","ru","ru-RU","sv","sv-SE","th","th-TH","tr","tr-TR","vi","vi-VN","zh-Hans","zh-Hans-CN","zh-Hant","zh-Hant-HK","zh-Hant-TW"]});YUI.add("datatype-date-math",function(Y,NAME){var LANG=Y.Lang;Y.mix(Y.namespace("Date"),{isValidDate:function(oDate){if(LANG.isDate(oDate)&&isFinite(oDate)&&oDate!="Invalid Date"&&!isNaN(oDate)&&oDate!=null){return true}else{return false}},areEqual:function(aDate,bDate){return this.isValidDate(aDate)&&this.isValidDate(bDate)&&aDate.getTime()==bDate.getTime()},isGreater:function(aDate,bDate){return this.isValidDate(aDate)&&this.isValidDate(bDate)&&aDate.getTime()>bDate.getTime()},isGreaterOrEqual:function(aDate,bDate){return this.isValidDate(aDate)&&this.isValidDate(bDate)&&aDate.getTime()>=bDate.getTime()},isInRange:function(aDate,bDate,cDate){return this.isGreaterOrEqual(aDate,bDate)&&this.isGreaterOrEqual(cDate,aDate)},addDays:function(oDate,numDays){return new Date(oDate.getTime()+864e5*numDays)},addMonths:function(oDate,numMonths){var newYear=oDate.getFullYear();var newMonth=oDate.getMonth()+numMonths;newYear=Math.floor(newYear+newMonth/12);newMonth=(newMonth%12+12)%12;var newDate=new Date(oDate.getTime());newDate.setFullYear(newYear);newDate.setMonth(newMonth);return newDate},addYears:function(oDate,numYears){var newYear=oDate.getFullYear()+numYears;var newDate=new Date(oDate.getTime());newDate.setFullYear(newYear);return newDate},listOfDatesInMonth:function(oDate){if(!this.isValidDate(oDate)){return[]}var daysInMonth=this.daysInMonth(oDate),year=oDate.getFullYear(),month=oDate.getMonth(),output=[];for(var day=1;day<=daysInMonth;day++){output.push(new Date(year,month,day,12,0,0))}return output},daysInMonth:function(oDate){if(!this.isValidDate(oDate)){return 0}var mon=oDate.getMonth();var lengths=[31,28,31,30,31,30,31,31,30,31,30,31];if(mon!=1){return lengths[mon]}else{var year=oDate.getFullYear();if(year%400===0){return 29}else if(year%100===0){return 28}else if(year%4===0){return 29}else{return 28}}}});Y.namespace("DataType");Y.DataType.Date=Y.Date},"3.9.1",{requires:["yui-base"]});YUI.add("event-simulate",function(Y,NAME){(function(){var L=Y.Lang,isFunction=L.isFunction,isString=L.isString,isBoolean=L.isBoolean,isObject=L.isObject,isNumber=L.isNumber,mouseEvents={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,contextmenu:1},msPointerEvents={MSPointerOver:1,MSPointerOut:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1},keyEvents={keydown:1,keyup:1,keypress:1},uiEvents={submit:1,blur:1,change:1,focus:1,resize:1,scroll:1,select:1},bubbleEvents={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},touchEvents={touchstart:1,touchmove:1,touchend:1,touchcancel:1},gestureEvents={gesturestart:1,gesturechange:1,gestureend:1};Y.mix(bubbleEvents,mouseEvents);Y.mix(bubbleEvents,keyEvents);Y.mix(bubbleEvents,touchEvents);function simulateKeyEvent(target,type,bubbles,cancelable,view,ctrlKey,altKey,shiftKey,metaKey,keyCode,charCode){if(!target){Y.error("simulateKeyEvent(): Invalid target.")}if(isString(type)){type=type.toLowerCase();switch(type){case"textevent":type="keypress";break;case"keyup":case"keydown":case"keypress":break;default:Y.error("simulateKeyEvent(): Event type '"+type+"' not supported.")}}else{Y.error("simulateKeyEvent(): Event type must be a string.")}if(!isBoolean(bubbles)){bubbles=true}if(!isBoolean(cancelable)){cancelable=true}if(!isObject(view)){view=Y.config.win}if(!isBoolean(ctrlKey)){ctrlKey=false}if(!isBoolean(altKey)){altKey=false}if(!isBoolean(shiftKey)){shiftKey=false}if(!isBoolean(metaKey)){metaKey=false}if(!isNumber(keyCode)){keyCode=0}if(!isNumber(charCode)){charCode=0}var customEvent=null;if(isFunction(Y.config.doc.createEvent)){try{customEvent=Y.config.doc.createEvent("KeyEvents");customEvent.initKeyEvent(type,bubbles,cancelable,view,ctrlKey,altKey,shiftKey,metaKey,keyCode,charCode)}catch(ex){try{customEvent=Y.config.doc.createEvent("Events")}catch(uierror){customEvent=Y.config.doc.createEvent("UIEvents")}finally{customEvent.initEvent(type,bubbles,cancelable);customEvent.view=view;customEvent.altKey=altKey;customEvent.ctrlKey=ctrlKey;customEvent.shiftKey=shiftKey;customEvent.metaKey=metaKey;customEvent.keyCode=keyCode;customEvent.charCode=charCode}}target.dispatchEvent(customEvent)}else if(isObject(Y.config.doc.createEventObject)){customEvent=Y.config.doc.createEventObject();customEvent.bubbles=bubbles;customEvent.cancelable=cancelable;customEvent.view=view;customEvent.ctrlKey=ctrlKey;customEvent.altKey=altKey;customEvent.shiftKey=shiftKey;customEvent.metaKey=metaKey;customEvent.keyCode=charCode>0?charCode:keyCode;target.fireEvent("on"+type,customEvent)}else{Y.error("simulateKeyEvent(): No event simulation framework present.")}}function simulateMouseEvent(target,type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget){if(!target){Y.error("simulateMouseEvent(): Invalid target.")}if(isString(type)){if(!mouseEvents[type.toLowerCase()]&&!msPointerEvents[type]){Y.error("simulateMouseEvent(): Event type '"+type+"' not supported.")}}else{Y.error("simulateMouseEvent(): Event type must be a string.")}if(!isBoolean(bubbles)){bubbles=true}if(!isBoolean(cancelable)){cancelable=type!=="mousemove"}if(!isObject(view)){view=Y.config.win}if(!isNumber(detail)){detail=1}if(!isNumber(screenX)){screenX=0}if(!isNumber(screenY)){screenY=0}if(!isNumber(clientX)){clientX=0}if(!isNumber(clientY)){clientY=0}if(!isBoolean(ctrlKey)){ctrlKey=false}if(!isBoolean(altKey)){altKey=false}if(!isBoolean(shiftKey)){shiftKey=false}if(!isBoolean(metaKey)){metaKey=false}if(!isNumber(button)){button=0}relatedTarget=relatedTarget||null;var customEvent=null;if(isFunction(Y.config.doc.createEvent)){customEvent=Y.config.doc.createEvent("MouseEvents");if(customEvent.initMouseEvent){customEvent.initMouseEvent(type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget)}else{customEvent=Y.config.doc.createEvent("UIEvents");customEvent.initEvent(type,bubbles,cancelable);customEvent.view=view;customEvent.detail=detail;customEvent.screenX=screenX;customEvent.screenY=screenY;customEvent.clientX=clientX;customEvent.clientY=clientY;customEvent.ctrlKey=ctrlKey;customEvent.altKey=altKey;customEvent.metaKey=metaKey;customEvent.shiftKey=shiftKey;customEvent.button=button;customEvent.relatedTarget=relatedTarget}if(relatedTarget&&!customEvent.relatedTarget){if(type==="mouseout"){customEvent.toElement=relatedTarget}else if(type==="mouseover"){customEvent.fromElement=relatedTarget}}target.dispatchEvent(customEvent)}else if(isObject(Y.config.doc.createEventObject)){customEvent=Y.config.doc.createEventObject();customEvent.bubbles=bubbles;customEvent.cancelable=cancelable;customEvent.view=view;customEvent.detail=detail;customEvent.screenX=screenX;customEvent.screenY=screenY;customEvent.clientX=clientX;customEvent.clientY=clientY;customEvent.ctrlKey=ctrlKey;customEvent.altKey=altKey;customEvent.metaKey=metaKey;customEvent.shiftKey=shiftKey;switch(button){case 0:customEvent.button=1;break;case 1:customEvent.button=4;break;case 2:break;default:customEvent.button=0}customEvent.relatedTarget=relatedTarget;target.fireEvent("on"+type,customEvent)}else{Y.error("simulateMouseEvent(): No event simulation framework present.")}}function simulateUIEvent(target,type,bubbles,cancelable,view,detail){if(!target){Y.error("simulateUIEvent(): Invalid target.")}if(isString(type)){type=type.toLowerCase();if(!uiEvents[type]){Y.error("simulateUIEvent(): Event type '"+type+"' not supported.")}}else{Y.error("simulateUIEvent(): Event type must be a string.")}var customEvent=null;if(!isBoolean(bubbles)){bubbles=type in bubbleEvents}if(!isBoolean(cancelable)){cancelable=type==="submit"}if(!isObject(view)){view=Y.config.win}if(!isNumber(detail)){detail=1}if(isFunction(Y.config.doc.createEvent)){customEvent=Y.config.doc.createEvent("UIEvents");customEvent.initUIEvent(type,bubbles,cancelable,view,detail);target.dispatchEvent(customEvent)}else if(isObject(Y.config.doc.createEventObject)){customEvent=Y.config.doc.createEventObject();customEvent.bubbles=bubbles;customEvent.cancelable=cancelable;customEvent.view=view;customEvent.detail=detail;target.fireEvent("on"+type,customEvent)}else{Y.error("simulateUIEvent(): No event simulation framework present.")}}function simulateGestureEvent(target,type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,scale,rotation){var customEvent;if(!Y.UA.ios||Y.UA.ios<2){Y.error("simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform.")}if(!target){Y.error("simulateGestureEvent(): Invalid target.")}if(Y.Lang.isString(type)){type=type.toLowerCase();if(!gestureEvents[type]){Y.error("simulateTouchEvent(): Event type '"+type+"' not supported.")}}else{Y.error("simulateGestureEvent(): Event type must be a string.")}if(!Y.Lang.isBoolean(bubbles)){bubbles=true}if(!Y.Lang.isBoolean(cancelable)){cancelable=true}if(!Y.Lang.isObject(view)){view=Y.config.win}if(!Y.Lang.isNumber(detail)){detail=2}if(!Y.Lang.isNumber(screenX)){screenX=0}if(!Y.Lang.isNumber(screenY)){screenY=0}if(!Y.Lang.isNumber(clientX)){clientX=0}if(!Y.Lang.isNumber(clientY)){clientY=0}if(!Y.Lang.isBoolean(ctrlKey)){ctrlKey=false}if(!Y.Lang.isBoolean(altKey)){altKey=false}if(!Y.Lang.isBoolean(shiftKey)){shiftKey=false}if(!Y.Lang.isBoolean(metaKey)){metaKey=false}if(!Y.Lang.isNumber(scale)){scale=1}if(!Y.Lang.isNumber(rotation)){rotation=0}customEvent=Y.config.doc.createEvent("GestureEvent");customEvent.initGestureEvent(type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,target,scale,rotation);target.dispatchEvent(customEvent)}function simulateTouchEvent(target,type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,touches,targetTouches,changedTouches,scale,rotation){var customEvent;if(!target){Y.error("simulateTouchEvent(): Invalid target.")}if(Y.Lang.isString(type)){type=type.toLowerCase();if(!touchEvents[type]){Y.error("simulateTouchEvent(): Event type '"+type+"' not supported.")}}else{Y.error("simulateTouchEvent(): Event type must be a string.")}if(type==="touchstart"||type==="touchmove"){if(touches.length===0){Y.error("simulateTouchEvent(): No touch object in touches")}}else if(type==="touchend"){if(changedTouches.length===0){Y.error("simulateTouchEvent(): No touch object in changedTouches")}}if(!Y.Lang.isBoolean(bubbles)){bubbles=true}if(!Y.Lang.isBoolean(cancelable)){cancelable=type!=="touchcancel"}if(!Y.Lang.isObject(view)){view=Y.config.win}if(!Y.Lang.isNumber(detail)){detail=1}if(!Y.Lang.isNumber(screenX)){screenX=0}if(!Y.Lang.isNumber(screenY)){screenY=0}if(!Y.Lang.isNumber(clientX)){clientX=0}if(!Y.Lang.isNumber(clientY)){clientY=0}if(!Y.Lang.isBoolean(ctrlKey)){ctrlKey=false}if(!Y.Lang.isBoolean(altKey)){altKey=false}if(!Y.Lang.isBoolean(shiftKey)){shiftKey=false}if(!Y.Lang.isBoolean(metaKey)){metaKey=false}if(!Y.Lang.isNumber(scale)){scale=1}if(!Y.Lang.isNumber(rotation)){rotation=0}if(Y.Lang.isFunction(Y.config.doc.createEvent)){if(Y.UA.android){if(Y.UA.android<4){customEvent=Y.config.doc.createEvent("MouseEvents");customEvent.initMouseEvent(type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,0,target);customEvent.touches=touches;customEvent.targetTouches=targetTouches;customEvent.changedTouches=changedTouches}else{customEvent=Y.config.doc.createEvent("TouchEvent");customEvent.initTouchEvent(touches,targetTouches,changedTouches,type,view,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey)}}else if(Y.UA.ios){if(Y.UA.ios>=2){customEvent=Y.config.doc.createEvent("TouchEvent");customEvent.initTouchEvent(type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,touches,targetTouches,changedTouches,scale,rotation)}else{Y.error("simulateTouchEvent(): No touch event simulation framework present for iOS, "+Y.UA.ios+".")}}else{Y.error("simulateTouchEvent(): Not supported agent yet, "+Y.UA.userAgent)}target.dispatchEvent(customEvent)}else{Y.error("simulateTouchEvent(): No event simulation framework present.")}}Y.Event.simulate=function(target,type,options){options=options||{};if(mouseEvents[type]||msPointerEvents[type]){simulateMouseEvent(target,type,options.bubbles,options.cancelable,options.view,options.detail,options.screenX,options.screenY,options.clientX,options.clientY,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.button,options.relatedTarget)}else if(keyEvents[type]){simulateKeyEvent(target,type,options.bubbles,options.cancelable,options.view,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.keyCode,options.charCode)}else if(uiEvents[type]){simulateUIEvent(target,type,options.bubbles,options.cancelable,options.view,options.detail)}else if(touchEvents[type]){if(Y.config.win&&"ontouchstart"in Y.config.win&&!Y.UA.phantomjs&&!(Y.UA.chrome&&Y.UA.chrome<6)){simulateTouchEvent(target,type,options.bubbles,options.cancelable,options.view,options.detail,options.screenX,options.screenY,options.clientX,options.clientY,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.touches,options.targetTouches,options.changedTouches,options.scale,options.rotation)}else{Y.error("simulate(): Event '"+type+"' can't be simulated. Use gesture-simulate module instead.")}}else if(Y.UA.ios&&Y.UA.ios>=2&&gestureEvents[type]){simulateGestureEvent(target,type,options.bubbles,options.cancelable,options.view,options.detail,options.screenX,options.screenY,options.clientX,options.clientY,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.scale,options.rotation)}else{Y.error("simulate(): Event '"+type+"' can't be simulated.")}}})()},"3.9.1",{requires:["event-base"]});YUI.add("transition",function(Y,NAME){var CAMEL_VENDOR_PREFIX="",VENDOR_PREFIX="",DOCUMENT=Y.config.doc,DOCUMENT_ELEMENT="documentElement",DOCUMENT_STYLE=DOCUMENT[DOCUMENT_ELEMENT].style,TRANSITION_CAMEL="transition",TRANSITION_PROPERTY_CAMEL="transitionProperty",TRANSITION_PROPERTY,TRANSITION_DURATION,TRANSITION_TIMING_FUNCTION,TRANSITION_DELAY,TRANSITION_END,ON_TRANSITION_END,EMPTY_OBJ={},VENDORS=["Webkit","Moz"],VENDOR_TRANSITION_END={Webkit:"webkitTransitionEnd"},Transition=function(){this.init.apply(this,arguments)};Transition._TRANSFORM="transform";Transition._toCamel=function(property){property=property.replace(/-([a-z])/gi,function(m0,m1){return m1.toUpperCase()});return property};Transition._toHyphen=function(property){property=property.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(m0,m1,m2,m3){var str=(m1?"-"+m1.toLowerCase():"")+m2;if(m3){str+="-"+m3.toLowerCase()}return str});return property};Transition.SHOW_TRANSITION="fadeIn";Transition.HIDE_TRANSITION="fadeOut";Transition.useNative=false;if("transition"in DOCUMENT_STYLE&&"transitionProperty"in DOCUMENT_STYLE&&"transitionDuration"in DOCUMENT_STYLE&&"transitionTimingFunction"in DOCUMENT_STYLE&&"transitionDelay"in DOCUMENT_STYLE){Transition.useNative=true;Transition.supported=true}else{Y.Array.each(VENDORS,function(val){var property=val+"Transition";if(property in DOCUMENT[DOCUMENT_ELEMENT].style){CAMEL_VENDOR_PREFIX=val;VENDOR_PREFIX=Transition._toHyphen(val)+"-";Transition.useNative=true;Transition.supported=true;Transition._VENDOR_PREFIX=val}})}if(typeof DOCUMENT_STYLE.transform==="undefined"){Y.Array.each(VENDORS,function(val){var property=val+"Transform";if(typeof DOCUMENT_STYLE[property]!=="undefined"){Transition._TRANSFORM=property}})}if(CAMEL_VENDOR_PREFIX){TRANSITION_CAMEL=CAMEL_VENDOR_PREFIX+"Transition";TRANSITION_PROPERTY_CAMEL=CAMEL_VENDOR_PREFIX+"TransitionProperty"}TRANSITION_PROPERTY=VENDOR_PREFIX+"transition-property";TRANSITION_DURATION=VENDOR_PREFIX+"transition-duration";TRANSITION_TIMING_FUNCTION=VENDOR_PREFIX+"transition-timing-function";TRANSITION_DELAY=VENDOR_PREFIX+"transition-delay";TRANSITION_END="transitionend";ON_TRANSITION_END="on"+CAMEL_VENDOR_PREFIX.toLowerCase()+"transitionend";TRANSITION_END=VENDOR_TRANSITION_END[CAMEL_VENDOR_PREFIX]||TRANSITION_END;Transition.fx={};Transition.toggles={};Transition._hasEnd={};Transition._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i;Y.Node.DOM_EVENTS[TRANSITION_END]=1;Transition.NAME="transition";Transition.DEFAULT_EASING="ease";Transition.DEFAULT_DURATION=.5;Transition.DEFAULT_DELAY=0;Transition._nodeAttrs={};Transition.prototype={constructor:Transition,init:function(node,config){var anim=this;anim._node=node;if(!anim._running&&config){anim._config=config;node._transition=anim;anim._duration="duration"in config?config.duration:anim.constructor.DEFAULT_DURATION;anim._delay="delay"in config?config.delay:anim.constructor.DEFAULT_DELAY;anim._easing=config.easing||anim.constructor.DEFAULT_EASING;anim._count=0;anim._running=false}return anim},addProperty:function(prop,config){var anim=this,node=this._node,uid=Y.stamp(node),nodeInstance=Y.one(node),attrs=Transition._nodeAttrs[uid],computed,compareVal,dur,attr,val;if(!attrs){attrs=Transition._nodeAttrs[uid]={}}attr=attrs[prop];if(config&&config.value!==undefined){val=config.value}else if(config!==undefined){val=config;config=EMPTY_OBJ}if(typeof val==="function"){val=val.call(nodeInstance,nodeInstance)}if(attr&&attr.transition){if(attr.transition!==anim){attr.transition._count--}}anim._count++;dur=(typeof config.duration!=="undefined"?config.duration:anim._duration)||1e-4;attrs[prop]={value:val,duration:dur,delay:typeof config.delay!=="undefined"?config.delay:anim._delay,easing:config.easing||anim._easing,transition:anim};computed=Y.DOM.getComputedStyle(node,prop);compareVal=typeof val==="string"?computed:parseFloat(computed);if(Transition.useNative&&compareVal===val){setTimeout(function(){anim._onNativeEnd.call(node,{propertyName:prop,elapsedTime:dur})},dur*1e3)}},removeProperty:function(prop){var anim=this,attrs=Transition._nodeAttrs[Y.stamp(anim._node)];if(attrs&&attrs[prop]){delete attrs[prop];anim._count--}},initAttrs:function(config){var attr,node=this._node;if(config.transform&&!config[Transition._TRANSFORM]){config[Transition._TRANSFORM]=config.transform;delete config.transform}for(attr in config){if(config.hasOwnProperty(attr)&&!Transition._reKeywords.test(attr)){this.addProperty(attr,config[attr]);if(node.style[attr]===""){Y.DOM.setStyle(node,attr,Y.DOM.getComputedStyle(node,attr))}}}},run:function(callback){var anim=this,node=anim._node,config=anim._config,data={type:"transition:start",config:config};if(!anim._running){anim._running=true;if(config.on&&config.on.start){config.on.start.call(Y.one(node),data)}anim.initAttrs(anim._config);anim._callback=callback;anim._start()}return anim},_start:function(){this._runNative()},_prepDur:function(dur){dur=parseFloat(dur)*1e3;return dur+"ms"},_runNative:function(){var anim=this,node=anim._node,uid=Y.stamp(node),style=node.style,computed=node.ownerDocument.defaultView.getComputedStyle(node),attrs=Transition._nodeAttrs[uid],cssText="",cssTransition=computed[Transition._toCamel(TRANSITION_PROPERTY)],transitionText=TRANSITION_PROPERTY+": ",duration=TRANSITION_DURATION+": ",easing=TRANSITION_TIMING_FUNCTION+": ",delay=TRANSITION_DELAY+": ",hyphy,attr,name;if(cssTransition!=="all"){transitionText+=cssTransition+",";duration+=computed[Transition._toCamel(TRANSITION_DURATION)]+",";easing+=computed[Transition._toCamel(TRANSITION_TIMING_FUNCTION)]+",";delay+=computed[Transition._toCamel(TRANSITION_DELAY)]+","}for(name in attrs){hyphy=Transition._toHyphen(name);attr=attrs[name];if((attr=attrs[name])&&attr.transition===anim){if(name in node.style){duration+=anim._prepDur(attr.duration)+",";delay+=anim._prepDur(attr.delay)+",";easing+=attr.easing+",";transitionText+=hyphy+",";cssText+=hyphy+": "+attr.value+"; "}else{this.removeProperty(name)}}}transitionText=transitionText.replace(/,$/,";");duration=duration.replace(/,$/,";");easing=easing.replace(/,$/,";");delay=delay.replace(/,$/,";");if(!Transition._hasEnd[uid]){node.addEventListener(TRANSITION_END,anim._onNativeEnd,"");Transition._hasEnd[uid]=true}style.cssText+=transitionText+duration+easing+delay+cssText},_end:function(elapsed){var anim=this,node=anim._node,callback=anim._callback,config=anim._config,data={type:"transition:end",config:config,elapsedTime:elapsed},nodeInstance=Y.one(node);anim._running=false;anim._callback=null;if(node){if(config.on&&config.on.end){setTimeout(function(){config.on.end.call(nodeInstance,data);if(callback){callback.call(nodeInstance,data)}},1)}else if(callback){setTimeout(function(){callback.call(nodeInstance,data)},1)}}},_endNative:function(name){var node=this._node,value=node.ownerDocument.defaultView.getComputedStyle(node,"")[Transition._toCamel(TRANSITION_PROPERTY)];name=Transition._toHyphen(name);if(typeof value==="string"){value=value.replace(new RegExp("(?:^|,\\s)"+name+",?"),",");value=value.replace(/^,|,$/,"");node.style[TRANSITION_CAMEL]=value}},_onNativeEnd:function(e){var node=this,uid=Y.stamp(node),event=e,name=Transition._toCamel(event.propertyName),elapsed=event.elapsedTime,attrs=Transition._nodeAttrs[uid],attr=attrs[name],anim=attr?attr.transition:null,data,config;if(anim){anim.removeProperty(name);anim._endNative(name);config=anim._config[name];data={type:"propertyEnd",propertyName:name,elapsedTime:elapsed,config:config};if(config&&config.on&&config.on.end){config.on.end.call(Y.one(node),data)}if(anim._count<=0){anim._end(elapsed);node.style[TRANSITION_PROPERTY_CAMEL]=""}}},destroy:function(){var anim=this,node=anim._node;if(node){node.removeEventListener(TRANSITION_END,anim._onNativeEnd,false);anim._node=null}}};Y.Transition=Transition;Y.TransitionNative=Transition;Y.Node.prototype.transition=function(name,config,callback){var transitionAttrs=Transition._nodeAttrs[Y.stamp(this._node)],anim=transitionAttrs?transitionAttrs.transition||null:null,fxConfig,prop;if(typeof name==="string"){if(typeof config==="function"){callback=config;config=null}fxConfig=Transition.fx[name];if(config&&typeof config!=="boolean"){config=Y.clone(config);for(prop in fxConfig){if(fxConfig.hasOwnProperty(prop)){if(!(prop in config)){config[prop]=fxConfig[prop]}}}}else{config=fxConfig}}else{callback=config;config=name}if(anim&&!anim._running){anim.init(this,config)}else{anim=new Transition(this._node,config)}anim.run(callback);return this};Y.Node.prototype.show=function(name,config,callback){this._show();if(name&&Y.Transition){if(typeof name!=="string"&&!name.push){if(typeof config==="function"){callback=config;config=name}name=Transition.SHOW_TRANSITION}this.transition(name,config,callback)}return this};Y.NodeList.prototype.show=function(name,config,callback){var nodes=this._nodes,i=0,node;while(node=nodes[i++]){Y.one(node).show(name,config,callback)}return this};var _wrapCallBack=function(anim,fn,callback){return function(){if(fn){fn.call(anim)}if(callback&&typeof callback==="function"){callback.apply(anim._node,arguments)}}};Y.Node.prototype.hide=function(name,config,callback){if(name&&Y.Transition){if(typeof config==="function"){callback=config;config=null}callback=_wrapCallBack(this,this._hide,callback);if(typeof name!=="string"&&!name.push){if(typeof config==="function"){callback=config;config=name}name=Transition.HIDE_TRANSITION}this.transition(name,config,callback)}else{this._hide()}return this};Y.NodeList.prototype.hide=function(name,config,callback){var nodes=this._nodes,i=0,node;while(node=nodes[i++]){Y.one(node).hide(name,config,callback)}return this};Y.NodeList.prototype.transition=function(config,callback){var nodes=this._nodes,i=0,node;while(node=nodes[i++]){Y.one(node).transition(config,callback)}return this};Y.Node.prototype.toggleView=function(name,on,callback){this._toggles=this._toggles||[];callback=arguments[arguments.length-1];if(typeof name!=="string"){on=name;this._toggleView(on,callback);return}if(typeof on==="function"){on=undefined}if(typeof on==="undefined"&&name in this._toggles){on=!this._toggles[name]}on=on?1:0;if(on){this._show()}else{callback=_wrapCallBack(this,this._hide,callback)}this._toggles[name]=on;this.transition(Y.Transition.toggles[name][on],callback);return this};Y.NodeList.prototype.toggleView=function(name,on,callback){var nodes=this._nodes,i=0,node;while(node=nodes[i++]){node=Y.one(node);node.toggleView.apply(node,arguments)}return this};Y.mix(Transition.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(node){return node.get("scrollHeight")+"px"},width:function(node){return node.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var overflow=this.getStyle("overflow");if(overflow!=="hidden"){this.setStyle("overflow","hidden");this._transitionOverflow=overflow}},end:function(){if(this._transitionOverflow){this.setStyle("overflow",this._transitionOverflow);delete this._transitionOverflow}}}}});Y.mix(Transition.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"3.9.1",{requires:["node-style"]});YUI.add("attribute-complex",function(Y,NAME){var Attribute=Y.Attribute;Attribute.Complex=function(){};Attribute.Complex.prototype={_normAttrVals:Attribute.prototype._normAttrVals,_getAttrInitVal:Attribute.prototype._getAttrInitVal};Y.AttributeComplex=Attribute.Complex},"3.9.1",{requires:["attribute-base"]});YUI.add("widget-base",function(Y,NAME){var L=Y.Lang,Node=Y.Node,ClassNameManager=Y.ClassNameManager,_getClassName=ClassNameManager.getClassName,_getWidgetClassName,_toInitialCap=Y.cached(function(str){return str.substring(0,1).toUpperCase()+str.substring(1)}),CONTENT="content",VISIBLE="visible",HIDDEN="hidden",DISABLED="disabled",FOCUSED="focused",WIDTH="width",HEIGHT="height",BOUNDING_BOX="boundingBox",CONTENT_BOX="contentBox",PARENT_NODE="parentNode",OWNER_DOCUMENT="ownerDocument",AUTO="auto",SRC_NODE="srcNode",BODY="body",TAB_INDEX="tabIndex",ID="id",RENDER="render",RENDERED="rendered",DESTROYED="destroyed",STRINGS="strings",DIV="<div></div>",CHANGE="Change",LOADING="loading",_UISET="_uiSet",EMPTY_STR="",EMPTY_FN=function(){},TRUE=true,FALSE=false,UI,ATTRS={},UI_ATTRS=[VISIBLE,DISABLED,HEIGHT,WIDTH,FOCUSED,TAB_INDEX],WEBKIT=Y.UA.webkit,_instances={};function Widget(config){var widget=this,parentNode,render,constructor=widget.constructor;widget._strs={};widget._cssPrefix=constructor.CSS_PREFIX||_getClassName(constructor.NAME.toLowerCase());config=config||{};Widget.superclass.constructor.call(widget,config);render=widget.get(RENDER);if(render){if(render!==TRUE){parentNode=render}widget.render(parentNode)}}Widget.NAME="widget";UI=Widget.UI_SRC="ui";Widget.ATTRS=ATTRS;ATTRS[ID]={valueFn:"_guid",writeOnce:TRUE};ATTRS[RENDERED]={value:FALSE,readOnly:TRUE};ATTRS[BOUNDING_BOX]={value:null,setter:"_setBB",writeOnce:TRUE};ATTRS[CONTENT_BOX]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:TRUE};ATTRS[TAB_INDEX]={value:null,validator:"_validTabIndex"};ATTRS[FOCUSED]={value:FALSE,readOnly:TRUE};ATTRS[DISABLED]={value:FALSE};ATTRS[VISIBLE]={value:TRUE};ATTRS[HEIGHT]={value:EMPTY_STR};ATTRS[WIDTH]={value:EMPTY_STR};ATTRS[STRINGS]={value:{},setter:"_strSetter",getter:"_strGetter"};ATTRS[RENDER]={value:FALSE,writeOnce:TRUE};Widget.CSS_PREFIX=_getClassName(Widget.NAME.toLowerCase());
Widget.getClassName=function(){return _getClassName.apply(ClassNameManager,[Widget.CSS_PREFIX].concat(Y.Array(arguments),true))};_getWidgetClassName=Widget.getClassName;Widget.getByNode=function(node){var widget,widgetMarker=_getWidgetClassName();node=Node.one(node);if(node){node=node.ancestor("."+widgetMarker,true);if(node){widget=_instances[Y.stamp(node,true)]}}return widget||null};Y.extend(Widget,Y.Base,{getClassName:function(){return _getClassName.apply(ClassNameManager,[this._cssPrefix].concat(Y.Array(arguments),true))},initializer:function(config){var bb=this.get(BOUNDING_BOX);if(bb instanceof Node){this._mapInstance(Y.stamp(bb))}if(this._applyParser){this._applyParser(config)}},_mapInstance:function(id){_instances[id]=this},destructor:function(){var boundingBox=this.get(BOUNDING_BOX),bbGuid;if(boundingBox instanceof Node){bbGuid=Y.stamp(boundingBox,true);if(bbGuid in _instances){delete _instances[bbGuid]}this._destroyBox()}},destroy:function(destroyAllNodes){this._destroyAllNodes=destroyAllNodes;return Widget.superclass.destroy.apply(this)},_destroyBox:function(){var boundingBox=this.get(BOUNDING_BOX),contentBox=this.get(CONTENT_BOX),deep=this._destroyAllNodes,same;same=boundingBox&&boundingBox.compareTo(contentBox);if(this.UI_EVENTS){this._destroyUIEvents()}this._unbindUI(boundingBox);if(deep){boundingBox.empty();boundingBox.remove(TRUE)}else{if(contentBox){contentBox.remove(TRUE)}if(!same){boundingBox.remove(TRUE)}}},render:function(parentNode){if(!this.get(DESTROYED)&&!this.get(RENDERED)){this.publish(RENDER,{queuable:FALSE,fireOnce:TRUE,defaultTargetOnly:TRUE,defaultFn:this._defRenderFn});this.fire(RENDER,{parentNode:parentNode?Node.one(parentNode):null})}return this},_defRenderFn:function(e){this._parentNode=e.parentNode;this.renderer();this._set(RENDERED,TRUE);this._removeLoadingClassNames()},renderer:function(){var widget=this;widget._renderUI();widget.renderUI();widget._bindUI();widget.bindUI();widget._syncUI();widget.syncUI()},bindUI:EMPTY_FN,renderUI:EMPTY_FN,syncUI:EMPTY_FN,hide:function(){return this.set(VISIBLE,FALSE)},show:function(){return this.set(VISIBLE,TRUE)},focus:function(){return this._set(FOCUSED,TRUE)},blur:function(){return this._set(FOCUSED,FALSE)},enable:function(){return this.set(DISABLED,FALSE)},disable:function(){return this.set(DISABLED,TRUE)},_uiSizeCB:function(expand){this.get(CONTENT_BOX).toggleClass(_getWidgetClassName(CONTENT,"expanded"),expand)},_renderBox:function(parentNode){var widget=this,contentBox=widget.get(CONTENT_BOX),boundingBox=widget.get(BOUNDING_BOX),srcNode=widget.get(SRC_NODE),defParentNode=widget.DEF_PARENT_NODE,doc=srcNode&&srcNode.get(OWNER_DOCUMENT)||boundingBox.get(OWNER_DOCUMENT)||contentBox.get(OWNER_DOCUMENT);if(srcNode&&!srcNode.compareTo(contentBox)&&!contentBox.inDoc(doc)){srcNode.replace(contentBox)}if(!boundingBox.compareTo(contentBox.get(PARENT_NODE))&&!boundingBox.compareTo(contentBox)){if(contentBox.inDoc(doc)){contentBox.replace(boundingBox)}boundingBox.appendChild(contentBox)}parentNode=parentNode||defParentNode&&Node.one(defParentNode);if(parentNode){parentNode.appendChild(boundingBox)}else if(!boundingBox.inDoc(doc)){Node.one(BODY).insert(boundingBox,0)}},_setBB:function(node){return this._setBox(this.get(ID),node,this.BOUNDING_TEMPLATE,true)},_setCB:function(node){return this.CONTENT_TEMPLATE===null?this.get(BOUNDING_BOX):this._setBox(null,node,this.CONTENT_TEMPLATE,false)},_defaultCB:function(node){return this.get(SRC_NODE)||null},_setBox:function(id,node,template,isBounding){node=Node.one(node);if(!node){node=Node.create(template);if(isBounding){this._bbFromTemplate=true}else{this._cbFromTemplate=true}}if(!node.get(ID)){node.set(ID,id||Y.guid())}return node},_renderUI:function(){this._renderBoxClassNames();this._renderBox(this._parentNode)},_renderBoxClassNames:function(){var classes=this._getClasses(),cl,boundingBox=this.get(BOUNDING_BOX),i;boundingBox.addClass(_getWidgetClassName());for(i=classes.length-3;i>=0;i--){cl=classes[i];boundingBox.addClass(cl.CSS_PREFIX||_getClassName(cl.NAME.toLowerCase()))}this.get(CONTENT_BOX).addClass(this.getClassName(CONTENT))},_removeLoadingClassNames:function(){var boundingBox=this.get(BOUNDING_BOX),contentBox=this.get(CONTENT_BOX),instClass=this.getClassName(LOADING),widgetClass=_getWidgetClassName(LOADING);boundingBox.removeClass(widgetClass).removeClass(instClass);contentBox.removeClass(widgetClass).removeClass(instClass)},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND);this._bindDOM()},_unbindUI:function(boundingBox){this._unbindDOM(boundingBox)},_bindDOM:function(){var oDocument=this.get(BOUNDING_BOX).get(OWNER_DOCUMENT),focusHandle=Widget._hDocFocus;if(!focusHandle){focusHandle=Widget._hDocFocus=oDocument.on("focus",this._onDocFocus,this);focusHandle.listeners={count:0}}focusHandle.listeners[Y.stamp(this,true)]=true;focusHandle.listeners.count++;if(WEBKIT){this._hDocMouseDown=oDocument.on("mousedown",this._onDocMouseDown,this)}},_unbindDOM:function(boundingBox){var focusHandle=Widget._hDocFocus,yuid=Y.stamp(this,true),focusListeners,mouseHandle=this._hDocMouseDown;if(focusHandle){focusListeners=focusHandle.listeners;if(focusListeners[yuid]){delete focusListeners[yuid];focusListeners.count--}if(focusListeners.count===0){focusHandle.detach();Widget._hDocFocus=null}}if(WEBKIT&&mouseHandle){mouseHandle.detach()}},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC)},_uiSetHeight:function(val){this._uiSetDim(HEIGHT,val);this._uiSizeCB(val!==EMPTY_STR&&val!==AUTO)},_uiSetWidth:function(val){this._uiSetDim(WIDTH,val)},_uiSetDim:function(dimension,val){this.get(BOUNDING_BOX).setStyle(dimension,L.isNumber(val)?val+this.DEF_UNIT:val)},_uiSetVisible:function(val){this.get(BOUNDING_BOX).toggleClass(this.getClassName(HIDDEN),!val)},_uiSetDisabled:function(val){this.get(BOUNDING_BOX).toggleClass(this.getClassName(DISABLED),val)},_uiSetFocused:function(val,src){var boundingBox=this.get(BOUNDING_BOX);boundingBox.toggleClass(this.getClassName(FOCUSED),val);if(src!==UI){if(val){boundingBox.focus()}else{boundingBox.blur()}}},_uiSetTabIndex:function(index){var boundingBox=this.get(BOUNDING_BOX);if(L.isNumber(index)){boundingBox.set(TAB_INDEX,index)}else{boundingBox.removeAttribute(TAB_INDEX)}},_onDocMouseDown:function(evt){if(this._domFocus){this._onDocFocus(evt)}},_onDocFocus:function(evt){var widget=Widget.getByNode(evt.target),activeWidget=Widget._active;if(activeWidget&&activeWidget!==widget){activeWidget._domFocus=false;activeWidget._set(FOCUSED,false,{src:UI});Widget._active=null}if(widget){widget._domFocus=true;widget._set(FOCUSED,true,{src:UI});Widget._active=widget}},toString:function(){return this.name+"["+this.get(ID)+"]"},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:DIV,BOUNDING_TEMPLATE:DIV,_guid:function(){return Y.guid()},_validTabIndex:function(tabIndex){return L.isNumber(tabIndex)||L.isNull(tabIndex)},_bindAttrUI:function(attrs){var i,l=attrs.length;for(i=0;i<l;i++){this.after(attrs[i]+CHANGE,this._setAttrUI)}},_syncAttrUI:function(attrs){var i,l=attrs.length,attr;for(i=0;i<l;i++){attr=attrs[i];this[_UISET+_toInitialCap(attr)](this.get(attr))}},_setAttrUI:function(e){if(e.target===this){this[_UISET+_toInitialCap(e.attrName)](e.newVal,e.src)}},_strSetter:function(strings){return Y.merge(this.get(STRINGS),strings)},getString:function(key){return this.get(STRINGS)[key]},getStrings:function(){return this.get(STRINGS)},_UI_ATTRS:{BIND:UI_ATTRS,SYNC:UI_ATTRS}});Y.Widget=Widget},"3.9.1",{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:true});YUI.add("widget-htmlparser",function(Y,NAME){var Widget=Y.Widget,Node=Y.Node,Lang=Y.Lang,SRC_NODE="srcNode",CONTENT_BOX="contentBox";Widget.HTML_PARSER={};Widget._buildCfg={aggregates:["HTML_PARSER"]};Widget.ATTRS[SRC_NODE]={value:null,setter:Node.one,getter:"_getSrcNode",writeOnce:true};Y.mix(Widget.prototype,{_getSrcNode:function(val){return val||this.get(CONTENT_BOX)},_applyParsedConfig:function(node,cfg,parsedCfg){return parsedCfg?Y.mix(cfg,parsedCfg,false):cfg},_applyParser:function(config){var widget=this,srcNode=this._getNodeToParse(),schema=widget._getHtmlParser(),parsedConfig,val;if(schema&&srcNode){Y.Object.each(schema,function(v,k,o){val=null;if(Lang.isFunction(v)){val=v.call(widget,srcNode)}else{if(Lang.isArray(v)){val=srcNode.all(v[0]);if(val.isEmpty()){val=null}}else{val=srcNode.one(v)}}if(val!==null&&val!==undefined){parsedConfig=parsedConfig||{};parsedConfig[k]=val}})}config=widget._applyParsedConfig(srcNode,config,parsedConfig)},_getNodeToParse:function(){var srcNode=this.get("srcNode");return!this._cbFromTemplate?srcNode:null},_getHtmlParser:function(){var classes=this._getClasses(),parser={},i,p;for(i=classes.length-1;i>=0;i--){p=classes[i].HTML_PARSER;if(p){Y.mix(parser,p,true)}}return parser}})},"3.9.1",{requires:["widget-base"]});YUI.add("widget-skin",function(Y,NAME){var BOUNDING_BOX="boundingBox",CONTENT_BOX="contentBox",SKIN="skin",_getClassName=Y.ClassNameManager.getClassName;Y.Widget.prototype.getSkinName=function(){var root=this.get(CONTENT_BOX)||this.get(BOUNDING_BOX),search=new RegExp("\\b"+_getClassName(SKIN)+"-(\\S+)"),match;if(root){root.ancestor(function(node){match=node.get("className").match(search);return match})}return match?match[1]:null}},"3.9.1",{requires:["widget-base"]});YUI.add("widget-uievents",function(Y,NAME){var BOUNDING_BOX="boundingBox",Widget=Y.Widget,RENDER="render",L=Y.Lang,EVENT_PREFIX_DELIMITER=":",_uievts=Y.Widget._uievts=Y.Widget._uievts||{};Y.mix(Widget.prototype,{_destroyUIEvents:function(){var widgetGuid=Y.stamp(this,true);Y.each(_uievts,function(info,key){if(info.instances[widgetGuid]){delete info.instances[widgetGuid];if(Y.Object.isEmpty(info.instances)){info.handle.detach();if(_uievts[key]){delete _uievts[key]}}}})},UI_EVENTS:Y.Node.DOM_EVENTS,_getUIEventNode:function(){return this.get(BOUNDING_BOX)},_createUIEvent:function(type){var uiEvtNode=this._getUIEventNode(),key=Y.stamp(uiEvtNode)+type,info=_uievts[key],handle;if(!info){handle=uiEvtNode.delegate(type,function(evt){var widget=Widget.getByNode(this);if(widget){if(widget._filterUIEvent(evt)){widget.fire(evt.type,{domEvent:evt})}}},"."+Y.Widget.getClassName());_uievts[key]=info={instances:{},handle:handle}}info.instances[Y.stamp(this)]=1},_filterUIEvent:function(evt){return evt.currentTarget.compareTo(evt.container)||evt.container.compareTo(this._getUIEventNode())},_getUIEvent:function(type){if(L.isString(type)){var sType=this.parseType(type)[1],iDelim,returnVal;if(sType){iDelim=sType.indexOf(EVENT_PREFIX_DELIMITER);if(iDelim>-1){sType=sType.substring(iDelim+EVENT_PREFIX_DELIMITER.length)}if(this.UI_EVENTS[sType]){returnVal=sType}}return returnVal}},_initUIEvent:function(type){var sType=this._getUIEvent(type),queue=this._uiEvtsInitQueue||{};if(sType&&!queue[sType]){this._uiEvtsInitQueue=queue[sType]=1;this.after(RENDER,function(){this._createUIEvent(sType);delete this._uiEvtsInitQueue[sType]})}},on:function(type){this._initUIEvent(type);return Widget.superclass.on.apply(this,arguments)},publish:function(type,config){var sType=this._getUIEvent(type);if(sType&&config&&config.defaultFn){this._initUIEvent(sType)}return Widget.superclass.publish.apply(this,arguments)}},true)},"3.9.1",{requires:["node-event-delegate","widget-base"]});YUI.add("anim-base",function(Y,NAME){var RUNNING="running",START_TIME="startTime",ELAPSED_TIME="elapsedTime",START="start",TWEEN="tween",END="end",NODE="node",PAUSED="paused",REVERSE="reverse",ITERATION_COUNT="iterationCount",NUM=Number;var _running={},_timer;Y.Anim=function(){Y.Anim.superclass.constructor.apply(this,arguments);Y.Anim._instances[Y.stamp(this)]=this};Y.Anim.NAME="anim";Y.Anim._instances={};Y.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;Y.Anim.DEFAULT_UNIT="px";Y.Anim.DEFAULT_EASING=function(t,b,c,d){return c*t/d+b};Y.Anim._intervalTime=20;Y.Anim.behaviors={left:{get:function(anim,attr){return anim._getOffset(attr)}}};Y.Anim.behaviors.top=Y.Anim.behaviors.left;Y.Anim.DEFAULT_SETTER=function(anim,att,from,to,elapsed,duration,fn,unit){var node=anim._node,domNode=node._node,val=fn(elapsed,NUM(from),NUM(to)-NUM(from),duration);if(domNode){if("style"in domNode&&(att in domNode.style||att in Y.DOM.CUSTOM_STYLES)){unit=unit||"";node.setStyle(att,val+unit)}else if("attributes"in domNode&&att in domNode.attributes){node.setAttribute(att,val)}else if(att in domNode){domNode[att]=val}}else if(node.set){node.set(att,val)}else if(att in node){node[att]=val}};Y.Anim.DEFAULT_GETTER=function(anim,att){var node=anim._node,domNode=node._node,val="";if(domNode){if("style"in domNode&&(att in domNode.style||att in Y.DOM.CUSTOM_STYLES)){val=node.getComputedStyle(att)}else if("attributes"in domNode&&att in domNode.attributes){val=node.getAttribute(att)}else if(att in domNode){val=domNode[att]}}else if(node.get){val=node.get(att)}else if(att in node){val=node[att]}return val};Y.Anim.ATTRS={node:{setter:function(node){if(node){if(typeof node==="string"||node.nodeType){node=Y.one(node)}}this._node=node;if(!node){}return node}},duration:{value:1},easing:{value:Y.Anim.DEFAULT_EASING,setter:function(val){if(typeof val==="string"&&Y.Easing){return Y.Easing[val]}}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{getter:function(){return!!_running[Y.stamp(this)]},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reverse:{value:false}};Y.Anim.run=function(){var instances=Y.Anim._instances,i;for(i in instances){if(instances[i].run){instances[i].run()}}};Y.Anim.pause=function(){for(var i in _running){if(_running[i].pause){_running[i].pause()}}Y.Anim._stopTimer()};Y.Anim.stop=function(){for(var i in _running){if(_running[i].stop){_running[i].stop()}}Y.Anim._stopTimer()};Y.Anim._startTimer=function(){if(!_timer){_timer=setInterval(Y.Anim._runFrame,Y.Anim._intervalTime)}};Y.Anim._stopTimer=function(){clearInterval(_timer);_timer=0};Y.Anim._runFrame=function(){var done=true,anim;for(anim in _running){if(_running[anim]._runFrame){done=false;_running[anim]._runFrame()}}if(done){Y.Anim._stopTimer()}};Y.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var proto={run:function(){if(this.get(PAUSED)){this._resume()}else if(!this.get(RUNNING)){this._start()}return this},pause:function(){if(this.get(RUNNING)){this._pause()}return this},stop:function(finish){if(this.get(RUNNING)||this.get(PAUSED)){this._end(finish)}return this},_added:false,_start:function(){this._set(START_TIME,new Date-this.get(ELAPSED_TIME));this._actualFrames=0;if(!this.get(PAUSED)){this._initAnimAttr()}_running[Y.stamp(this)]=this;Y.Anim._startTimer();this.fire(START)},_pause:function(){this._set(START_TIME,null);this._set(PAUSED,true);delete _running[Y.stamp(this)];this.fire("pause")},_resume:function(){this._set(PAUSED,false);_running[Y.stamp(this)]=this;this._set(START_TIME,new Date-this.get(ELAPSED_TIME));Y.Anim._startTimer();this.fire("resume")},_end:function(finish){var duration=this.get("duration")*1e3;if(finish){this._runAttrs(duration,duration,this.get(REVERSE))}this._set(START_TIME,null);this._set(ELAPSED_TIME,0);this._set(PAUSED,false);delete _running[Y.stamp(this)];this.fire(END,{elapsed:this.get(ELAPSED_TIME)})},_runFrame:function(){var d=this._runtimeAttr.duration,t=new Date-this.get(START_TIME),reverse=this.get(REVERSE),done=t>=d;this._runAttrs(t,d,reverse);this._actualFrames+=1;this._set(ELAPSED_TIME,t);this.fire(TWEEN);if(done){this._lastFrame()}},_runAttrs:function(t,d,reverse){var attr=this._runtimeAttr,customAttr=Y.Anim.behaviors,easing=attr.easing,lastFrame=d,done=false,attribute,setter,i;if(t>=d){done=true}if(reverse){t=d-t;lastFrame=0}for(i in attr){if(attr[i].to){attribute=attr[i];setter=i in customAttr&&"set"in customAttr[i]?customAttr[i].set:Y.Anim.DEFAULT_SETTER;if(!done){setter(this,i,attribute.from,attribute.to,t,d,easing,attribute.unit)}else{setter(this,i,attribute.from,attribute.to,lastFrame,d,easing,attribute.unit)}}}},_lastFrame:function(){var iter=this.get("iterations"),iterCount=this.get(ITERATION_COUNT);iterCount+=1;if(iter==="infinite"||iterCount<iter){if(this.get("direction")==="alternate"){this.set(REVERSE,!this.get(REVERSE))}this.fire("iteration")}else{iterCount=0;this._end()}this._set(START_TIME,new Date);this._set(ITERATION_COUNT,iterCount)},_initAnimAttr:function(){var from=this.get("from")||{},to=this.get("to")||{},attr={duration:this.get("duration")*1e3,easing:this.get("easing")},customAttr=Y.Anim.behaviors,node=this.get(NODE),unit,begin,end;Y.each(to,function(val,name){if(typeof val==="function"){val=val.call(this,node)}begin=from[name];if(begin===undefined){begin=name in customAttr&&"get"in customAttr[name]?customAttr[name].get(this,name):Y.Anim.DEFAULT_GETTER(this,name)}else if(typeof begin==="function"){begin=begin.call(this,node)}var mFrom=Y.Anim.RE_UNITS.exec(begin),mTo=Y.Anim.RE_UNITS.exec(val);begin=mFrom?mFrom[1]:begin;end=mTo?mTo[1]:val;unit=mTo?mTo[2]:mFrom?mFrom[2]:"";if(!unit&&Y.Anim.RE_DEFAULT_UNIT.test(name)){unit=Y.Anim.DEFAULT_UNIT}if(!begin||!end){Y.error('invalid "from" or "to" for "'+name+'"',"Anim");return}attr[name]={from:Y.Lang.isObject(begin)?Y.clone(begin):begin,to:end,unit:unit}},this);this._runtimeAttr=attr},_getOffset:function(attr){var node=this._node,val=node.getComputedStyle(attr),get=attr==="left"?"getX":"getY",set=attr==="left"?"setX":"setY",position;if(val==="auto"){position=node.getStyle("position");if(position==="absolute"||position==="fixed"){val=node[get]();node[set](val)}else{val=0}}return val},destructor:function(){delete Y.Anim._instances[Y.stamp(this)]}};Y.extend(Y.Anim,Y.Base,proto)},"3.9.1",{requires:["base-base","node-style"]});YUI.add("widget-anim",function(Y,NAME){var BOUNDING_BOX="boundingBox",HOST="host",NODE="node",OPACITY="opacity",EMPTY_STR="",VISIBLE="visible",DESTROY="destroy",HIDDEN="hidden",RENDERED="rendered",START="start",END="end",DURATION="duration",ANIM_SHOW="animShow",ANIM_HIDE="animHide",_UI_SET_VISIBLE="_uiSetVisible",ANIM_SHOW_CHANGE="animShowChange",ANIM_HIDE_CHANGE="animHideChange";function WidgetAnim(config){WidgetAnim.superclass.constructor.apply(this,arguments)}WidgetAnim.NS="anim";WidgetAnim.NAME="pluginWidgetAnim";WidgetAnim.ANIMATIONS={fadeIn:function(){var widget=this.get(HOST),boundingBox=widget.get(BOUNDING_BOX),anim=new Y.Anim({node:boundingBox,to:{opacity:1},duration:this.get(DURATION)});if(!widget.get(VISIBLE)){boundingBox.setStyle(OPACITY,0)}anim.on(DESTROY,function(){this.get(NODE).setStyle(OPACITY,Y.UA.ie?1:EMPTY_STR)});return anim},fadeOut:function(){return new Y.Anim({node:this.get(HOST).get(BOUNDING_BOX),to:{opacity:0},duration:this.get(DURATION)})}};WidgetAnim.ATTRS={duration:{value:.2},animShow:{valueFn:WidgetAnim.ANIMATIONS.fadeIn},animHide:{valueFn:WidgetAnim.ANIMATIONS.fadeOut}};Y.extend(WidgetAnim,Y.Plugin.Base,{initializer:function(config){this._bindAnimShow();this._bindAnimHide();this.after(ANIM_SHOW_CHANGE,this._bindAnimShow);this.after(ANIM_HIDE_CHANGE,this._bindAnimHide);this.beforeHostMethod(_UI_SET_VISIBLE,this._uiAnimSetVisible)},destructor:function(){this.get(ANIM_SHOW).destroy();this.get(ANIM_HIDE).destroy()},_uiAnimSetVisible:function(val){if(this.get(HOST).get(RENDERED)){if(val){this.get(ANIM_HIDE).stop();this.get(ANIM_SHOW).run()}else{this.get(ANIM_SHOW).stop();this.get(ANIM_HIDE).run()}return new Y.Do.Prevent}},_uiSetVisible:function(val){var host=this.get(HOST),hiddenClass=host.getClassName(HIDDEN);host.get(BOUNDING_BOX).toggleClass(hiddenClass,!val)},_bindAnimShow:function(){this.get(ANIM_SHOW).on(START,Y.bind(function(){this._uiSetVisible(true)},this))},_bindAnimHide:function(){this.get(ANIM_HIDE).after(END,Y.bind(function(){this._uiSetVisible(false)},this))}});Y.namespace("Plugin").WidgetAnim=WidgetAnim},"3.9.1",{requires:["anim-base","plugin","widget"]});YUI.add("widget-position",function(Y,NAME){var Lang=Y.Lang,Widget=Y.Widget,XY_COORD="xy",POSITION="position",POSITIONED="positioned",BOUNDING_BOX="boundingBox",RELATIVE="relative",RENDERUI="renderUI",BINDUI="bindUI",SYNCUI="syncUI",UI=Widget.UI_SRC,XYChange="xyChange";function Position(config){this._posNode=this.get(BOUNDING_BOX);Y.after(this._renderUIPosition,this,RENDERUI);Y.after(this._syncUIPosition,this,SYNCUI);Y.after(this._bindUIPosition,this,BINDUI)}Position.ATTRS={x:{setter:function(val){this._setX(val)},getter:function(){return this._getX()},lazyAdd:false},y:{setter:function(val){this._setY(val)},getter:function(){return this._getY()},lazyAdd:false},xy:{value:[0,0],validator:function(val){return this._validateXY(val)}}};Position.POSITIONED_CLASS_NAME=Widget.getClassName(POSITIONED);Position.prototype={_renderUIPosition:function(){this._posNode.addClass(Position.POSITIONED_CLASS_NAME)},_syncUIPosition:function(){var posNode=this._posNode;if(posNode.getStyle(POSITION)===RELATIVE){this.syncXY()}this._uiSetXY(this.get(XY_COORD))},_bindUIPosition:function(){this.after(XYChange,this._afterXYChange)},move:function(){var args=arguments,coord=Lang.isArray(args[0])?args[0]:[args[0],args[1]];this.set(XY_COORD,coord)},syncXY:function(){this.set(XY_COORD,this._posNode.getXY(),{src:UI})},_validateXY:function(val){return Lang.isArray(val)&&Lang.isNumber(val[0])&&Lang.isNumber(val[1])},_setX:function(val){this.set(XY_COORD,[val,this.get(XY_COORD)[1]])},_setY:function(val){this.set(XY_COORD,[this.get(XY_COORD)[0],val])},_getX:function(){return this.get(XY_COORD)[0]},_getY:function(){return this.get(XY_COORD)[1]},_afterXYChange:function(e){if(e.src!=UI){this._uiSetXY(e.newVal)}},_uiSetXY:function(val){this._posNode.setXY(val)}};Y.WidgetPosition=Position},"3.9.1",{requires:["base-build","node-screen","widget"]});YUI.add("widget-position-align",function(Y,NAME){var Lang=Y.Lang,ALIGN="align",ALIGN_ON="alignOn",VISIBLE="visible",BOUNDING_BOX="boundingBox",OFFSET_WIDTH="offsetWidth",OFFSET_HEIGHT="offsetHeight",REGION="region",VIEWPORT_REGION="viewportRegion";function PositionAlign(config){if(!this._posNode){Y.error("WidgetPosition needs to be added to the Widget, "+"before WidgetPositionAlign is added")}Y.after(this._bindUIPosAlign,this,"bindUI");Y.after(this._syncUIPosAlign,this,"syncUI")}PositionAlign.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:false,value:false},alignOn:{value:[],validator:Y.Lang.isArray}};PositionAlign.TL="tl";PositionAlign.TR="tr";PositionAlign.BL="bl";PositionAlign.BR="br";PositionAlign.TC="tc";PositionAlign.RC="rc";PositionAlign.BC="bc";PositionAlign.LC="lc";PositionAlign.CC="cc";PositionAlign.prototype={_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange);this.after("alignOnChange",this._afterAlignOnChange);this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var align=this.get(ALIGN);this._uiSetVisiblePosAlign(this.get(VISIBLE));if(align){this._uiSetAlign(align.node,align.points)}},align:function(node,points){if(arguments.length){this.set(ALIGN,{node:node,points:points})}else{this._syncUIPosAlign()}return this},centered:function(node){return this.align(node,[PositionAlign.CC,PositionAlign.CC])},_setAlignCenter:function(val){if(val){this.set(ALIGN,{node:val===true?null:val,points:[PositionAlign.CC,PositionAlign.CC]})}return val},_uiSetAlign:function(node,points){if(!Lang.isArray(points)||points.length!==2){Y.error("align: Invalid Points Arguments");return}var nodeRegion=this._getRegion(node),widgetPoint,nodePoint,xy;if(!nodeRegion){return}widgetPoint=points[0];nodePoint=points[1];switch(nodePoint){case PositionAlign.TL:xy=[nodeRegion.left,nodeRegion.top];break;case PositionAlign.TR:xy=[nodeRegion.right,nodeRegion.top];break;case PositionAlign.BL:xy=[nodeRegion.left,nodeRegion.bottom];break;case PositionAlign.BR:xy=[nodeRegion.right,nodeRegion.bottom];break;case PositionAlign.TC:xy=[nodeRegion.left+Math.floor(nodeRegion.width/2),nodeRegion.top];break;case PositionAlign.BC:xy=[nodeRegion.left+Math.floor(nodeRegion.width/2),nodeRegion.bottom];break;case PositionAlign.LC:xy=[nodeRegion.left,nodeRegion.top+Math.floor(nodeRegion.height/2)];break;case PositionAlign.RC:xy=[nodeRegion.right,nodeRegion.top+Math.floor(nodeRegion.height/2)];break;case PositionAlign.CC:xy=[nodeRegion.left+Math.floor(nodeRegion.width/2),nodeRegion.top+Math.floor(nodeRegion.height/2)];break;default:break}if(xy){this._doAlign(widgetPoint,xy[0],xy[1])}},_uiSetVisiblePosAlign:function(visible){if(visible){this._attachPosAlignUIHandles()}else{this._detachPosAlignUIHandles()}},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles){return}var bb=this.get(BOUNDING_BOX),syncAlign=Y.bind(this._syncUIPosAlign,this),handles=[];Y.Array.each(this.get(ALIGN_ON),function(o){var event=o.eventName,node=Y.one(o.node)||bb;if(event){handles.push(node.on(event,syncAlign))}});this._posAlignUIHandles=handles},_detachPosAlignUIHandles:function(){var handles=this._posAlignUIHandles;if(handles){new Y.EventHandle(handles).detach();this._posAlignUIHandles=null}},_doAlign:function(widgetPoint,x,y){var widgetNode=this._posNode,xy;switch(widgetPoint){case PositionAlign.TL:xy=[x,y];break;case PositionAlign.TR:xy=[x-widgetNode.get(OFFSET_WIDTH),y];break;case PositionAlign.BL:xy=[x,y-widgetNode.get(OFFSET_HEIGHT)];break;case PositionAlign.BR:xy=[x-widgetNode.get(OFFSET_WIDTH),y-widgetNode.get(OFFSET_HEIGHT)];break;case PositionAlign.TC:xy=[x-widgetNode.get(OFFSET_WIDTH)/2,y];break;case PositionAlign.BC:xy=[x-widgetNode.get(OFFSET_WIDTH)/2,y-widgetNode.get(OFFSET_HEIGHT)];break;case PositionAlign.LC:xy=[x,y-widgetNode.get(OFFSET_HEIGHT)/2];break;case PositionAlign.RC:xy=[x-widgetNode.get(OFFSET_WIDTH),y-widgetNode.get(OFFSET_HEIGHT)/2];break;case PositionAlign.CC:xy=[x-widgetNode.get(OFFSET_WIDTH)/2,y-widgetNode.get(OFFSET_HEIGHT)/2];break;default:break}if(xy){this.move(xy)}},_getRegion:function(node){var nodeRegion;if(!node){nodeRegion=this._posNode.get(VIEWPORT_REGION)}else{node=Y.Node.one(node);if(node){nodeRegion=node.get(REGION)}}return nodeRegion},_afterAlignChange:function(e){var align=e.newVal;if(align){this._uiSetAlign(align.node,align.points)}},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles();if(this.get(VISIBLE)){this._attachPosAlignUIHandles()}}};Y.WidgetPositionAlign=PositionAlign},"3.9.1",{requires:["widget-position"]});YUI.add("widget-position-constrain",function(Y,NAME){var CONSTRAIN="constrain",CONSTRAIN_XYCHANGE="constrain|xyChange",CONSTRAIN_CHANGE="constrainChange",PREVENT_OVERLAP="preventOverlap",ALIGN="align",EMPTY_STR="",BINDUI="bindUI",XY="xy",X_COORD="x",Y_COORD="y",Node=Y.Node,VIEWPORT_REGION="viewportRegion",REGION="region",PREVENT_OVERLAP_MAP;function PositionConstrain(config){if(!this._posNode){Y.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added")}Y.after(this._bindUIPosConstrained,this,BINDUI)}PositionConstrain.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:false}};PREVENT_OVERLAP_MAP=PositionConstrain._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}};PositionConstrain.prototype={getConstrainedXY:function(xy,node){node=node||this.get(CONSTRAIN);var constrainingRegion=this._getRegion(node===true?null:node),nodeRegion=this._posNode.get(REGION);return[this._constrain(xy[0],X_COORD,nodeRegion,constrainingRegion),this._constrain(xy[1],Y_COORD,nodeRegion,constrainingRegion)]},constrain:function(xy,node){var currentXY,constrainedXY,constraint=node||this.get(CONSTRAIN);if(constraint){currentXY=xy||this.get(XY);constrainedXY=this.getConstrainedXY(currentXY,constraint);if(constrainedXY[0]!==currentXY[0]||constrainedXY[1]!==currentXY[1]){this.set(XY,constrainedXY,{constrained:true})}}},_setConstrain:function(val){return val===true?val:Node.one(val)},_constrain:function(val,axis,nodeRegion,constrainingRegion){if(constrainingRegion){if(this.get(PREVENT_OVERLAP)){val=this._preventOverlap(val,axis,nodeRegion,constrainingRegion)}var x=axis==X_COORD,regionSize=x?constrainingRegion.width:constrainingRegion.height,nodeSize=x?nodeRegion.width:nodeRegion.height,minConstraint=x?constrainingRegion.left:constrainingRegion.top,maxConstraint=x?constrainingRegion.right-nodeSize:constrainingRegion.bottom-nodeSize;if(val<minConstraint||val>maxConstraint){if(nodeSize<regionSize){if(val<minConstraint){val=minConstraint}else if(val>maxConstraint){val=maxConstraint}}else{val=minConstraint}}}return val},_preventOverlap:function(val,axis,nodeRegion,constrainingRegion){var align=this.get(ALIGN),x=axis===X_COORD,nodeSize,alignRegion,nearEdge,farEdge,spaceOnNearSide,spaceOnFarSide;if(align&&align.points&&PREVENT_OVERLAP_MAP[axis][align.points.join(EMPTY_STR)]){alignRegion=this._getRegion(align.node);if(alignRegion){nodeSize=x?nodeRegion.width:nodeRegion.height;nearEdge=x?alignRegion.left:alignRegion.top;farEdge=x?alignRegion.right:alignRegion.bottom;spaceOnNearSide=x?alignRegion.left-constrainingRegion.left:alignRegion.top-constrainingRegion.top;spaceOnFarSide=x?constrainingRegion.right-alignRegion.right:constrainingRegion.bottom-alignRegion.bottom}if(val>nearEdge){if(spaceOnFarSide<nodeSize&&spaceOnNearSide>nodeSize){val=nearEdge-nodeSize}}else{if(spaceOnNearSide<nodeSize&&spaceOnFarSide>nodeSize){val=farEdge}}}return val},_bindUIPosConstrained:function(){this.after(CONSTRAIN_CHANGE,this._afterConstrainChange);this._enableConstraints(this.get(CONSTRAIN))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(enable){if(enable){this.constrain();this._cxyHandle=this._cxyHandle||this.on(CONSTRAIN_XYCHANGE,this._constrainOnXYChange)}else if(this._cxyHandle){this._cxyHandle.detach();this._cxyHandle=null}},_constrainOnXYChange:function(e){if(!e.constrained){e.newVal=this.getConstrainedXY(e.newVal)}},_getRegion:function(node){var region;if(!node){region=this._posNode.get(VIEWPORT_REGION)}else{node=Node.one(node);if(node){region=node.get(REGION)}}return region}};Y.WidgetPositionConstrain=PositionConstrain},"3.9.1",{requires:["widget-position"]});YUI.add("widget-stdmod",function(Y,NAME){var L=Y.Lang,Node=Y.Node,UA=Y.UA,Widget=Y.Widget,EMPTY="",HD="hd",BD="bd",FT="ft",HEADER="header",BODY="body",FOOTER="footer",FILL_HEIGHT="fillHeight",STDMOD="stdmod",NODE_SUFFIX="Node",CONTENT_SUFFIX="Content",FIRST_CHILD="firstChild",CHILD_NODES="childNodes",OWNER_DOCUMENT="ownerDocument",CONTENT_BOX="contentBox",HEIGHT="height",OFFSET_HEIGHT="offsetHeight",AUTO="auto",HeaderChange="headerContentChange",BodyChange="bodyContentChange",FooterChange="footerContentChange",FillHeightChange="fillHeightChange",HeightChange="heightChange",ContentUpdate="contentUpdate",RENDERUI="renderUI",BINDUI="bindUI",SYNCUI="syncUI",APPLY_PARSED_CONFIG="_applyParsedConfig",UI=Y.Widget.UI_SRC;function StdMod(config){this._stdModNode=this.get(CONTENT_BOX);Y.before(this._renderUIStdMod,this,RENDERUI);Y.before(this._bindUIStdMod,this,BINDUI);Y.before(this._syncUIStdMod,this,SYNCUI)}StdMod.HEADER=HEADER;StdMod.BODY=BODY;StdMod.FOOTER=FOOTER;StdMod.AFTER="after";StdMod.BEFORE="before";StdMod.REPLACE="replace";var STD_HEADER=StdMod.HEADER,STD_BODY=StdMod.BODY,STD_FOOTER=StdMod.FOOTER,HEADER_CONTENT=STD_HEADER+CONTENT_SUFFIX,FOOTER_CONTENT=STD_FOOTER+CONTENT_SUFFIX,BODY_CONTENT=STD_BODY+CONTENT_SUFFIX;StdMod.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:StdMod.BODY,validator:function(val){return this._validateFillHeight(val)}}};StdMod.HTML_PARSER={headerContent:function(contentBox){return this._parseStdModHTML(STD_HEADER)},bodyContent:function(contentBox){return this._parseStdModHTML(STD_BODY)},footerContent:function(contentBox){return this._parseStdModHTML(STD_FOOTER)}};StdMod.SECTION_CLASS_NAMES={header:Widget.getClassName(HD),body:Widget.getClassName(BD),footer:Widget.getClassName(FT)};StdMod.TEMPLATES={header:'<div class="'+StdMod.SECTION_CLASS_NAMES[STD_HEADER]+'"></div>',body:'<div class="'+StdMod.SECTION_CLASS_NAMES[STD_BODY]+'"></div>',footer:'<div class="'+StdMod.SECTION_CLASS_NAMES[STD_FOOTER]+'"></div>'};
StdMod.prototype={_syncUIStdMod:function(){var stdModParsed=this._stdModParsed;if(!stdModParsed||!stdModParsed[HEADER_CONTENT]){this._uiSetStdMod(STD_HEADER,this.get(HEADER_CONTENT))}if(!stdModParsed||!stdModParsed[BODY_CONTENT]){this._uiSetStdMod(STD_BODY,this.get(BODY_CONTENT))}if(!stdModParsed||!stdModParsed[FOOTER_CONTENT]){this._uiSetStdMod(STD_FOOTER,this.get(FOOTER_CONTENT))}this._uiSetFillHeight(this.get(FILL_HEIGHT))},_renderUIStdMod:function(){this._stdModNode.addClass(Widget.getClassName(STDMOD));this._renderStdModSections();this.after(HeaderChange,this._afterHeaderChange);this.after(BodyChange,this._afterBodyChange);this.after(FooterChange,this._afterFooterChange)},_renderStdModSections:function(){if(L.isValue(this.get(HEADER_CONTENT))){this._renderStdMod(STD_HEADER)}if(L.isValue(this.get(BODY_CONTENT))){this._renderStdMod(STD_BODY)}if(L.isValue(this.get(FOOTER_CONTENT))){this._renderStdMod(STD_FOOTER)}},_bindUIStdMod:function(){this.after(FillHeightChange,this._afterFillHeightChange);this.after(HeightChange,this._fillHeight);this.after(ContentUpdate,this._fillHeight)},_afterHeaderChange:function(e){if(e.src!==UI){this._uiSetStdMod(STD_HEADER,e.newVal,e.stdModPosition)}},_afterBodyChange:function(e){if(e.src!==UI){this._uiSetStdMod(STD_BODY,e.newVal,e.stdModPosition)}},_afterFooterChange:function(e){if(e.src!==UI){this._uiSetStdMod(STD_FOOTER,e.newVal,e.stdModPosition)}},_afterFillHeightChange:function(e){this._uiSetFillHeight(e.newVal)},_validateFillHeight:function(val){return!val||val==StdMod.BODY||val==StdMod.HEADER||val==StdMod.FOOTER},_uiSetFillHeight:function(fillSection){var fillNode=this.getStdModNode(fillSection);var currNode=this._currFillNode;if(currNode&&fillNode!==currNode){currNode.setStyle(HEIGHT,EMPTY)}if(fillNode){this._currFillNode=fillNode}this._fillHeight()},_fillHeight:function(){if(this.get(FILL_HEIGHT)){var height=this.get(HEIGHT);if(height!=EMPTY&&height!=AUTO){this.fillHeight(this._currFillNode)}}},_uiSetStdMod:function(section,content,where){if(L.isValue(content)){var node=this.getStdModNode(section,true);this._addStdModContent(node,content,where);this.set(section+CONTENT_SUFFIX,this._getStdModContent(section),{src:UI})}else{this._eraseStdMod(section)}this.fire(ContentUpdate)},_renderStdMod:function(section){var contentBox=this.get(CONTENT_BOX),sectionNode=this._findStdModSection(section);if(!sectionNode){sectionNode=this._getStdModTemplate(section)}this._insertStdModSection(contentBox,section,sectionNode);this[section+NODE_SUFFIX]=sectionNode;return this[section+NODE_SUFFIX]},_eraseStdMod:function(section){var sectionNode=this.getStdModNode(section);if(sectionNode){sectionNode.remove(true);delete this[section+NODE_SUFFIX]}},_insertStdModSection:function(contentBox,section,sectionNode){var fc=contentBox.get(FIRST_CHILD);if(section===STD_FOOTER||!fc){contentBox.appendChild(sectionNode)}else{if(section===STD_HEADER){contentBox.insertBefore(sectionNode,fc)}else{var footer=this[STD_FOOTER+NODE_SUFFIX];if(footer){contentBox.insertBefore(sectionNode,footer)}else{contentBox.appendChild(sectionNode)}}}},_getStdModTemplate:function(section){return Node.create(StdMod.TEMPLATES[section],this._stdModNode.get(OWNER_DOCUMENT))},_addStdModContent:function(node,children,where){switch(where){case StdMod.BEFORE:where=0;break;case StdMod.AFTER:where=undefined;break;default:where=StdMod.REPLACE}node.insert(children,where)},_getPreciseHeight:function(node){var height=node?node.get(OFFSET_HEIGHT):0,getBCR="getBoundingClientRect";if(node&&node.hasMethod(getBCR)){var preciseRegion=node.invoke(getBCR);if(preciseRegion){height=preciseRegion.bottom-preciseRegion.top}}return height},_findStdModSection:function(section){return this.get(CONTENT_BOX).one("> ."+StdMod.SECTION_CLASS_NAMES[section])},_parseStdModHTML:function(section){var node=this._findStdModSection(section);if(node){if(!this._stdModParsed){this._stdModParsed={};Y.before(this._applyStdModParsedConfig,this,APPLY_PARSED_CONFIG)}this._stdModParsed[section+CONTENT_SUFFIX]=1;return node.get("innerHTML")}return null},_applyStdModParsedConfig:function(node,cfg,parsedCfg){var parsed=this._stdModParsed;if(parsed){parsed[HEADER_CONTENT]=!(HEADER_CONTENT in cfg)&&HEADER_CONTENT in parsed;parsed[BODY_CONTENT]=!(BODY_CONTENT in cfg)&&BODY_CONTENT in parsed;parsed[FOOTER_CONTENT]=!(FOOTER_CONTENT in cfg)&&FOOTER_CONTENT in parsed}},_getStdModContent:function(section){return this[section+NODE_SUFFIX]?this[section+NODE_SUFFIX].get(CHILD_NODES):null},setStdModContent:function(section,content,where){this.set(section+CONTENT_SUFFIX,content,{stdModPosition:where})},getStdModNode:function(section,forceCreate){var node=this[section+NODE_SUFFIX]||null;if(!node&&forceCreate){node=this._renderStdMod(section)}return node},fillHeight:function(node){if(node){var contentBox=this.get(CONTENT_BOX),stdModNodes=[this.headerNode,this.bodyNode,this.footerNode],stdModNode,cbContentHeight,filled=0,remaining=0,validNode=false;for(var i=0,l=stdModNodes.length;i<l;i++){stdModNode=stdModNodes[i];if(stdModNode){if(stdModNode!==node){filled+=this._getPreciseHeight(stdModNode)}else{validNode=true}}}if(validNode){if(UA.ie||UA.opera){node.set(OFFSET_HEIGHT,0)}cbContentHeight=contentBox.get(OFFSET_HEIGHT)-parseInt(contentBox.getComputedStyle("paddingTop"),10)-parseInt(contentBox.getComputedStyle("paddingBottom"),10)-parseInt(contentBox.getComputedStyle("borderBottomWidth"),10)-parseInt(contentBox.getComputedStyle("borderTopWidth"),10);if(L.isNumber(cbContentHeight)){remaining=cbContentHeight-filled;if(remaining>=0){node.set(OFFSET_HEIGHT,remaining)}}}}}};Y.WidgetStdMod=StdMod},"3.9.1",{requires:["base-build","widget"]});YUI.add("widget-stack",function(Y,NAME){var L=Y.Lang,UA=Y.UA,Node=Y.Node,Widget=Y.Widget,ZINDEX="zIndex",SHIM="shim",VISIBLE="visible",BOUNDING_BOX="boundingBox",RENDER_UI="renderUI",BIND_UI="bindUI",SYNC_UI="syncUI",OFFSET_WIDTH="offsetWidth",OFFSET_HEIGHT="offsetHeight",PARENT_NODE="parentNode",FIRST_CHILD="firstChild",OWNER_DOCUMENT="ownerDocument",WIDTH="width",HEIGHT="height",PX="px",SHIM_DEFERRED="shimdeferred",SHIM_RESIZE="shimresize",VisibleChange="visibleChange",WidthChange="widthChange",HeightChange="heightChange",ShimChange="shimChange",ZIndexChange="zIndexChange",ContentUpdate="contentUpdate",STACKED="stacked";function Stack(config){this._stackNode=this.get(BOUNDING_BOX);this._stackHandles={};Y.after(this._renderUIStack,this,RENDER_UI);Y.after(this._syncUIStack,this,SYNC_UI);Y.after(this._bindUIStack,this,BIND_UI)}Stack.ATTRS={shim:{value:UA.ie==6},zIndex:{value:0,setter:"_setZIndex"}};Stack.HTML_PARSER={zIndex:function(srcNode){return this._parseZIndex(srcNode)}};Stack.SHIM_CLASS_NAME=Widget.getClassName(SHIM);Stack.STACKED_CLASS_NAME=Widget.getClassName(STACKED);Stack.SHIM_TEMPLATE='<iframe class="'+Stack.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>';Stack.prototype={_syncUIStack:function(){this._uiSetShim(this.get(SHIM));this._uiSetZIndex(this.get(ZINDEX))},_bindUIStack:function(){this.after(ShimChange,this._afterShimChange);this.after(ZIndexChange,this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(Stack.STACKED_CLASS_NAME)},_parseZIndex:function(srcNode){var zIndex;if(!srcNode.inDoc()||srcNode.getStyle("position")==="static"){zIndex="auto"}else{zIndex=srcNode.getComputedStyle("zIndex")}return zIndex==="auto"?null:zIndex},_setZIndex:function(zIndex){if(L.isString(zIndex)){zIndex=parseInt(zIndex,10)}if(!L.isNumber(zIndex)){zIndex=0}return zIndex},_afterShimChange:function(e){this._uiSetShim(e.newVal)},_afterZIndexChange:function(e){this._uiSetZIndex(e.newVal)},_uiSetZIndex:function(zIndex){this._stackNode.setStyle(ZINDEX,zIndex)},_uiSetShim:function(enable){if(enable){if(this.get(VISIBLE)){this._renderShim()}else{this._renderShimDeferred()}if(UA.ie==6){this._addShimResizeHandlers()}}else{this._destroyShim()}},_renderShimDeferred:function(){this._stackHandles[SHIM_DEFERRED]=this._stackHandles[SHIM_DEFERRED]||[];var handles=this._stackHandles[SHIM_DEFERRED],createBeforeVisible=function(e){if(e.newVal){this._renderShim()}};handles.push(this.on(VisibleChange,createBeforeVisible))},_addShimResizeHandlers:function(){this._stackHandles[SHIM_RESIZE]=this._stackHandles[SHIM_RESIZE]||[];var sizeShim=this.sizeShim,handles=this._stackHandles[SHIM_RESIZE];handles.push(this.after(VisibleChange,sizeShim));handles.push(this.after(WidthChange,sizeShim));handles.push(this.after(HeightChange,sizeShim));handles.push(this.after(ContentUpdate,sizeShim))},_detachStackHandles:function(handleKey){var handles=this._stackHandles[handleKey],handle;if(handles&&handles.length>0){while(handle=handles.pop()){handle.detach()}}},_renderShim:function(){var shimEl=this._shimNode,stackEl=this._stackNode;if(!shimEl){shimEl=this._shimNode=this._getShimTemplate();stackEl.insertBefore(shimEl,stackEl.get(FIRST_CHILD));this._detachStackHandles(SHIM_DEFERRED);this.sizeShim()}},_destroyShim:function(){if(this._shimNode){this._shimNode.get(PARENT_NODE).removeChild(this._shimNode);this._shimNode=null;this._detachStackHandles(SHIM_DEFERRED);this._detachStackHandles(SHIM_RESIZE)}},sizeShim:function(){var shim=this._shimNode,node=this._stackNode;if(shim&&UA.ie===6&&this.get(VISIBLE)){shim.setStyle(WIDTH,node.get(OFFSET_WIDTH)+PX);shim.setStyle(HEIGHT,node.get(OFFSET_HEIGHT)+PX)}},_getShimTemplate:function(){return Node.create(Stack.SHIM_TEMPLATE,this._stackNode.get(OWNER_DOCUMENT))}};Y.WidgetStack=Stack},"3.9.1",{requires:["base-build","widget"],skinnable:true});YUI.add("overlay",function(Y,NAME){Y.Overlay=Y.Base.create("overlay",Y.Widget,[Y.WidgetStdMod,Y.WidgetPosition,Y.WidgetStack,Y.WidgetPositionAlign,Y.WidgetPositionConstrain])},"3.9.1",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:true});YUI.add("yui-throttle",function(Y,NAME){Y.throttle=function(fn,ms){ms=ms?ms:Y.config.throttleTime||150;if(ms===-1){return function(){fn.apply(null,arguments)}}var last=Y.Lang.now();return function(){var now=Y.Lang.now();if(now-last>ms){last=now;fn.apply(null,arguments)}}}},"3.9.1",{requires:["yui-base"]});YUI.add("dd-ddm-base",function(Y,NAME){var DDMBase=function(){DDMBase.superclass.constructor.apply(this,arguments)};DDMBase.NAME="ddm";DDMBase.ATTRS={dragCursor:{value:"move"},clickPixelThresh:{value:3},clickTimeThresh:{value:1e3},throttleTime:{value:-1},dragMode:{value:"point",setter:function(mode){this._setDragMode(mode);return mode}}};Y.extend(DDMBase,Y.Base,{_createPG:function(){},_active:null,_setDragMode:function(mode){if(mode===null){mode=Y.DD.DDM.get("dragMode")}switch(mode){case 1:case"intersect":return 1;case 2:case"strict":return 2;case 0:case"point":return 0}return 0},CSS_PREFIX:Y.ClassNameManager.getClassName("dd"),_activateTargets:function(){},_drags:[],activeDrag:false,_regDrag:function(d){if(this.getDrag(d.get("node"))){return false}if(!this._active){this._setupListeners()}this._drags.push(d);return true},_unregDrag:function(d){var tmp=[];Y.Array.each(this._drags,function(n){if(n!==d){tmp[tmp.length]=n}});this._drags=tmp},_setupListeners:function(){this._createPG();this._active=true;var doc=Y.one(Y.config.doc);doc.on("mousemove",Y.throttle(Y.bind(this._docMove,this),this.get("throttleTime")));doc.on("mouseup",Y.bind(this._end,this))},_start:function(){this.fire("ddm:start");this._startDrag()},_startDrag:function(){},_endDrag:function(){},_dropMove:function(){},_end:function(){if(this.activeDrag){this._shimming=false;this._endDrag();this.fire("ddm:end");this.activeDrag.end.call(this.activeDrag);this.activeDrag=null}},stopDrag:function(){if(this.activeDrag){this._end()}return this},_shimming:false,_docMove:function(ev){if(!this._shimming){this._move(ev)}},_move:function(ev){if(this.activeDrag){this.activeDrag._move.call(this.activeDrag,ev);this._dropMove()}},cssSizestoObject:function(gutter){var x=gutter.split(" ");switch(x.length){case 1:x[1]=x[2]=x[3]=x[0];break;case 2:x[2]=x[0];x[3]=x[1];break;case 3:x[3]=x[1];break}return{top:parseInt(x[0],10),right:parseInt(x[1],10),bottom:parseInt(x[2],10),left:parseInt(x[3],10)}},getDrag:function(node){var drag=false,n=Y.one(node);if(n instanceof Y.Node){Y.Array.each(this._drags,function(v){if(n.compareTo(v.get("node"))){drag=v}})}return drag},swapPosition:function(n1,n2){n1=Y.DD.DDM.getNode(n1);n2=Y.DD.DDM.getNode(n2);var xy1=n1.getXY(),xy2=n2.getXY();n1.setXY(xy2);n2.setXY(xy1);return n1},getNode:function(n){if(n instanceof Y.Node){return n}if(n&&n.get){if(Y.Widget&&n instanceof Y.Widget){n=n.get("boundingBox")}else{n=n.get("node")}}else{n=Y.one(n)}return n},swapNode:function(n1,n2){n1=Y.DD.DDM.getNode(n1);n2=Y.DD.DDM.getNode(n2);var p=n2.get("parentNode"),s=n2.get("nextSibling");if(s===n1){p.insertBefore(n1,n2)}else if(n2===n1.get("nextSibling")){p.insertBefore(n2,n1)}else{n1.get("parentNode").replaceChild(n2,n1);p.insertBefore(n1,s)}return n1}});Y.namespace("DD");Y.DD.DDM=new DDMBase},"3.9.1",{requires:["node","base","yui-throttle","classnamemanager"]});YUI.add("dd-ddm",function(Y,NAME){Y.mix(Y.DD.DDM,{_pg:null,_debugShim:false,_activateTargets:function(){},_deactivateTargets:function(){},_startDrag:function(){if(this.activeDrag&&this.activeDrag.get("useShim")){this._shimming=true;this._pg_activate();this._activateTargets()}},_endDrag:function(){this._pg_deactivate();this._deactivateTargets()},_pg_deactivate:function(){this._pg.setStyle("display","none")},_pg_activate:function(){if(!this._pg){this._createPG()}var ah=this.activeDrag.get("activeHandle"),cur="auto";if(ah){cur=ah.getStyle("cursor")}if(cur==="auto"){cur=this.get("dragCursor")}this._pg_size();this._pg.setStyles({top:0,left:0,display:"block",opacity:this._debugShim?".5":"0",cursor:cur})},_pg_size:function(){if(this.activeDrag){var b=Y.one("body"),h=b.get("docHeight"),w=b.get("docWidth");this._pg.setStyles({height:h+"px",width:w+"px"})}},_createPG:function(){var pg=Y.Node.create("<div></div>"),bd=Y.one("body"),win;pg.setStyles({top:"0",left:"0",position:"absolute",zIndex:"9999",overflow:"hidden",backgroundColor:"red",display:"none",height:"5px",width:"5px"});pg.set("id",Y.stamp(pg));pg.addClass(Y.DD.DDM.CSS_PREFIX+"-shim");bd.prepend(pg);this._pg=pg;this._pg.on("mousemove",Y.throttle(Y.bind(this._move,this),this.get("throttleTime")));this._pg.on("mouseup",Y.bind(this._end,this));win=Y.one("win");Y.on("window:resize",Y.bind(this._pg_size,this));win.on("scroll",Y.bind(this._pg_size,this))}},true)},"3.9.1",{requires:["dd-ddm-base","event-resize"]});YUI.add("dd-ddm-drop",function(Y,NAME){Y.mix(Y.DD.DDM,{_noShim:false,_activeShims:[],_hasActiveShim:function(){if(this._noShim){return true}return this._activeShims.length},_addActiveShim:function(d){this._activeShims.push(d)},_removeActiveShim:function(d){var s=[];Y.Array.each(this._activeShims,function(v){if(v._yuid!==d._yuid){s.push(v)}});this._activeShims=s},syncActiveShims:function(force){Y.later(0,this,function(force){var drops=force?this.targets:this._lookup();Y.Array.each(drops,function(v){v.sizeShim.call(v)},this)},force)},mode:0,POINT:0,INTERSECT:1,STRICT:2,useHash:true,activeDrop:null,validDrops:[],otherDrops:{},targets:[],_addValid:function(drop){this.validDrops.push(drop);return this},_removeValid:function(drop){var drops=[];Y.Array.each(this.validDrops,function(v){if(v!==drop){drops.push(v)}});this.validDrops=drops;return this},isOverTarget:function(drop){if(this.activeDrag&&drop){var xy=this.activeDrag.mouseXY,r,dMode=this.activeDrag.get("dragMode"),aRegion,node=drop.shim;if(xy&&this.activeDrag){aRegion=this.activeDrag.region;if(dMode===this.STRICT){return this.activeDrag.get("dragNode").inRegion(drop.region,true,aRegion)}if(drop&&drop.shim){if(dMode===this.INTERSECT&&this._noShim){r=aRegion||this.activeDrag.get("node");return drop.get("node").intersect(r,drop.region).inRegion}if(this._noShim){node=drop.get("node")}return node.intersect({top:xy[1],bottom:xy[1],left:xy[0],right:xy[0]},drop.region).inRegion}}}return false},clearCache:function(){this.validDrops=[];this.otherDrops={};this._activeShims=[]},_activateTargets:function(){this._noShim=true;this.clearCache();Y.Array.each(this.targets,function(v){v._activateShim([]);if(v.get("noShim")===true){this._noShim=false}},this);this._handleTargetOver()},getBestMatch:function(drops,all){var biggest=null,area=0,out;Y.Array.each(drops,function(v){var inter=this.activeDrag.get("dragNode").intersect(v.get("node"));v.region.area=inter.area;if(inter.inRegion){if(inter.area>area){area=inter.area;biggest=v}}},this);if(all){out=[];Y.Array.each(drops,function(v){if(v!==biggest){out.push(v)}},this);return[biggest,out]}return biggest},_deactivateTargets:function(){var other=[],tmp,activeDrag=this.activeDrag,activeDrop=this.activeDrop;if(activeDrag&&activeDrop&&this.otherDrops[activeDrop]){if(!activeDrag.get("dragMode")){other=this.otherDrops;delete other[activeDrop]}else{tmp=this.getBestMatch(this.otherDrops,true);activeDrop=tmp[0];other=tmp[1]}activeDrag.get("node").removeClass(this.CSS_PREFIX+"-drag-over");if(activeDrop){activeDrop.fire("drop:hit",{drag:activeDrag,drop:activeDrop,others:other});activeDrag.fire("drag:drophit",{drag:activeDrag,drop:activeDrop,others:other})}}else if(activeDrag&&activeDrag.get("dragging")){activeDrag.get("node").removeClass(this.CSS_PREFIX+"-drag-over");activeDrag.fire("drag:dropmiss",{pageX:activeDrag.lastXY[0],pageY:activeDrag.lastXY[1]})}this.activeDrop=null;Y.Array.each(this.targets,function(v){v._deactivateShim([])},this)},_dropMove:function(){if(this._hasActiveShim()){this._handleTargetOver()}else{Y.Array.each(this.otherDrops,function(v){v._handleOut.apply(v,[])})}},_lookup:function(){if(!this.useHash||this._noShim){return this.validDrops}var drops=[];Y.Array.each(this.validDrops,function(v){if(v.shim&&v.shim.inViewportRegion(false,v.region)){drops.push(v)}});return drops},_handleTargetOver:function(){var drops=this._lookup();Y.Array.each(drops,function(v){v._handleTargetOver.call(v)},this)},_regTarget:function(t){this.targets.push(t)},_unregTarget:function(drop){var targets=[],vdrops;Y.Array.each(this.targets,function(v){if(v!==drop){targets.push(v)}},this);this.targets=targets;vdrops=[];Y.Array.each(this.validDrops,function(v){if(v!==drop){vdrops.push(v)}});this.validDrops=vdrops},getDrop:function(node){var drop=false,n=Y.one(node);if(n instanceof Y.Node){Y.Array.each(this.targets,function(v){if(n.compareTo(v.get("node"))){drop=v}})}return drop}},true)},"3.9.1",{requires:["dd-ddm"]});YUI.add("dd-drag",function(Y,NAME){var DDM=Y.DD.DDM,NODE="node",DRAGGING="dragging",DRAG_NODE="dragNode",OFFSET_HEIGHT="offsetHeight",OFFSET_WIDTH="offsetWidth",EV_MOUSE_DOWN="drag:mouseDown",EV_AFTER_MOUSE_DOWN="drag:afterMouseDown",EV_REMOVE_HANDLE="drag:removeHandle",EV_ADD_HANDLE="drag:addHandle",EV_REMOVE_INVALID="drag:removeInvalid",EV_ADD_INVALID="drag:addInvalid",EV_START="drag:start",EV_END="drag:end",EV_DRAG="drag:drag",EV_ALIGN="drag:align",Drag=function(o){this._lazyAddAttrs=false;Drag.superclass.constructor.apply(this,arguments);var valid=DDM._regDrag(this);if(!valid){Y.error("Failed to register node, already in use: "+o.node)}};Drag.NAME="drag";Drag.START_EVENT="mousedown";Drag.ATTRS={node:{setter:function(node){if(this._canDrag(node)){return node}var n=Y.one(node);if(!n){Y.error("DD.Drag: Invalid Node Given: "+node)}return n}},dragNode:{setter:function(node){if(this._canDrag(node)){return node}var n=Y.one(node);if(!n){Y.error("DD.Drag: Invalid dragNode Given: "+node)}return n}},offsetNode:{value:true},startCentered:{value:false},clickPixelThresh:{value:DDM.get("clickPixelThresh")},clickTimeThresh:{value:DDM.get("clickTimeThresh")},lock:{value:false,setter:function(lock){if(lock){this.get(NODE).addClass(DDM.CSS_PREFIX+"-locked")}else{this.get(NODE).removeClass(DDM.CSS_PREFIX+"-locked")}return lock}},data:{value:false},move:{value:true},useShim:{value:true},activeHandle:{value:false},primaryButtonOnly:{value:true},dragging:{value:false},parent:{value:false},target:{value:false,setter:function(config){this._handleTarget(config);return config}},dragMode:{value:null,setter:function(mode){return DDM._setDragMode(mode)}},groups:{value:["default"],getter:function(){if(!this._groups){this._groups={};return[]}return Y.Object.keys(this._groups)},setter:function(g){this._groups=Y.Array.hash(g);return g}},handles:{value:null,setter:function(g){if(g){this._handles={};Y.Array.each(g,function(v){var key=v;if(v instanceof Y.Node||v instanceof Y.NodeList){key=v._yuid}this._handles[key]=v},this)}else{this._handles=null}return g}},bubbles:{setter:function(t){this.addTarget(t);return t}},haltDown:{value:true}};Y.extend(Drag,Y.Base,{_canDrag:function(n){if(n&&n.setXY&&n.getXY&&n.test&&n.contains){return true}return false},_bubbleTargets:Y.DD.DDM,addToGroup:function(g){this._groups[g]=true;DDM._activateTargets();return this},removeFromGroup:function(g){delete this._groups[g];DDM._activateTargets();return this},target:null,_handleTarget:function(config){if(Y.DD.Drop){if(config===false){if(this.target){DDM._unregTarget(this.target);this.target=null}}else{if(!Y.Lang.isObject(config)){config={}}config.bubbleTargets=config.bubbleTargets||Y.Object.values(this._yuievt.targets);config.node=this.get(NODE);config.groups=config.groups||this.get("groups");this.target=new Y.DD.Drop(config)}}},_groups:null,_createEvents:function(){this.publish(EV_MOUSE_DOWN,{defaultFn:this._defMouseDownFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(EV_ALIGN,{defaultFn:this._defAlignFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(EV_DRAG,{defaultFn:this._defDragFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(EV_END,{defaultFn:this._defEndFn,preventedFn:this._prevEndFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});var ev=[EV_AFTER_MOUSE_DOWN,EV_REMOVE_HANDLE,EV_ADD_HANDLE,EV_REMOVE_INVALID,EV_ADD_INVALID,EV_START,"drag:drophit","drag:dropmiss","drag:over","drag:enter","drag:exit"];Y.Array.each(ev,function(v){this.publish(v,{type:v,emitFacade:true,bubbles:true,preventable:false,queuable:false,prefix:"drag"})},this)},_ev_md:null,_startTime:null,_endTime:null,_handles:null,_invalids:null,_invalidsDefault:{textarea:true,input:true,a:true,button:true,select:true},_dragThreshMet:null,_fromTimeout:null,_clickTimeout:null,deltaXY:null,startXY:null,nodeXY:null,lastXY:null,actXY:null,realXY:null,mouseXY:null,region:null,_handleMouseUp:function(){this.fire("drag:mouseup");this._fixIEMouseUp();if(DDM.activeDrag){DDM._end()}},_fixDragStart:function(e){if(this.validClick(e)){e.preventDefault()}},_ieSelectFix:function(){return false},_ieSelectBack:null,_fixIEMouseDown:function(){if(Y.UA.ie){this._ieSelectBack=Y.config.doc.body.onselectstart;Y.config.doc.body.onselectstart=this._ieSelectFix}},_fixIEMouseUp:function(){if(Y.UA.ie){Y.config.doc.body.onselectstart=this._ieSelectBack}},_handleMouseDownEvent:function(ev){this.fire(EV_MOUSE_DOWN,{ev:ev})},_defMouseDownFn:function(e){var ev=e.ev;this._dragThreshMet=false;this._ev_md=ev;if(this.get("primaryButtonOnly")&&ev.button>1){return false}if(this.validClick(ev)){this._fixIEMouseDown(ev);if(Drag.START_EVENT.indexOf("gesture")!==0){if(this.get("haltDown")){ev.halt()}else{ev.preventDefault()}}this._setStartPosition([ev.pageX,ev.pageY]);DDM.activeDrag=this;this._clickTimeout=Y.later(this.get("clickTimeThresh"),this,this._timeoutCheck)}this.fire(EV_AFTER_MOUSE_DOWN,{ev:ev})},validClick:function(ev){var r=false,n=false,tar=ev.target,hTest=null,els=null,nlist=null,set=false;if(this._handles){Y.Object.each(this._handles,function(i,n){if(i instanceof Y.Node||i instanceof Y.NodeList){if(!r){nlist=i;if(nlist instanceof Y.Node){nlist=new Y.NodeList(i._node)}nlist.each(function(nl){if(nl.contains(tar)){r=true}})}}else if(Y.Lang.isString(n)){if(tar.test(n+", "+n+" *")&&!hTest){hTest=n;r=true}}})}else{n=this.get(NODE);if(n.contains(tar)||n.compareTo(tar)){r=true}}if(r){if(this._invalids){Y.Object.each(this._invalids,function(i,n){if(Y.Lang.isString(n)){if(tar.test(n+", "+n+" *")){r=false}}})}}if(r){if(hTest){els=ev.currentTarget.all(hTest);set=false;els.each(function(n){if((n.contains(tar)||n.compareTo(tar))&&!set){set=true;this.set("activeHandle",n)}},this)}else{this.set("activeHandle",this.get(NODE))}}return r},_setStartPosition:function(xy){this.startXY=xy;this.nodeXY=this.lastXY=this.realXY=this.get(NODE).getXY();if(this.get("offsetNode")){this.deltaXY=[this.startXY[0]-this.nodeXY[0],this.startXY[1]-this.nodeXY[1]]}else{this.deltaXY=[0,0]}},_timeoutCheck:function(){if(!this.get("lock")&&!this._dragThreshMet&&this._ev_md){this._fromTimeout=this._dragThreshMet=true;this.start();this._alignNode([this._ev_md.pageX,this._ev_md.pageY],true)}},removeHandle:function(str){var key=str;if(str instanceof Y.Node||str instanceof Y.NodeList){key=str._yuid}if(this._handles[key]){delete this._handles[key];this.fire(EV_REMOVE_HANDLE,{handle:str})}return this},addHandle:function(str){if(!this._handles){this._handles={}}var key=str;if(str instanceof Y.Node||str instanceof Y.NodeList){key=str._yuid}this._handles[key]=str;this.fire(EV_ADD_HANDLE,{handle:str});return this},removeInvalid:function(str){if(this._invalids[str]){this._invalids[str]=null;delete this._invalids[str];this.fire(EV_REMOVE_INVALID,{handle:str})}return this},addInvalid:function(str){if(Y.Lang.isString(str)){this._invalids[str]=true;this.fire(EV_ADD_INVALID,{handle:str})}return this},initializer:function(){this.get(NODE).dd=this;if(!this.get(NODE).get("id")){var id=Y.stamp(this.get(NODE));this.get(NODE).set("id",id)}this.actXY=[];this._invalids=Y.clone(this._invalidsDefault,true);this._createEvents();if(!this.get(DRAG_NODE)){this.set(DRAG_NODE,this.get(NODE))}this.on("initializedChange",Y.bind(this._prep,this));this.set("groups",this.get("groups"))},_prep:function(){this._dragThreshMet=false;var node=this.get(NODE);node.addClass(DDM.CSS_PREFIX+"-draggable");node.on(Drag.START_EVENT,Y.bind(this._handleMouseDownEvent,this));node.on("mouseup",Y.bind(this._handleMouseUp,this));node.on("dragstart",Y.bind(this._fixDragStart,this))},_unprep:function(){var node=this.get(NODE);node.removeClass(DDM.CSS_PREFIX+"-draggable");node.detachAll("mouseup");node.detachAll("dragstart");node.detachAll(Drag.START_EVENT);this.mouseXY=[];this.deltaXY=[0,0];this.startXY=[];this.nodeXY=[];this.lastXY=[];this.actXY=[];this.realXY=[]},start:function(){if(!this.get("lock")&&!this.get(DRAGGING)){var node=this.get(NODE),ow,oh,xy;this._startTime=(new Date).getTime();DDM._start();node.addClass(DDM.CSS_PREFIX+"-dragging");this.fire(EV_START,{pageX:this.nodeXY[0],pageY:this.nodeXY[1],startTime:this._startTime});node=this.get(DRAG_NODE);xy=this.nodeXY;ow=node.get(OFFSET_WIDTH);oh=node.get(OFFSET_HEIGHT);if(this.get("startCentered")){this._setStartPosition([xy[0]+ow/2,xy[1]+oh/2])}this.region={0:xy[0],1:xy[1],area:0,top:xy[1],right:xy[0]+ow,bottom:xy[1]+oh,left:xy[0]};this.set(DRAGGING,true)}return this},end:function(){this._endTime=(new Date).getTime();if(this._clickTimeout){this._clickTimeout.cancel()}this._dragThreshMet=this._fromTimeout=false;if(!this.get("lock")&&this.get(DRAGGING)){this.fire(EV_END,{pageX:this.lastXY[0],pageY:this.lastXY[1],startTime:this._startTime,endTime:this._endTime})}this.get(NODE).removeClass(DDM.CSS_PREFIX+"-dragging");this.set(DRAGGING,false);this.deltaXY=[0,0];return this},_defEndFn:function(){this._fixIEMouseUp();this._ev_md=null},_prevEndFn:function(){this._fixIEMouseUp();this.get(DRAG_NODE).setXY(this.nodeXY);this._ev_md=null;this.region=null},_align:function(xy){this.fire(EV_ALIGN,{pageX:xy[0],pageY:xy[1]})},_defAlignFn:function(e){this.actXY=[e.pageX-this.deltaXY[0],e.pageY-this.deltaXY[1]]},_alignNode:function(eXY,scroll){this._align(eXY);if(!scroll){this._moveNode()}},_moveNode:function(scroll){var diffXY=[],diffXY2=[],startXY=this.nodeXY,xy=this.actXY;diffXY[0]=xy[0]-this.lastXY[0];diffXY[1]=xy[1]-this.lastXY[1];diffXY2[0]=xy[0]-this.nodeXY[0];diffXY2[1]=xy[1]-this.nodeXY[1];this.region={0:xy[0],1:xy[1],area:0,top:xy[1],right:xy[0]+this.get(DRAG_NODE).get(OFFSET_WIDTH),bottom:xy[1]+this.get(DRAG_NODE).get(OFFSET_HEIGHT),left:xy[0]};this.fire(EV_DRAG,{pageX:xy[0],pageY:xy[1],scroll:scroll,info:{start:startXY,xy:xy,delta:diffXY,offset:diffXY2}});this.lastXY=xy},_defDragFn:function(e){if(this.get("move")){if(e.scroll&&e.scroll.node){var domNode=e.scroll.node.getDOMNode();if(domNode===Y.config.win){domNode.scrollTo(e.scroll.left,e.scroll.top)}else{e.scroll.node.set("scrollTop",e.scroll.top);e.scroll.node.set("scrollLeft",e.scroll.left)}}this.get(DRAG_NODE).setXY([e.pageX,e.pageY]);this.realXY=[e.pageX,e.pageY]}},_move:function(ev){if(this.get("lock")){return false}this.mouseXY=[ev.pageX,ev.pageY];if(!this._dragThreshMet){var diffX=Math.abs(this.startXY[0]-ev.pageX),diffY=Math.abs(this.startXY[1]-ev.pageY);if(diffX>this.get("clickPixelThresh")||diffY>this.get("clickPixelThresh")){this._dragThreshMet=true;this.start();if(ev&&ev.preventDefault){ev.preventDefault()}this._alignNode([ev.pageX,ev.pageY])}}else{if(this._clickTimeout){this._clickTimeout.cancel()}this._alignNode([ev.pageX,ev.pageY])}},stopDrag:function(){if(this.get(DRAGGING)){DDM._end()}return this},destructor:function(){this._unprep();if(this.target){this.target.destroy()}DDM._unregDrag(this)}});Y.namespace("DD");Y.DD.Drag=Drag},"3.9.1",{requires:["dd-ddm-base"]});YUI.add("dd-proxy",function(Y,NAME){var DDM=Y.DD.DDM,NODE="node",DRAG_NODE="dragNode",HOST="host",TRUE=true,proto,P=function(){P.superclass.constructor.apply(this,arguments)};P.NAME="DDProxy";P.NS="proxy";P.ATTRS={host:{},moveOnEnd:{value:TRUE},hideOnEnd:{value:TRUE},resizeFrame:{value:TRUE},positionProxy:{value:TRUE},borderStyle:{value:"1px solid #808080"},cloneNode:{value:false}};proto={_hands:null,_init:function(){if(!DDM._proxy){DDM._createFrame();Y.on("domready",Y.bind(this._init,this));return}if(!this._hands){this._hands=[]}var h,h1,host=this.get(HOST),dnode=host.get(DRAG_NODE);if(dnode.compareTo(host.get(NODE))){if(DDM._proxy){host.set(DRAG_NODE,DDM._proxy)}}Y.Array.each(this._hands,function(v){v.detach()});h=DDM.on("ddm:start",Y.bind(function(){if(DDM.activeDrag===host){DDM._setFrame(host)}},this));h1=DDM.on("ddm:end",Y.bind(function(){if(host.get("dragging")){if(this.get("moveOnEnd")){host.get(NODE).setXY(host.lastXY)}if(this.get("hideOnEnd")){host.get(DRAG_NODE).setStyle("display","none")}if(this.get("cloneNode")){host.get(DRAG_NODE).remove();host.set(DRAG_NODE,DDM._proxy)}}},this));this._hands=[h,h1]},initializer:function(){this._init()},destructor:function(){var host=this.get(HOST);Y.Array.each(this._hands,function(v){v.detach()});host.set(DRAG_NODE,host.get(NODE))},clone:function(){var host=this.get(HOST),n=host.get(NODE),c=n.cloneNode(true);delete c._yuid;c.setAttribute("id",Y.guid());c.setStyle("position","absolute");n.get("parentNode").appendChild(c);host.set(DRAG_NODE,c);return c}};Y.namespace("Plugin");Y.extend(P,Y.Base,proto);Y.Plugin.DDProxy=P;Y.mix(DDM,{_createFrame:function(){if(!DDM._proxy){DDM._proxy=TRUE;var p=Y.Node.create("<div></div>"),b=Y.one("body");p.setStyles({position:"absolute",display:"none",zIndex:"999",top:"-999px",left:"-999px"});b.prepend(p);p.set("id",Y.guid());p.addClass(DDM.CSS_PREFIX+"-proxy");DDM._proxy=p}},_setFrame:function(drag){var n=drag.get(NODE),d=drag.get(DRAG_NODE),ah,cur="auto";ah=DDM.activeDrag.get("activeHandle");if(ah){cur=ah.getStyle("cursor")}if(cur==="auto"){cur=DDM.get("dragCursor")}d.setStyles({visibility:"hidden",display:"block",cursor:cur,border:drag.proxy.get("borderStyle")});if(drag.proxy.get("cloneNode")){d=drag.proxy.clone()}if(drag.proxy.get("resizeFrame")){d.setStyles({height:n.get("offsetHeight")+"px",width:n.get("offsetWidth")+"px"})}if(drag.proxy.get("positionProxy")){d.setXY(drag.nodeXY)}d.setStyle("visibility","visible")}})},"3.9.1",{requires:["dd-drag"]});YUI.add("dd-constrain",function(Y,NAME){var DRAG_NODE="dragNode",OFFSET_HEIGHT="offsetHeight",OFFSET_WIDTH="offsetWidth",HOST="host",TICK_X_ARRAY="tickXArray",TICK_Y_ARRAY="tickYArray",DDM=Y.DD.DDM,TOP="top",RIGHT="right",BOTTOM="bottom",LEFT="left",VIEW="view",proto=null,EV_TICK_ALIGN_X="drag:tickAlignX",EV_TICK_ALIGN_Y="drag:tickAlignY",C=function(){this._lazyAddAttrs=false;
C.superclass.constructor.apply(this,arguments)};C.NAME="ddConstrained";C.NS="con";C.ATTRS={host:{},stickX:{value:false},stickY:{value:false},tickX:{value:false},tickY:{value:false},tickXArray:{value:false},tickYArray:{value:false},gutter:{value:"0",setter:function(gutter){return Y.DD.DDM.cssSizestoObject(gutter)}},constrain:{value:VIEW,setter:function(con){var node=Y.one(con);if(node){con=node}return con}},constrain2region:{setter:function(r){return this.set("constrain",r)}},constrain2node:{setter:function(n){return this.set("constrain",Y.one(n))}},constrain2view:{setter:function(){return this.set("constrain",VIEW)}},cacheRegion:{value:true}};proto={_lastTickXFired:null,_lastTickYFired:null,initializer:function(){this._createEvents();this._eventHandles=[this.get(HOST).on("drag:end",Y.bind(this._handleEnd,this)),this.get(HOST).on("drag:start",Y.bind(this._handleStart,this)),this.get(HOST).after("drag:align",Y.bind(this.align,this)),this.get(HOST).after("drag:drag",Y.bind(this.drag,this))]},destructor:function(){Y.Array.each(this._eventHandles,function(handle){handle.detach()});this._eventHandles.length=0},_createEvents:function(){var ev=[EV_TICK_ALIGN_X,EV_TICK_ALIGN_Y];Y.Array.each(ev,function(v){this.publish(v,{type:v,emitFacade:true,bubbles:true,queuable:false,prefix:"drag"})},this)},_handleEnd:function(){this._lastTickYFired=null;this._lastTickXFired=null},_handleStart:function(){this.resetCache()},_regionCache:null,_cacheRegion:function(){this._regionCache=this.get("constrain").get("region")},resetCache:function(){this._regionCache=null},_getConstraint:function(){var con=this.get("constrain"),g=this.get("gutter"),region;if(con){if(con instanceof Y.Node){if(!this._regionCache){this._eventHandles.push(Y.on("resize",Y.bind(this._cacheRegion,this),Y.config.win));this._cacheRegion()}region=Y.clone(this._regionCache);if(!this.get("cacheRegion")){this.resetCache()}}else if(Y.Lang.isObject(con)){region=Y.clone(con)}}if(!con||!region){con=VIEW}if(con===VIEW){region=this.get(HOST).get(DRAG_NODE).get("viewportRegion")}Y.Object.each(g,function(i,n){if(n===RIGHT||n===BOTTOM){region[n]-=i}else{region[n]+=i}});return region},getRegion:function(inc){var r={},oh=null,ow=null,host=this.get(HOST);r=this._getConstraint();if(inc){oh=host.get(DRAG_NODE).get(OFFSET_HEIGHT);ow=host.get(DRAG_NODE).get(OFFSET_WIDTH);r[RIGHT]=r[RIGHT]-ow;r[BOTTOM]=r[BOTTOM]-oh}return r},_checkRegion:function(_xy){var oxy=_xy,r=this.getRegion(),host=this.get(HOST),oh=host.get(DRAG_NODE).get(OFFSET_HEIGHT),ow=host.get(DRAG_NODE).get(OFFSET_WIDTH);if(oxy[1]>r[BOTTOM]-oh){_xy[1]=r[BOTTOM]-oh}if(r[TOP]>oxy[1]){_xy[1]=r[TOP]}if(oxy[0]>r[RIGHT]-ow){_xy[0]=r[RIGHT]-ow}if(r[LEFT]>oxy[0]){_xy[0]=r[LEFT]}return _xy},inRegion:function(xy){xy=xy||this.get(HOST).get(DRAG_NODE).getXY();var _xy=this._checkRegion([xy[0],xy[1]]),inside=false;if(xy[0]===_xy[0]&&xy[1]===_xy[1]){inside=true}return inside},align:function(){var host=this.get(HOST),_xy=[host.actXY[0],host.actXY[1]],r=this.getRegion(true);if(this.get("stickX")){_xy[1]=host.startXY[1]-host.deltaXY[1]}if(this.get("stickY")){_xy[0]=host.startXY[0]-host.deltaXY[0]}if(r){_xy=this._checkRegion(_xy)}_xy=this._checkTicks(_xy,r);host.actXY=_xy},drag:function(){var host=this.get(HOST),xt=this.get("tickX"),yt=this.get("tickY"),_xy=[host.actXY[0],host.actXY[1]];if((Y.Lang.isNumber(xt)||this.get(TICK_X_ARRAY))&&this._lastTickXFired!==_xy[0]){this._tickAlignX();this._lastTickXFired=_xy[0]}if((Y.Lang.isNumber(yt)||this.get(TICK_Y_ARRAY))&&this._lastTickYFired!==_xy[1]){this._tickAlignY();this._lastTickYFired=_xy[1]}},_checkTicks:function(xy,r){var host=this.get(HOST),lx=host.startXY[0]-host.deltaXY[0],ly=host.startXY[1]-host.deltaXY[1],xt=this.get("tickX"),yt=this.get("tickY");if(xt&&!this.get(TICK_X_ARRAY)){xy[0]=DDM._calcTicks(xy[0],lx,xt,r[LEFT],r[RIGHT])}if(yt&&!this.get(TICK_Y_ARRAY)){xy[1]=DDM._calcTicks(xy[1],ly,yt,r[TOP],r[BOTTOM])}if(this.get(TICK_X_ARRAY)){xy[0]=DDM._calcTickArray(xy[0],this.get(TICK_X_ARRAY),r[LEFT],r[RIGHT])}if(this.get(TICK_Y_ARRAY)){xy[1]=DDM._calcTickArray(xy[1],this.get(TICK_Y_ARRAY),r[TOP],r[BOTTOM])}return xy},_tickAlignX:function(){this.fire(EV_TICK_ALIGN_X)},_tickAlignY:function(){this.fire(EV_TICK_ALIGN_Y)}};Y.namespace("Plugin");Y.extend(C,Y.Base,proto);Y.Plugin.DDConstrained=C;Y.mix(DDM,{_calcTicks:function(pos,start,tick,off1,off2){var ix=(pos-start)/tick,min=Math.floor(ix),max=Math.ceil(ix);if(min!==0||max!==0){if(ix>=min&&ix<=max){pos=start+tick*min;if(off1&&off2){if(pos<off1){pos=start+tick*(min+1)}if(pos>off2){pos=start+tick*(min-1)}}}}return pos},_calcTickArray:function(pos,ticks,off1,off2){var i=0,len=ticks.length,next=0,diff1,diff2,ret;if(!ticks||ticks.length===0){return pos}if(ticks[0]>=pos){return ticks[0]}for(i=0;i<len;i++){next=i+1;if(ticks[next]&&ticks[next]>=pos){diff1=pos-ticks[i];diff2=ticks[next]-pos;ret=diff2>diff1?ticks[i]:ticks[next];if(off1&&off2){if(ret>off2){if(ticks[i]){ret=ticks[i]}else{ret=ticks[len-1]}}}return ret}}return ticks[ticks.length-1]}})},"3.9.1",{requires:["dd-drag"]});YUI.add("dd-drop",function(Y,NAME){var NODE="node",DDM=Y.DD.DDM,OFFSET_HEIGHT="offsetHeight",OFFSET_WIDTH="offsetWidth",EV_DROP_OVER="drop:over",EV_DROP_ENTER="drop:enter",EV_DROP_EXIT="drop:exit",Drop=function(){this._lazyAddAttrs=false;Drop.superclass.constructor.apply(this,arguments);Y.on("domready",Y.bind(function(){Y.later(100,this,this._createShim)},this));DDM._regTarget(this)};Drop.NAME="drop";Drop.ATTRS={node:{setter:function(node){var n=Y.one(node);if(!n){Y.error("DD.Drop: Invalid Node Given: "+node)}return n}},groups:{value:["default"],getter:function(){if(!this._groups){this._groups={};return[]}return Y.Object.keys(this._groups)},setter:function(g){this._groups=Y.Array.hash(g);return g}},padding:{value:"0",setter:function(p){return DDM.cssSizestoObject(p)}},lock:{value:false,setter:function(lock){if(lock){this.get(NODE).addClass(DDM.CSS_PREFIX+"-drop-locked")}else{this.get(NODE).removeClass(DDM.CSS_PREFIX+"-drop-locked")}return lock}},bubbles:{setter:function(t){this.addTarget(t);return t}},useShim:{value:true,setter:function(v){Y.DD.DDM._noShim=!v;return v}}};Y.extend(Drop,Y.Base,{_bubbleTargets:Y.DD.DDM,addToGroup:function(g){this._groups[g]=true;return this},removeFromGroup:function(g){delete this._groups[g];return this},_createEvents:function(){var ev=[EV_DROP_OVER,EV_DROP_ENTER,EV_DROP_EXIT,"drop:hit"];Y.Array.each(ev,function(v){this.publish(v,{type:v,emitFacade:true,preventable:false,bubbles:true,queuable:false,prefix:"drop"})},this)},_valid:null,_groups:null,shim:null,region:null,overTarget:null,inGroup:function(groups){this._valid=false;var ret=false;Y.Array.each(groups,function(v){if(this._groups[v]){ret=true;this._valid=true}},this);return ret},initializer:function(){Y.later(100,this,this._createEvents);var node=this.get(NODE),id;if(!node.get("id")){id=Y.stamp(node);node.set("id",id)}node.addClass(DDM.CSS_PREFIX+"-drop");this.set("groups",this.get("groups"))},destructor:function(){DDM._unregTarget(this);if(this.shim&&this.shim!==this.get(NODE)){this.shim.detachAll();this.shim.remove();this.shim=null}this.get(NODE).removeClass(DDM.CSS_PREFIX+"-drop");this.detachAll()},_deactivateShim:function(){if(!this.shim){return false}this.get(NODE).removeClass(DDM.CSS_PREFIX+"-drop-active-valid");this.get(NODE).removeClass(DDM.CSS_PREFIX+"-drop-active-invalid");this.get(NODE).removeClass(DDM.CSS_PREFIX+"-drop-over");if(this.get("useShim")){this.shim.setStyles({top:"-999px",left:"-999px",zIndex:"1"})}this.overTarget=false},_activateShim:function(){if(!DDM.activeDrag){return false}if(this.get(NODE)===DDM.activeDrag.get(NODE)){return false}if(this.get("lock")){return false}var node=this.get(NODE);if(this.inGroup(DDM.activeDrag.get("groups"))){node.removeClass(DDM.CSS_PREFIX+"-drop-active-invalid");node.addClass(DDM.CSS_PREFIX+"-drop-active-valid");DDM._addValid(this);this.overTarget=false;if(!this.get("useShim")){this.shim=this.get(NODE)}this.sizeShim()}else{DDM._removeValid(this);node.removeClass(DDM.CSS_PREFIX+"-drop-active-valid");node.addClass(DDM.CSS_PREFIX+"-drop-active-invalid")}},sizeShim:function(){if(!DDM.activeDrag){return false}if(this.get(NODE)===DDM.activeDrag.get(NODE)){return false}if(this.get("lock")){return false}if(!this.shim){Y.later(100,this,this.sizeShim);return false}var node=this.get(NODE),nh=node.get(OFFSET_HEIGHT),nw=node.get(OFFSET_WIDTH),xy=node.getXY(),p=this.get("padding"),dd,dH,dW;nw=nw+p.left+p.right;nh=nh+p.top+p.bottom;xy[0]=xy[0]-p.left;xy[1]=xy[1]-p.top;if(DDM.activeDrag.get("dragMode")===DDM.INTERSECT){dd=DDM.activeDrag;dH=dd.get(NODE).get(OFFSET_HEIGHT);dW=dd.get(NODE).get(OFFSET_WIDTH);nh=nh+dH;nw=nw+dW;xy[0]=xy[0]-(dW-dd.deltaXY[0]);xy[1]=xy[1]-(dH-dd.deltaXY[1])}if(this.get("useShim")){this.shim.setStyles({height:nh+"px",width:nw+"px",top:xy[1]+"px",left:xy[0]+"px"})}this.region={0:xy[0],1:xy[1],area:0,top:xy[1],right:xy[0]+nw,bottom:xy[1]+nh,left:xy[0]}},_createShim:function(){if(!DDM._pg){Y.later(10,this,this._createShim);return}if(this.shim){return}var s=this.get("node");if(this.get("useShim")){s=Y.Node.create('<div id="'+this.get(NODE).get("id")+'_shim"></div>');s.setStyles({height:this.get(NODE).get(OFFSET_HEIGHT)+"px",width:this.get(NODE).get(OFFSET_WIDTH)+"px",backgroundColor:"yellow",opacity:".5",zIndex:"1",overflow:"hidden",top:"-900px",left:"-900px",position:"absolute"});DDM._pg.appendChild(s);s.on("mouseover",Y.bind(this._handleOverEvent,this));s.on("mouseout",Y.bind(this._handleOutEvent,this))}this.shim=s},_handleTargetOver:function(){if(DDM.isOverTarget(this)){this.get(NODE).addClass(DDM.CSS_PREFIX+"-drop-over");DDM.activeDrop=this;DDM.otherDrops[this]=this;if(this.overTarget){DDM.activeDrag.fire("drag:over",{drop:this,drag:DDM.activeDrag});this.fire(EV_DROP_OVER,{drop:this,drag:DDM.activeDrag})}else{if(DDM.activeDrag.get("dragging")){this.overTarget=true;this.fire(EV_DROP_ENTER,{drop:this,drag:DDM.activeDrag});DDM.activeDrag.fire("drag:enter",{drop:this,drag:DDM.activeDrag});DDM.activeDrag.get(NODE).addClass(DDM.CSS_PREFIX+"-drag-over")}}}else{this._handleOut()}},_handleOverEvent:function(){this.shim.setStyle("zIndex","999");DDM._addActiveShim(this)},_handleOutEvent:function(){this.shim.setStyle("zIndex","1");DDM._removeActiveShim(this)},_handleOut:function(force){if(!DDM.isOverTarget(this)||force){if(this.overTarget){this.overTarget=false;if(!force){DDM._removeActiveShim(this)}if(DDM.activeDrag){this.get(NODE).removeClass(DDM.CSS_PREFIX+"-drop-over");DDM.activeDrag.get(NODE).removeClass(DDM.CSS_PREFIX+"-drag-over");this.fire(EV_DROP_EXIT,{drop:this,drag:DDM.activeDrag});DDM.activeDrag.fire("drag:exit",{drop:this,drag:DDM.activeDrag});delete DDM.otherDrops[this]}}}}});Y.DD.Drop=Drop},"3.9.1",{requires:["dd-drag","dd-ddm-drop"]});YUI.add("dd-scroll",function(Y,NAME){var S=function(){S.superclass.constructor.apply(this,arguments)},WS,NS,HOST="host",BUFFER="buffer",PARENT_SCROLL="parentScroll",WINDOW_SCROLL="windowScroll",SCROLL_TOP="scrollTop",SCROLL_LEFT="scrollLeft",OFFSET_WIDTH="offsetWidth",OFFSET_HEIGHT="offsetHeight";S.ATTRS={parentScroll:{value:false,setter:function(node){if(node){return node}return false}},buffer:{value:30,validator:Y.Lang.isNumber},scrollDelay:{value:235,validator:Y.Lang.isNumber},host:{value:null},windowScroll:{value:false,validator:Y.Lang.isBoolean},vertical:{value:true,validator:Y.Lang.isBoolean},horizontal:{value:true,validator:Y.Lang.isBoolean}};Y.extend(S,Y.Base,{_scrolling:null,_vpRegionCache:null,_dimCache:null,_scrollTimer:null,_getVPRegion:function(){var r={},n=this.get(PARENT_SCROLL),b=this.get(BUFFER),ws=this.get(WINDOW_SCROLL),xy=ws?[]:n.getXY(),w=ws?"winWidth":OFFSET_WIDTH,h=ws?"winHeight":OFFSET_HEIGHT,t=ws?n.get(SCROLL_TOP):xy[1],l=ws?n.get(SCROLL_LEFT):xy[0];r={top:t+b,right:n.get(w)+l-b,bottom:n.get(h)+t-b,left:l+b};this._vpRegionCache=r;return r},initializer:function(){var h=this.get(HOST);h.after("drag:start",Y.bind(this.start,this));h.after("drag:end",Y.bind(this.end,this));h.on("drag:align",Y.bind(this.align,this));Y.one("win").on("scroll",Y.bind(function(){this._vpRegionCache=null},this))},_checkWinScroll:function(move){var r=this._getVPRegion(),ho=this.get(HOST),ws=this.get(WINDOW_SCROLL),xy=ho.lastXY,scroll=false,b=this.get(BUFFER),win=this.get(PARENT_SCROLL),sTop=win.get(SCROLL_TOP),sLeft=win.get(SCROLL_LEFT),w=this._dimCache.w,h=this._dimCache.h,bottom=xy[1]+h,top=xy[1],right=xy[0]+w,left=xy[0],nt=top,nl=left,st=sTop,sl=sLeft;if(this.get("horizontal")){if(left<=r.left){scroll=true;nl=xy[0]-(ws?b:0);sl=sLeft-b}if(right>=r.right){scroll=true;nl=xy[0]+(ws?b:0);sl=sLeft+b}}if(this.get("vertical")){if(bottom>=r.bottom){scroll=true;nt=xy[1]+(ws?b:0);st=sTop+b}if(top<=r.top){scroll=true;nt=xy[1]-(ws?b:0);st=sTop-b}}if(st<0){st=0;nt=xy[1]}if(sl<0){sl=0;nl=xy[0]}if(nt<0){nt=xy[1]}if(nl<0){nl=xy[0]}if(move){ho.actXY=[nl,nt];ho._alignNode([nl,nt],true);xy=ho.actXY;ho.actXY=[nl,nt];ho._moveNode({node:win,top:st,left:sl});if(!st&&!sl){this._cancelScroll()}}else{if(scroll){this._initScroll()}else{this._cancelScroll()}}},_initScroll:function(){this._cancelScroll();this._scrollTimer=Y.Lang.later(this.get("scrollDelay"),this,this._checkWinScroll,[true],true)},_cancelScroll:function(){this._scrolling=false;if(this._scrollTimer){this._scrollTimer.cancel();delete this._scrollTimer}},align:function(e){if(this._scrolling){this._cancelScroll();e.preventDefault()}if(!this._scrolling){this._checkWinScroll()}},_setDimCache:function(){var node=this.get(HOST).get("dragNode");this._dimCache={h:node.get(OFFSET_HEIGHT),w:node.get(OFFSET_WIDTH)}},start:function(){this._setDimCache()},end:function(){this._dimCache=null;this._cancelScroll()}});Y.namespace("Plugin");WS=function(){WS.superclass.constructor.apply(this,arguments)};WS.ATTRS=Y.merge(S.ATTRS,{windowScroll:{value:true,setter:function(scroll){if(scroll){this.set(PARENT_SCROLL,Y.one("win"))}return scroll}}});Y.extend(WS,S,{initializer:function(){this.set("windowScroll",this.get("windowScroll"))}});WS.NAME=WS.NS="winscroll";Y.Plugin.DDWinScroll=WS;NS=function(){NS.superclass.constructor.apply(this,arguments)};NS.ATTRS=Y.merge(S.ATTRS,{node:{value:false,setter:function(node){var n=Y.one(node);if(!n){if(node!==false){Y.error("DDNodeScroll: Invalid Node Given: "+node)}}else{this.set(PARENT_SCROLL,n)}return n}}});Y.extend(NS,S,{initializer:function(){this.set("node",this.get("node"))}});NS.NAME=NS.NS="nodescroll";Y.Plugin.DDNodeScroll=NS;Y.DD.Scroll=S},"3.9.1",{requires:["dd-drag"]});YUI.add("dd-drop-plugin",function(Y,NAME){var Drop=function(config){config.node=config.host;Drop.superclass.constructor.apply(this,arguments)};Drop.NAME="dd-drop-plugin";Drop.NS="drop";Y.extend(Drop,Y.DD.Drop);Y.namespace("Plugin");Y.Plugin.Drop=Drop},"3.9.1",{requires:["dd-drop"]});YUI.add("dd-delegate",function(Y,NAME){var Delegate=function(){Delegate.superclass.constructor.apply(this,arguments)},CONT="container",NODES="nodes",_tmpNode=Y.Node.create("<div>Temp Node</div>");Y.extend(Delegate,Y.Base,{_bubbleTargets:Y.DD.DDM,dd:null,_shimState:null,_handles:null,_onNodeChange:function(e){this.set("dragNode",e.newVal)},_afterDragEnd:function(){Y.DD.DDM._noShim=this._shimState;this.set("lastNode",this.dd.get("node"));this.get("lastNode").removeClass(Y.DD.DDM.CSS_PREFIX+"-dragging");this.dd._unprep();this.dd.set("node",_tmpNode)},_delMouseDown:function(e){var tar=e.currentTarget,dd=this.dd,dNode=tar,config=this.get("dragConfig");if(tar.test(this.get(NODES))&&!tar.test(this.get("invalid"))){this._shimState=Y.DD.DDM._noShim;Y.DD.DDM._noShim=true;this.set("currentNode",tar);dd.set("node",tar);if(config&&config.dragNode){dNode=config.dragNode}else if(dd.proxy){dNode=Y.DD.DDM._proxy}dd.set("dragNode",dNode);dd._prep();dd.fire("drag:mouseDown",{ev:e})}},_onMouseEnter:function(){this._shimState=Y.DD.DDM._noShim;Y.DD.DDM._noShim=true},_onMouseLeave:function(){Y.DD.DDM._noShim=this._shimState},initializer:function(){this._handles=[];var conf=this.get("dragConfig")||{},cont=this.get(CONT);conf.node=_tmpNode.cloneNode(true);conf.bubbleTargets=this;if(this.get("handles")){conf.handles=this.get("handles")}this.dd=new Y.DD.Drag(conf);this.dd.after("drag:end",Y.bind(this._afterDragEnd,this));this.dd.on("dragNodeChange",Y.bind(this._onNodeChange,this));this.dd.after("drag:mouseup",function(){this._unprep()});this._handles.push(Y.delegate(Y.DD.Drag.START_EVENT,Y.bind(this._delMouseDown,this),cont,this.get(NODES)));this._handles.push(Y.on("mouseenter",Y.bind(this._onMouseEnter,this),cont));this._handles.push(Y.on("mouseleave",Y.bind(this._onMouseLeave,this),cont));Y.later(50,this,this.syncTargets);Y.DD.DDM.regDelegate(this)},syncTargets:function(){if(!Y.Plugin.Drop||this.get("destroyed")){return}var items,groups,config;if(this.get("target")){items=Y.one(this.get(CONT)).all(this.get(NODES));groups=this.dd.get("groups");config=this.get("dragConfig");if(config&&config.groups){groups=config.groups}items.each(function(i){this.createDrop(i,groups)},this)}return this},createDrop:function(node,groups){var config={useShim:false,bubbleTargets:this};if(!node.drop){node.plug(Y.Plugin.Drop,config)}node.drop.set("groups",groups);return node},destructor:function(){if(this.dd){this.dd.destroy()}if(Y.Plugin.Drop){var targets=Y.one(this.get(CONT)).all(this.get(NODES));targets.unplug(Y.Plugin.Drop)}Y.Array.each(this._handles,function(v){v.detach()})}},{NAME:"delegate",ATTRS:{container:{value:"body"},nodes:{value:".dd-draggable"},invalid:{value:"input, select, button, a, textarea"},lastNode:{value:_tmpNode},currentNode:{value:_tmpNode},dragNode:{value:_tmpNode},over:{value:false},target:{value:false},dragConfig:{value:null},handles:{value:null}}});Y.mix(Y.DD.DDM,{_delegates:[],regDelegate:function(del){this._delegates.push(del)},getDelegate:function(node){var del=null;node=Y.one(node);Y.Array.each(this._delegates,function(v){if(node.test(v.get(CONT))){del=v}},this);return del}});Y.namespace("DD");Y.DD.Delegate=Delegate},"3.9.1",{requires:["dd-drag","dd-drop-plugin","event-mouseenter"]});YUI.add("widget-autohide",function(Y,NAME){var WIDGET_AUTOHIDE="widgetAutohide",AUTOHIDE="autohide",CLICK_OUTSIDE="clickoutside",FOCUS_OUTSIDE="focusoutside",DOCUMENT="document",KEY="key",PRESS_ESCAPE="esc",BIND_UI="bindUI",SYNC_UI="syncUI",RENDERED="rendered",BOUNDING_BOX="boundingBox",VISIBLE="visible",CHANGE="Change",getCN=Y.ClassNameManager.getClassName;function WidgetAutohide(config){Y.after(this._bindUIAutohide,this,BIND_UI);Y.after(this._syncUIAutohide,this,SYNC_UI);if(this.get(RENDERED)){this._bindUIAutohide();this._syncUIAutohide()}}WidgetAutohide.ATTRS={hideOn:{validator:Y.Lang.isArray,valueFn:function(){return[{node:Y.one(DOCUMENT),eventName:KEY,keyCode:PRESS_ESCAPE}]}}};WidgetAutohide.prototype={_uiHandlesAutohide:null,destructor:function(){this._detachUIHandlesAutohide()},_bindUIAutohide:function(){this.after(VISIBLE+CHANGE,this._afterHostVisibleChangeAutohide);this.after("hideOnChange",this._afterHideOnChange)},_syncUIAutohide:function(){this._uiSetHostVisibleAutohide(this.get(VISIBLE))},_uiSetHostVisibleAutohide:function(visible){if(visible){Y.later(1,this,"_attachUIHandlesAutohide")}else{this._detachUIHandlesAutohide()}},_attachUIHandlesAutohide:function(){if(this._uiHandlesAutohide){return}var bb=this.get(BOUNDING_BOX),hide=Y.bind(this.hide,this),uiHandles=[],self=this,hideOn=this.get("hideOn"),i=0,o={node:undefined,ev:undefined,keyCode:undefined};for(;i<hideOn.length;i++){o.node=hideOn[i].node;o.ev=hideOn[i].eventName;o.keyCode=hideOn[i].keyCode;if(!o.node&&!o.keyCode&&o.ev){uiHandles.push(bb.on(o.ev,hide))}else if(o.node&&!o.keyCode&&o.ev){uiHandles.push(o.node.on(o.ev,hide))}else if(o.node&&o.keyCode&&o.ev){uiHandles.push(o.node.on(o.ev,hide,o.keyCode))}else{}}this._uiHandlesAutohide=uiHandles},_detachUIHandlesAutohide:function(){Y.each(this._uiHandlesAutohide,function(h){h.detach()});this._uiHandlesAutohide=null},_afterHostVisibleChangeAutohide:function(e){this._uiSetHostVisibleAutohide(e.newVal)},_afterHideOnChange:function(e){this._detachUIHandlesAutohide();if(this.get(VISIBLE)){this._attachUIHandlesAutohide()}}};Y.WidgetAutohide=WidgetAutohide},"3.9.1",{requires:["base-build","event-key","event-outside","widget"]});YUI.add("button-core",function(Y,NAME){var getClassName=Y.ClassNameManager.getClassName;function ButtonCore(config){this.initializer(config)}ButtonCore.prototype={TEMPLATE:"<button/>",constructor:ButtonCore,initializer:function(config){this._initNode(config);this._initAttributes(config);this._renderUI(config)},_initNode:function(config){if(config.host){this._host=Y.one(config.host)}else{this._host=Y.Node.create(this.TEMPLATE)}},_initAttributes:function(config){var host=this._host,node=host.one("."+ButtonCore.CLASS_NAMES.LABEL)||host;config.label=config.label||this._getLabel(node);Y.AttributeCore.call(this,ButtonCore.ATTRS,config)},_renderUI:function(){var node=this.getNode(),tagName=node.get("tagName").toLowerCase();node.addClass(ButtonCore.CLASS_NAMES.BUTTON);if(tagName!=="button"&&tagName!=="input"){node.set("role","button")}},enable:function(){this.set("disabled",false)},disable:function(){this.set("disabled",true)},getNode:function(){return this._host},_getLabel:function(){var node=this.getNode(),tagName=node.get("tagName").toLowerCase(),label;if(tagName==="input"){label=node.get("value")}else{label=(node.one("."+ButtonCore.CLASS_NAMES.LABEL)||node).get("text")}return label},_uiSetLabel:function(label){var node=this.getNode(),tagName=node.get("tagName").toLowerCase();if(tagName==="input"){node.set("value",label)}else{(node.one("."+ButtonCore.CLASS_NAMES.LABEL)||node).set("text",label)}return label},_uiSetDisabled:function(value){var node=this.getNode();node.getDOMNode().disabled=value;node.toggleClass(ButtonCore.CLASS_NAMES.DISABLED,value);return value}};Y.mix(ButtonCore.prototype,Y.AttributeCore.prototype);ButtonCore.ATTRS={label:{setter:"_uiSetLabel",getter:"_getLabel",lazyAdd:false},disabled:{value:false,setter:"_uiSetDisabled",lazyAdd:false}};ButtonCore.NAME="button";ButtonCore.CLASS_NAMES={BUTTON:getClassName("button"),DISABLED:getClassName("button","disabled"),SELECTED:getClassName("button","selected"),LABEL:getClassName("button","label")};ButtonCore.ARIA_STATES={PRESSED:"aria-pressed",CHECKED:"aria-checked"};ButtonCore.ARIA_ROLES={BUTTON:"button",CHECKBOX:"checkbox",TOGGLE:"toggle"};Y.ButtonCore=ButtonCore},"3.9.1",{requires:["attribute-core","classnamemanager","node-base"]});YUI.add("button-plugin",function(Y,NAME){function ButtonPlugin(){ButtonPlugin.superclass.constructor.apply(this,arguments)}Y.extend(ButtonPlugin,Y.ButtonCore,{_afterNodeGet:function(name){var ATTRS=this.constructor.ATTRS,fn=ATTRS[name]&&ATTRS[name].getter&&this[ATTRS[name].getter];if(fn){return new Y.Do.AlterReturn("get "+name,fn.call(this))}},_afterNodeSet:function(name,val){var ATTRS=this.constructor.ATTRS,fn=ATTRS[name]&&ATTRS[name].setter&&this[ATTRS[name].setter];if(fn){fn.call(this,val)}},_initNode:function(config){var node=config.host;this._host=node;Y.Do.after(this._afterNodeGet,node,"get",this);Y.Do.after(this._afterNodeSet,node,"set",this)},destroy:function(){}},{ATTRS:Y.merge(Y.ButtonCore.ATTRS),NAME:"buttonPlugin",NS:"button"});ButtonPlugin.createNode=function(node,config){var template;if(node&&!config){if(!(node.nodeType||node.getDOMNode||typeof node==="string")){config=node;node=config.srcNode}}config=config||{};template=config.template||Y.Plugin.Button.prototype.TEMPLATE;node=node||config.srcNode||Y.DOM.create(template);return Y.one(node).plug(Y.Plugin.Button,config)};Y.namespace("Plugin").Button=ButtonPlugin},"3.9.1",{requires:["button-core","cssbutton","node-pluginhost"]});YUI.add("widget-buttons",function(Y,NAME){var YArray=Y.Array,YLang=Y.Lang,YObject=Y.Object,ButtonPlugin=Y.Plugin.Button,Widget=Y.Widget,WidgetStdMod=Y.WidgetStdMod,getClassName=Y.ClassNameManager.getClassName,isArray=YLang.isArray,isNumber=YLang.isNumber,isString=YLang.isString,isValue=YLang.isValue;function isNode(node){return!!node.getDOMNode}function WidgetButtons(){if(!this._stdModNode){Y.error("WidgetStdMod must be added to a Widget before WidgetButtons.")}this._buttonsHandles={}}WidgetButtons.ATTRS={buttons:{getter:"_getButtons",setter:"_setButtons",value:{}},defaultButton:{readOnly:true,value:null}};WidgetButtons.CLASS_NAMES={button:getClassName("button"),buttons:Widget.getClassName("buttons"),primary:getClassName("button","primary")};WidgetButtons.HTML_PARSER={buttons:function(srcNode){return this._parseButtons(srcNode)}};WidgetButtons.NON_BUTTON_NODE_CFG=["action","classNames","context","events","isDefault","section"];WidgetButtons.prototype={BUTTONS:{},BUTTONS_TEMPLATE:"<span />",DEFAULT_BUTTONS_SECTION:WidgetStdMod.FOOTER,initializer:function(){this._mapButtons(this.get("buttons"));this._updateDefaultButton();this.after({buttonsChange:Y.bind("_afterButtonsChange",this),defaultButtonChange:Y.bind("_afterDefaultButtonChange",this)});Y.after(this._bindUIButtons,this,"bindUI");Y.after(this._syncUIButtons,this,"syncUI")},destructor:function(){YObject.each(this._buttonsHandles,function(handle){handle.detach()});delete this._buttonsHandles;delete this._buttonsMap;delete this._defaultButton},addButton:function(button,section,index){var buttons=this.get("buttons"),sectionButtons,atIndex;if(!isNode(button)){button=this._mergeButtonConfig(button);section||(section=button.section)}section||(section=this.DEFAULT_BUTTONS_SECTION);sectionButtons=buttons[section]||(buttons[section]=[]);isNumber(index)||(index=sectionButtons.length);sectionButtons.splice(index,0,button);atIndex=YArray.indexOf(sectionButtons,button);this.set("buttons",buttons,{button:button,section:section,index:atIndex,src:"add"});return this},getButton:function(name,section){if(!isValue(name)){return}var map=this._buttonsMap,buttons;section||(section=this.DEFAULT_BUTTONS_SECTION);if(isNumber(name)){buttons=this.get("buttons");return buttons[section]&&buttons[section][name]}return arguments.length>1?map[section+":"+name]:map[name]},removeButton:function(button,section){if(!isValue(button)){return this}var buttons=this.get("buttons"),index;if(isNumber(button)){section||(section=this.DEFAULT_BUTTONS_SECTION);index=button;button=buttons[section][index]}else{if(isString(button)){button=this.getButton.apply(this,arguments)}YObject.some(buttons,function(sectionButtons,currentSection){index=YArray.indexOf(sectionButtons,button);if(index>-1){section=currentSection;return true}})}if(button&&index>-1){buttons[section].splice(index,1);this.set("buttons",buttons,{button:button,section:section,index:index,src:"remove"})}return this},_bindUIButtons:function(){var afterContentChange=Y.bind("_afterContentChangeButtons",this);this.after({visibleChange:Y.bind("_afterVisibleChangeButtons",this),headerContentChange:afterContentChange,bodyContentChange:afterContentChange,footerContentChange:afterContentChange})},_createButton:function(button){var config,buttonConfig,nonButtonNodeCfg,i,len,action,context,handle;if(isNode(button)){return Y.one(button.getDOMNode()).plug(ButtonPlugin)}config=Y.merge({context:this,events:"click",label:button.value},button);buttonConfig=Y.merge(config);nonButtonNodeCfg=WidgetButtons.NON_BUTTON_NODE_CFG;for(i=0,len=nonButtonNodeCfg.length;i<len;i+=1){delete buttonConfig[nonButtonNodeCfg[i]]}button=ButtonPlugin.createNode(buttonConfig);context=config.context;action=config.action;if(isString(action)){action=Y.bind(action,context)}handle=button.on(config.events,action,context);this._buttonsHandles[Y.stamp(button,true)]=handle;button.setData("name",this._getButtonName(config));button.setData("default",this._getButtonDefault(config));YArray.each(YArray(config.classNames),button.addClass,button);return button},_getButtonContainer:function(section,create){var sectionClassName=WidgetStdMod.SECTION_CLASS_NAMES[section],buttonsClassName=WidgetButtons.CLASS_NAMES.buttons,contentBox=this.get("contentBox"),containerSelector,container;containerSelector="."+sectionClassName+" ."+buttonsClassName;container=contentBox.one(containerSelector);if(!container&&create){container=Y.Node.create(this.BUTTONS_TEMPLATE);container.addClass(buttonsClassName)}return container},_getButtonDefault:function(button){var isDefault=isNode(button)?button.getData("default"):button.isDefault;if(isString(isDefault)){return isDefault.toLowerCase()==="true"}return!!isDefault},_getButtonName:function(button){var name;if(isNode(button)){name=button.getData("name")||button.get("name")}else{name=button&&(button.name||button.type)}return name},_getButtons:function(buttons){var buttonsCopy={};YObject.each(buttons,function(sectionButtons,section){buttonsCopy[section]=sectionButtons.concat()});return buttonsCopy},_mapButton:function(button,section){var map=this._buttonsMap,name=this._getButtonName(button),isDefault=this._getButtonDefault(button);if(name){map[name]=button;map[section+":"+name]=button}isDefault&&(this._defaultButton=button)},_mapButtons:function(buttons){this._buttonsMap={};this._defaultButton=null;YObject.each(buttons,function(sectionButtons,section){var i,len;for(i=0,len=sectionButtons.length;i<len;i+=1){this._mapButton(sectionButtons[i],section)}},this)},_mergeButtonConfig:function(config){var buttonConfig,defConfig,name,button,tagName,label;config=isString(config)?{name:config}:Y.merge(config);if(config.srcNode){button=config.srcNode;tagName=button.get("tagName").toLowerCase();label=button.get(tagName==="input"?"value":"text");buttonConfig={disabled:!!button.get("disabled"),isDefault:this._getButtonDefault(button),name:this._getButtonName(button)};label&&(buttonConfig.label=label);Y.mix(config,buttonConfig,false,null,0,true)}name=this._getButtonName(config);defConfig=this.BUTTONS&&this.BUTTONS[name];if(defConfig){Y.mix(config,defConfig,false,null,0,true)}return config},_parseButtons:function(srcNode){var buttonSelector="."+WidgetButtons.CLASS_NAMES.button,sections=["header","body","footer"],buttonsConfig=null;YArray.each(sections,function(section){var container=this._getButtonContainer(section),buttons=container&&container.all(buttonSelector),sectionButtons;if(!buttons||buttons.isEmpty()){return}sectionButtons=[];buttons.each(function(button){sectionButtons.push({srcNode:button})});buttonsConfig||(buttonsConfig={});buttonsConfig[section]=sectionButtons},this);return buttonsConfig},_setButtons:function(config){var defSection=this.DEFAULT_BUTTONS_SECTION,buttons={};function processButtons(buttonConfigs,currentSection){if(!isArray(buttonConfigs)){return}var i,len,button,section;for(i=0,len=buttonConfigs.length;i<len;i+=1){button=buttonConfigs[i];section=currentSection;if(!isNode(button)){button=this._mergeButtonConfig(button);section||(section=button.section)}button=this._createButton(button);section||(section=defSection);(buttons[section]||(buttons[section]=[])).push(button)}}if(isArray(config)){processButtons.call(this,config)}else{YObject.each(config,processButtons,this)}return buttons},_syncUIButtons:function(){this._uiSetButtons(this.get("buttons"));this._uiSetDefaultButton(this.get("defaultButton"));this._uiSetVisibleButtons(this.get("visible"))},_uiInsertButton:function(button,section,index){var buttonsClassName=WidgetButtons.CLASS_NAMES.button,buttonContainer=this._getButtonContainer(section,true),sectionButtons=buttonContainer.all("."+buttonsClassName);buttonContainer.insertBefore(button,sectionButtons.item(index));this.setStdModContent(section,buttonContainer,"after")},_uiRemoveButton:function(button,section,options){var yuid=Y.stamp(button,this),handles=this._buttonsHandles,handle=handles[yuid],buttonContainer,buttonClassName;if(handle){handle.detach()}delete handles[yuid];button.remove();options||(options={});if(!options.preserveContent){buttonContainer=this._getButtonContainer(section);buttonClassName=WidgetButtons.CLASS_NAMES.button;if(buttonContainer&&buttonContainer.all("."+buttonClassName).isEmpty()){buttonContainer.remove();this._updateContentButtons(section)}}},_uiSetButtons:function(buttons){var buttonClassName=WidgetButtons.CLASS_NAMES.button,sections=["header","body","footer"];YArray.each(sections,function(section){var sectionButtons=buttons[section]||[],numButtons=sectionButtons.length,buttonContainer=this._getButtonContainer(section,numButtons),buttonsUpdated=false,oldNodes,i,button,buttonIndex;
if(!buttonContainer){return}oldNodes=buttonContainer.all("."+buttonClassName);for(i=0;i<numButtons;i+=1){button=sectionButtons[i];buttonIndex=oldNodes.indexOf(button);if(buttonIndex>-1){oldNodes.splice(buttonIndex,1);if(buttonIndex!==i){buttonContainer.insertBefore(button,i+1);buttonsUpdated=true}}else{buttonContainer.appendChild(button);buttonsUpdated=true}}oldNodes.each(function(button){this._uiRemoveButton(button,section,{preserveContent:true});buttonsUpdated=true},this);if(numButtons===0){buttonContainer.remove();this._updateContentButtons(section);return}if(buttonsUpdated){this.setStdModContent(section,buttonContainer,"after")}},this)},_uiSetDefaultButton:function(newButton,oldButton){var primaryClassName=WidgetButtons.CLASS_NAMES.primary;if(newButton){newButton.addClass(primaryClassName)}if(oldButton){oldButton.removeClass(primaryClassName)}},_uiSetVisibleButtons:function(visible){if(!visible){return}var defaultButton=this.get("defaultButton");if(defaultButton){defaultButton.focus()}},_unMapButton:function(button,section){var map=this._buttonsMap,name=this._getButtonName(button),sectionName;if(name){if(map[name]===button){delete map[name]}sectionName=section+":"+name;if(map[sectionName]===button){delete map[sectionName]}}if(this._defaultButton===button){this._defaultButton=null}},_updateDefaultButton:function(){var defaultButton=this._defaultButton;if(this.get("defaultButton")!==defaultButton){this._set("defaultButton",defaultButton)}},_updateContentButtons:function(section){var sectionContent=this.getStdModNode(section).get("childNodes");this.set(section+"Content",sectionContent.isEmpty()?null:sectionContent,{src:"buttons"})},_afterButtonsChange:function(e){var buttons=e.newVal,section=e.section,index=e.index,src=e.src,button;if(src==="add"){button=buttons[section][index];this._mapButton(button,section);this._updateDefaultButton();this._uiInsertButton(button,section,index);return}if(src==="remove"){button=e.button;this._unMapButton(button,section);this._updateDefaultButton();this._uiRemoveButton(button,section);return}this._mapButtons(buttons);this._updateDefaultButton();this._uiSetButtons(buttons)},_afterContentChangeButtons:function(e){var src=e.src,pos=e.stdModPosition,replace=!pos||pos===WidgetStdMod.REPLACE;if(replace&&src!=="buttons"&&src!==Widget.UI_SRC){this._uiSetButtons(this.get("buttons"))}},_afterDefaultButtonChange:function(e){this._uiSetDefaultButton(e.newVal,e.prevVal)},_afterVisibleChangeButtons:function(e){this._uiSetVisibleButtons(e.newVal)}};Y.WidgetButtons=WidgetButtons},"3.9.1",{requires:["button-plugin","cssbutton","widget-stdmod"]});YUI.add("widget-modality",function(Y,NAME){var WIDGET="widget",RENDER_UI="renderUI",BIND_UI="bindUI",SYNC_UI="syncUI",BOUNDING_BOX="boundingBox",CONTENT_BOX="contentBox",VISIBLE="visible",Z_INDEX="zIndex",CHANGE="Change",isBoolean=Y.Lang.isBoolean,getCN=Y.ClassNameManager.getClassName,MaskShow="maskShow",MaskHide="maskHide",ClickOutside="clickoutside",FocusOutside="focusoutside",supportsPosFixed=function(){var doc=Y.config.doc,isSupported=null,el,root;if(doc.createElement){el=doc.createElement("div");if(el&&el.style){el.style.position="fixed";el.style.top="10px";root=doc.body;if(root&&root.appendChild&&root.removeChild){root.appendChild(el);isSupported=el.offsetTop===10;root.removeChild(el)}}}return isSupported}();function WidgetModal(config){}var MODAL="modal",MASK="mask",MODAL_CLASSES={modal:getCN(WIDGET,MODAL),mask:getCN(WIDGET,MASK)};WidgetModal.ATTRS={maskNode:{getter:"_getMaskNode",readOnly:true},modal:{value:false,validator:isBoolean},focusOn:{valueFn:function(){return[{eventName:ClickOutside},{eventName:FocusOutside}]},validator:Y.Lang.isArray}};WidgetModal.CLASSES=MODAL_CLASSES;WidgetModal._GET_MASK=function(){var mask=Y.one("."+MODAL_CLASSES.mask),win=Y.one("win");if(mask){return mask}mask=Y.Node.create("<div></div>").addClass(MODAL_CLASSES.mask);if(supportsPosFixed){mask.setStyles({position:"fixed",width:"100%",height:"100%",top:"0",left:"0",display:"block"})}else{mask.setStyles({position:"absolute",width:win.get("winWidth")+"px",height:win.get("winHeight")+"px",top:"0",left:"0",display:"block"})}return mask};WidgetModal.STACK=[];WidgetModal.prototype={initializer:function(){Y.after(this._renderUIModal,this,RENDER_UI);Y.after(this._syncUIModal,this,SYNC_UI);Y.after(this._bindUIModal,this,BIND_UI)},destructor:function(){this._uiSetHostVisibleModal(false)},_uiHandlesModal:null,_renderUIModal:function(){var bb=this.get(BOUNDING_BOX);this._repositionMask(this);bb.addClass(MODAL_CLASSES.modal)},_bindUIModal:function(){this.after(VISIBLE+CHANGE,this._afterHostVisibleChangeModal);this.after(Z_INDEX+CHANGE,this._afterHostZIndexChangeModal);this.after("focusOnChange",this._afterFocusOnChange);if(!supportsPosFixed||Y.UA.ios&&Y.UA.ios<5||Y.UA.android&&Y.UA.android<3){Y.one("win").on("scroll",this._resyncMask,this)}},_syncUIModal:function(){this._uiSetHostVisibleModal(this.get(VISIBLE));this._uiSetHostZIndexModal(this.get(Z_INDEX))},_focus:function(e){var bb=this.get(BOUNDING_BOX),oldTI=bb.get("tabIndex");bb.set("tabIndex",oldTI>=0?oldTI:0);this.focus()},_blur:function(){this.blur()},_getMaskNode:function(){return WidgetModal._GET_MASK()},_uiSetHostVisibleModal:function(visible){var stack=WidgetModal.STACK,maskNode=this.get("maskNode"),isModal=this.get("modal"),topModal,index;if(visible){Y.Array.each(stack,function(modal){modal._detachUIHandlesModal();modal._blur()});stack.unshift(this);this._repositionMask(this);this._uiSetHostZIndexModal(this.get(Z_INDEX));if(isModal){maskNode.show();Y.later(1,this,"_attachUIHandlesModal");this._focus()}}else{index=Y.Array.indexOf(stack,this);if(index>=0){stack.splice(index,1)}this._detachUIHandlesModal();this._blur();if(stack.length){topModal=stack[0];this._repositionMask(topModal);topModal._uiSetHostZIndexModal(topModal.get(Z_INDEX));if(topModal.get("modal")){Y.later(1,topModal,"_attachUIHandlesModal");topModal._focus()}}else{if(maskNode.getStyle("display")==="block"){maskNode.hide()}}}},_uiSetHostZIndexModal:function(zIndex){if(this.get("modal")){this.get("maskNode").setStyle(Z_INDEX,zIndex||0)}},_attachUIHandlesModal:function(){if(this._uiHandlesModal||WidgetModal.STACK[0]!==this){return}var bb=this.get(BOUNDING_BOX),maskNode=this.get("maskNode"),focusOn=this.get("focusOn"),focus=Y.bind(this._focus,this),uiHandles=[],i,len,o;for(i=0,len=focusOn.length;i<len;i++){o={};o.node=focusOn[i].node;o.ev=focusOn[i].eventName;o.keyCode=focusOn[i].keyCode;if(!o.node&&!o.keyCode&&o.ev){uiHandles.push(bb.on(o.ev,focus))}else if(o.node&&!o.keyCode&&o.ev){uiHandles.push(o.node.on(o.ev,focus))}else if(o.node&&o.keyCode&&o.ev){uiHandles.push(o.node.on(o.ev,focus,o.keyCode))}else{Y.Log('focusOn ATTR Error: The event with name "'+o.ev+'" could not be attached.')}}if(!supportsPosFixed){uiHandles.push(Y.one("win").on("scroll",Y.bind(function(e){maskNode.setStyle("top",maskNode.get("docScrollY"))},this)))}this._uiHandlesModal=uiHandles},_detachUIHandlesModal:function(){Y.each(this._uiHandlesModal,function(h){h.detach()});this._uiHandlesModal=null},_afterHostVisibleChangeModal:function(e){this._uiSetHostVisibleModal(e.newVal)},_afterHostZIndexChangeModal:function(e){this._uiSetHostZIndexModal(e.newVal)},isNested:function(){var length=WidgetModal.STACK.length,retval=length>1?true:false;return retval},_repositionMask:function(nextElem){var currentModal=this.get("modal"),nextModal=nextElem.get("modal"),maskNode=this.get("maskNode"),bb,bbParent;if(currentModal&&!nextModal){maskNode.remove();this.fire(MaskHide)}else if(!currentModal&&nextModal||currentModal&&nextModal){maskNode.remove();this.fire(MaskHide);bb=nextElem.get(BOUNDING_BOX);bbParent=bb.get("parentNode")||Y.one("body");bbParent.insert(maskNode,bbParent.get("firstChild"));this.fire(MaskShow)}},_resyncMask:function(e){var o=e.currentTarget,offsetX=o.get("docScrollX"),offsetY=o.get("docScrollY"),w=o.get("innerWidth")||o.get("winWidth"),h=o.get("innerHeight")||o.get("winHeight"),mask=this.get("maskNode");mask.setStyles({top:offsetY+"px",left:offsetX+"px",width:w+"px",height:h+"px"})},_afterFocusOnChange:function(e){this._detachUIHandlesModal();if(this.get(VISIBLE)){this._attachUIHandlesModal()}}};Y.WidgetModality=WidgetModal},"3.9.1",{requires:["base-build","event-outside","widget"],skinnable:true});YUI.add("panel",function(Y,NAME){var getClassName=Y.ClassNameManager.getClassName;Y.Panel=Y.Base.create("panel",Y.Widget,[Y.WidgetPosition,Y.WidgetStdMod,Y.WidgetAutohide,Y.WidgetButtons,Y.WidgetModality,Y.WidgetPositionAlign,Y.WidgetPositionConstrain,Y.WidgetStack],{BUTTONS:{close:{label:"Close",action:"hide",section:"header",template:'<button type="button" />',classNames:getClassName("button","close")}}},{ATTRS:{buttons:{value:["close"]}}})},"3.9.1",{requires:["widget","widget-autohide","widget-buttons","widget-modality","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod"],skinnable:true});YUI.add("slider-base",function(Y,NAME){var INVALID_VALUE=Y.Attribute.INVALID_VALUE;function SliderBase(){SliderBase.superclass.constructor.apply(this,arguments)}Y.SliderBase=Y.extend(SliderBase,Y.Widget,{initializer:function(){this.axis=this.get("axis");this._key={dim:this.axis==="y"?"height":"width",minEdge:this.axis==="y"?"top":"left",maxEdge:this.axis==="y"?"bottom":"right",xyIndex:this.axis==="y"?1:0};this.publish("thumbMove",{defaultFn:this._defThumbMoveFn,queuable:true})},renderUI:function(){var contentBox=this.get("contentBox");this.rail=this.renderRail();this._uiSetRailLength(this.get("length"));this.thumb=this.renderThumb();this.rail.appendChild(this.thumb);contentBox.appendChild(this.rail);contentBox.addClass(this.getClassName(this.axis))},renderRail:function(){var minCapClass=this.getClassName("rail","cap",this._key.minEdge),maxCapClass=this.getClassName("rail","cap",this._key.maxEdge);return Y.Node.create(Y.Lang.sub(this.RAIL_TEMPLATE,{railClass:this.getClassName("rail"),railMinCapClass:minCapClass,railMaxCapClass:maxCapClass}))},_uiSetRailLength:function(length){this.rail.setStyle(this._key.dim,length)},renderThumb:function(){this._initThumbUrl();var imageUrl=this.get("thumbUrl");return Y.Node.create(Y.Lang.sub(this.THUMB_TEMPLATE,{thumbClass:this.getClassName("thumb"),thumbShadowClass:this.getClassName("thumb","shadow"),thumbImageClass:this.getClassName("thumb","image"),thumbShadowUrl:imageUrl,thumbImageUrl:imageUrl,thumbAriaLabelId:this.getClassName("label",Y.guid())}))},_onThumbClick:function(e){this.thumb.focus()},bindUI:function(){var boundingBox=this.get("boundingBox"),keyEvent=!Y.UA.opera?"down:":"press:",keyEventSpec=keyEvent+"38,40,33,34,35,36",keyLeftRightSpec=keyEvent+"37,39",keyLeftRightSpecMeta=keyEvent+"37+meta,39+meta";boundingBox.on("key",this._onDirectionKey,keyEventSpec,this);boundingBox.on("key",this._onLeftRightKey,keyLeftRightSpec,this);boundingBox.on("key",this._onLeftRightKeyMeta,keyLeftRightSpecMeta,this);this.thumb.on("click",this._onThumbClick,this);this._bindThumbDD();this._bindValueLogic();this.after("disabledChange",this._afterDisabledChange);this.after("lengthChange",this._afterLengthChange)},_incrMinor:function(){this.set("value",this.get("value")+this.get("minorStep"))},_decrMinor:function(){this.set("value",this.get("value")-this.get("minorStep"))},_incrMajor:function(){this.set("value",this.get("value")+this.get("majorStep"))},_decrMajor:function(){this.set("value",this.get("value")-this.get("majorStep"))},_setToMin:function(e){this.set("value",this.get("min"))},_setToMax:function(e){this.set("value",this.get("max"))},_onDirectionKey:function(e){e.preventDefault();if(this.get("disabled")===false){switch(e.charCode){case 38:this._incrMinor();break;case 40:this._decrMinor();break;case 36:this._setToMin();break;case 35:this._setToMax();break;case 33:this._incrMajor();break;case 34:this._decrMajor();break}}},_onLeftRightKey:function(e){e.preventDefault();if(this.get("disabled")===false){switch(e.charCode){case 37:this._decrMinor();break;case 39:this._incrMinor();break}}},_onLeftRightKeyMeta:function(e){e.preventDefault();if(this.get("disabled")===false){switch(e.charCode){case 37:this._setToMin();break;case 39:this._setToMax();break}}},_bindThumbDD:function(){var config={constrain:this.rail};config["stick"+this.axis.toUpperCase()]=true;this._dd=new Y.DD.Drag({node:this.thumb,bubble:false,on:{"drag:start":Y.bind(this._onDragStart,this)},after:{"drag:drag":Y.bind(this._afterDrag,this),"drag:end":Y.bind(this._afterDragEnd,this)}});this._dd.plug(Y.Plugin.DDConstrained,config)},_bindValueLogic:function(){},_uiMoveThumb:function(offset,options){if(this.thumb){this.thumb.setStyle(this._key.minEdge,offset+"px");options||(options={});options.offset=offset;this.fire("thumbMove",options)}},_onDragStart:function(e){this.fire("slideStart",{ddEvent:e,originEvent:e})},_afterDrag:function(e){var thumbXY=e.info.xy[this._key.xyIndex],railXY=e.target.con._regionCache[this._key.minEdge];this.fire("thumbMove",{offset:thumbXY-railXY,ddEvent:e,originEvent:e})},_afterDragEnd:function(e){this.fire("slideEnd",{ddEvent:e,originEvent:e})},_afterDisabledChange:function(e){this._dd.set("lock",e.newVal)},_afterLengthChange:function(e){if(this.get("rendered")){this._uiSetRailLength(e.newVal);this.syncUI()}},syncUI:function(){this._dd.con.resetCache();this._syncThumbPosition();this.thumb.set("aria-valuemin",this.get("min"));this.thumb.set("aria-valuemax",this.get("max"));this._dd.set("lock",this.get("disabled"))},_syncThumbPosition:function(){},_setAxis:function(v){v=(v+"").toLowerCase();return v==="x"||v==="y"?v:INVALID_VALUE},_setLength:function(v){v=(v+"").toLowerCase();var length=parseFloat(v,10),units=v.replace(/[\d\.\-]/g,"")||this.DEF_UNIT;return length>0?length+units:INVALID_VALUE},_initThumbUrl:function(){if(!this.get("thumbUrl")){var skin=this.getSkinName()||"sam",base=Y.config.base;if(base.indexOf("http://yui.yahooapis.com/combo")===0){base="http://yui.yahooapis.com/"+Y.version+"/build/"}this.set("thumbUrl",base+"slider-base/assets/skins/"+skin+"/thumb-"+this.axis+".png")}},BOUNDING_TEMPLATE:"<span></span>",CONTENT_TEMPLATE:"<span></span>",RAIL_TEMPLATE:'<span class="{railClass}">'+'<span class="{railMinCapClass}"></span>'+'<span class="{railMaxCapClass}"></span>'+"</span>",THUMB_TEMPLATE:'<span class="{thumbClass}" aria-labelledby="{thumbAriaLabelId}" aria-valuetext="" aria-valuemax="" aria-valuemin="" aria-valuenow="" role="slider" tabindex="0">'+'<img src="{thumbShadowUrl}" '+'alt="Slider thumb shadow" '+'class="{thumbShadowClass}">'+'<img src="{thumbImageUrl}" '+'alt="Slider thumb" '+'class="{thumbImageClass}">'+"</span>"},{NAME:"sliderBase",ATTRS:{axis:{value:"x",writeOnce:true,setter:"_setAxis",lazyAdd:false},length:{value:"150px",setter:"_setLength"},thumbUrl:{value:null,validator:Y.Lang.isString}}})},"3.9.1",{requires:["widget","dd-constrain","event-key"],skinnable:true});YUI.add("slider-value-range",function(Y,NAME){var MIN="min",MAX="max",VALUE="value",round=Math.round;function SliderValueRange(){this._initSliderValueRange()}Y.SliderValueRange=Y.mix(SliderValueRange,{prototype:{_factor:1,_initSliderValueRange:function(){},_bindValueLogic:function(){this.after({minChange:this._afterMinChange,maxChange:this._afterMaxChange,valueChange:this._afterValueChange})},_syncThumbPosition:function(){this._calculateFactor();this._setPosition(this.get(VALUE))},_calculateFactor:function(){var length=this.get("length"),thumbSize=this.thumb.getStyle(this._key.dim),min=this.get(MIN),max=this.get(MAX);length=parseFloat(length)||150;thumbSize=parseFloat(thumbSize)||15;this._factor=(max-min)/(length-thumbSize)},_defThumbMoveFn:function(e){if(e.source!=="set"){this.set(VALUE,this._offsetToValue(e.offset))}},_offsetToValue:function(offset){var value=round(offset*this._factor)+this.get(MIN);return round(this._nearestValue(value))},_valueToOffset:function(value){var offset=round((value-this.get(MIN))/this._factor);return offset},getValue:function(){return this.get(VALUE)},setValue:function(val){return this.set(VALUE,val)},_afterMinChange:function(e){this._verifyValue();this._syncThumbPosition()},_afterMaxChange:function(e){this._verifyValue();this._syncThumbPosition()},_verifyValue:function(){var value=this.get(VALUE),nearest=this._nearestValue(value);if(value!==nearest){this.set(VALUE,nearest)}},_afterValueChange:function(e){var val=e.newVal;this._setPosition(val,{source:"set"})},_setPosition:function(value,options){this._uiMoveThumb(this._valueToOffset(value),options);this.thumb.set("aria-valuenow",value);this.thumb.set("aria-valuetext",value)},_validateNewMin:function(value){return Y.Lang.isNumber(value)},_validateNewMax:function(value){return Y.Lang.isNumber(value)},_setNewValue:function(value){return round(this._nearestValue(value))},_nearestValue:function(value){var min=this.get(MIN),max=this.get(MAX),tmp;tmp=max>min?max:min;min=max>min?min:max;max=tmp;return value<min?min:value>max?max:value}},ATTRS:{min:{value:0,validator:"_validateNewMin"},max:{value:100,validator:"_validateNewMax"},minorStep:{value:1},majorStep:{value:10},value:{value:0,setter:"_setNewValue"}}},true)},"3.9.1",{requires:["slider-base"]});YUI.add("clickable-rail",function(Y,NAME){function ClickableRail(){this._initClickableRail()}Y.ClickableRail=Y.mix(ClickableRail,{prototype:{_initClickableRail:function(){this._evtGuid=this._evtGuid||Y.guid()+"|";this.publish("railMouseDown",{defaultFn:this._defRailMouseDownFn});this.after("render",this._bindClickableRail);this.on("destroy",this._unbindClickableRail)},_bindClickableRail:function(){this._dd.addHandle(this.rail);this.rail.on(this._evtGuid+Y.DD.Drag.START_EVENT,Y.bind(this._onRailMouseDown,this))},_unbindClickableRail:function(){if(this.get("rendered")){var contentBox=this.get("contentBox"),rail=contentBox.one("."+this.getClassName("rail"));rail.detach(this.evtGuid+"*")}},_onRailMouseDown:function(e){if(this.get("clickableRail")&&!this.get("disabled")){this.fire("railMouseDown",{ev:e});this.thumb.focus()}},_defRailMouseDownFn:function(e){e=e.ev;var dd=this._resolveThumb(e),i=this._key.xyIndex,length=parseFloat(this.get("length"),10),thumb,thumbSize,xy;if(dd){thumb=dd.get("dragNode");thumbSize=parseFloat(thumb.getStyle(this._key.dim),10);xy=this._getThumbDestination(e,thumb);xy=xy[i]-this.rail.getXY()[i];xy=Math.min(Math.max(xy,0),length-thumbSize);this._uiMoveThumb(xy,{source:"rail"});e.target=this.thumb.one("img")||this.thumb;dd._handleMouseDownEvent(e)}},_resolveThumb:function(e){return this._dd},_getThumbDestination:function(e,node){var offsetWidth=node.get("offsetWidth"),offsetHeight=node.get("offsetHeight");return[e.pageX-Math.round(offsetWidth/2),e.pageY-Math.round(offsetHeight/2)]}},ATTRS:{clickableRail:{value:true,validator:Y.Lang.isBoolean}}},true)},"3.9.1",{requires:["slider-base"]});YUI.add("range-slider",function(Y,NAME){Y.Slider=Y.Base.build("slider",Y.SliderBase,[Y.SliderValueRange,Y.ClickableRail])},"3.9.1",{requires:["slider-base","slider-value-range","clickable-rail"]});YUI.add("widget-parent",function(Y,NAME){var Lang=Y.Lang,RENDERED="rendered",BOUNDING_BOX="boundingBox";function Parent(config){this.publish("addChild",{defaultTargetOnly:true,defaultFn:this._defAddChildFn});this.publish("removeChild",{defaultTargetOnly:true,defaultFn:this._defRemoveChildFn});this._items=[];var children,handle;if(config&&config.children){children=config.children;handle=this.after("initializedChange",function(e){this._add(children);handle.detach()})}Y.after(this._renderChildren,this,"renderUI");Y.after(this._bindUIParent,this,"bindUI");this.after("selectionChange",this._afterSelectionChange);this.after("selectedChange",this._afterParentSelectedChange);this.after("activeDescendantChange",this._afterActiveDescendantChange);this._hDestroyChild=this.after("*:destroy",this._afterDestroyChild);this.after("*:focusedChange",this._updateActiveDescendant)}Parent.ATTRS={defaultChildType:{setter:function(val){var returnVal=Y.Attribute.INVALID_VALUE,FnConstructor=Lang.isString(val)?Y[val]:val;if(Lang.isFunction(FnConstructor)){returnVal=FnConstructor}return returnVal}},activeDescendant:{readOnly:true},multiple:{value:false,validator:Lang.isBoolean,writeOnce:true,getter:function(value){var root=this.get("root");return root&&root!=this?root.get("multiple"):value}},selection:{readOnly:true,setter:"_setSelection",getter:function(value){var selection=Lang.isArray(value)?new Y.ArrayList(value):value;return selection}},selected:{setter:function(value){var returnVal=value;if(value===1&&!this.get("multiple")){returnVal=Y.Attribute.INVALID_VALUE}return returnVal}}};Parent.prototype={destructor:function(){this._destroyChildren()},_afterDestroyChild:function(event){var child=event.target;if(child.get("parent")==this){child.remove()}},_afterSelectionChange:function(event){if(event.target==this&&event.src!=this){var selection=event.newVal,selectedVal=0;if(selection){selectedVal=2;if(Y.instanceOf(selection,Y.ArrayList)&&selection.size()===this.size()){selectedVal=1}}this.set("selected",selectedVal,{src:this})}},_afterActiveDescendantChange:function(event){var parent=this.get("parent");if(parent){parent._set("activeDescendant",event.newVal)}},_afterParentSelectedChange:function(event){var value=event.newVal;if(this==event.target&&event.src!=this&&(value===0||value===1)){this.each(function(child){child.set("selected",value,{src:this})},this)}},_setSelection:function(child){var selection=null,selected;if(this.get("multiple")&&!this.isEmpty()){selected=[];this.each(function(v){if(v.get("selected")>0){selected.push(v)}});if(selected.length>0){selection=selected}}else{if(child.get("selected")>0){selection=child}}return selection},_updateSelection:function(event){var child=event.target,selection;if(child.get("parent")==this){if(event.src!="_updateSelection"){selection=this.get("selection");if(!this.get("multiple")&&selection&&event.newVal>0){selection.set("selected",0,{src:"_updateSelection"})}this._set("selection",child)}if(event.src==this){this._set("selection",child,{src:this})}}},_updateActiveDescendant:function(event){var activeDescendant=event.newVal===true?event.target:null;this._set("activeDescendant",activeDescendant)},_createChild:function(config){var defaultType=this.get("defaultChildType"),altType=config.childType||config.type,child,Fn,FnConstructor;if(altType){Fn=Lang.isString(altType)?Y[altType]:altType}if(Lang.isFunction(Fn)){FnConstructor=Fn}else if(defaultType){FnConstructor=defaultType}if(FnConstructor){child=new FnConstructor(config)}else{Y.error("Could not create a child instance because its constructor is either undefined or invalid.")}return child},_defAddChildFn:function(event){var child=event.child,index=event.index,children=this._items;if(child.get("parent")){child.remove()}if(Lang.isNumber(index)){children.splice(index,0,child)}else{children.push(child)}child._set("parent",this);child.addTarget(this);event.index=child.get("index");child.after("selectedChange",Y.bind(this._updateSelection,this))},_defRemoveChildFn:function(event){var child=event.child,index=event.index,children=this._items;if(child.get("focused")){child.blur()}if(child.get("selected")){child.set("selected",0)}children.splice(index,1);child.removeTarget(this);child._oldParent=child.get("parent");child._set("parent",null)},_add:function(child,index){var children,oChild,returnVal;if(Lang.isArray(child)){children=[];Y.each(child,function(v,k){oChild=this._add(v,index+k);if(oChild){children.push(oChild)}},this);if(children.length>0){returnVal=children}}else{if(Y.instanceOf(child,Y.Widget)){oChild=child}else{oChild=this._createChild(child)}if(oChild&&this.fire("addChild",{child:oChild,index:index})){returnVal=oChild}}return returnVal},add:function(){var added=this._add.apply(this,arguments),children=added?Lang.isArray(added)?added:[added]:[];return new Y.ArrayList(children)},remove:function(index){var child=this._items[index],returnVal;if(child&&this.fire("removeChild",{child:child,index:index})){returnVal=child}return returnVal},removeAll:function(){var removed=[],child;Y.each(this._items.concat(),function(){child=this.remove(0);if(child){removed.push(child)}},this);return new Y.ArrayList(removed)},selectChild:function(i){this.item(i).set("selected",1)},selectAll:function(){this.set("selected",1)},deselectAll:function(){this.set("selected",0)},_uiAddChild:function(child,parentNode){child.render(parentNode);var childBB=child.get("boundingBox"),siblingBB,nextSibling=child.next(false),prevSibling;if(nextSibling&&nextSibling.get(RENDERED)){siblingBB=nextSibling.get(BOUNDING_BOX);siblingBB.insert(childBB,"before")}else{prevSibling=child.previous(false);if(prevSibling&&prevSibling.get(RENDERED)){siblingBB=prevSibling.get(BOUNDING_BOX);siblingBB.insert(childBB,"after")}else if(!parentNode.contains(childBB)){parentNode.appendChild(childBB)}}},_uiRemoveChild:function(child){child.get("boundingBox").remove()},_afterAddChild:function(event){var child=event.child;if(child.get("parent")==this){this._uiAddChild(child,this._childrenContainer)}},_afterRemoveChild:function(event){var child=event.child;if(child._oldParent==this){this._uiRemoveChild(child)}},_bindUIParent:function(){this.after("addChild",this._afterAddChild);this.after("removeChild",this._afterRemoveChild)},_renderChildren:function(){var renderTo=this._childrenContainer||this.get("contentBox");this._childrenContainer=renderTo;this.each(function(child){child.render(renderTo)})},_destroyChildren:function(){this._hDestroyChild.detach();this.each(function(child){child.destroy()})}};Y.augment(Parent,Y.ArrayList);Y.WidgetParent=Parent},"3.9.1",{requires:["arraylist","base-build","widget"]});YUI.add("widget-child",function(Y,NAME){var Lang=Y.Lang;function Child(){Y.after(this._syncUIChild,this,"syncUI");Y.after(this._bindUIChild,this,"bindUI")}Child.ATTRS={selected:{value:0,validator:Lang.isNumber},index:{readOnly:true,getter:function(){var parent=this.get("parent"),index=-1;if(parent){index=parent.indexOf(this)}return index}},parent:{readOnly:true},depth:{readOnly:true,getter:function(){var parent=this.get("parent"),root=this.get("root"),depth=-1;while(parent){depth=depth+1;if(parent==root){break}parent=parent.get("parent")}return depth}},root:{readOnly:true,getter:function(){var getParent=function(child){var parent=child.get("parent"),FnRootType=child.ROOT_TYPE,criteria=parent;if(FnRootType){criteria=parent&&Y.instanceOf(parent,FnRootType)}return criteria?getParent(parent):child};return getParent(this)}}};Child.prototype={ROOT_TYPE:null,_getUIEventNode:function(){var root=this.get("root"),returnVal;if(root){returnVal=root.get("boundingBox")}return returnVal},next:function(circular){var parent=this.get("parent"),sibling;if(parent){sibling=parent.item(this.get("index")+1)}if(!sibling&&circular){sibling=parent.item(0)}return sibling},previous:function(circular){var parent=this.get("parent"),index=this.get("index"),sibling;if(parent&&index>0){sibling=parent.item([index-1])}if(!sibling&&circular){sibling=parent.item(parent.size()-1)}return sibling},remove:function(index){var parent,removed;if(Lang.isNumber(index)){removed=Y.WidgetParent.prototype.remove.apply(this,arguments)}else{parent=this.get("parent");if(parent){removed=parent.remove(this.get("index"))}}return removed},isRoot:function(){return this==this.get("root")},ancestor:function(depth){var root=this.get("root"),parent;if(this.get("depth")>depth){parent=this.get("parent");while(parent!=root&&parent.get("depth")>depth){parent=parent.get("parent")}}return parent},_uiSetChildSelected:function(selected){var box=this.get("boundingBox"),sClassName=this.getClassName("selected");if(selected===0){box.removeClass(sClassName)}else{box.addClass(sClassName)}},_afterChildSelectedChange:function(event){this._uiSetChildSelected(event.newVal)},_syncUIChild:function(){this._uiSetChildSelected(this.get("selected"))},_bindUIChild:function(){this.after("selectedChange",this._afterChildSelectedChange)}};Y.WidgetChild=Child},"3.9.1",{requires:["base-build","widget"]});YUI.add("tabview-base",function(Y,NAME){var getClassName=Y.ClassNameManager.getClassName,TABVIEW="tabview",TAB="tab",PANEL="panel",SELECTED="selected",EMPTY_OBJ={},DOT=".",_classNames={tabview:getClassName(TABVIEW),tabviewPanel:getClassName(TABVIEW,PANEL),tabviewList:getClassName(TABVIEW,"list"),tab:getClassName(TAB),tabLabel:getClassName(TAB,"label"),tabPanel:getClassName(TAB,PANEL),selectedTab:getClassName(TAB,SELECTED),selectedPanel:getClassName(TAB,PANEL,SELECTED)},_queries={tabview:DOT+_classNames.tabview,tabviewList:"> ul",tab:"> ul > li",tabLabel:"> ul > li > a",tabviewPanel:"> div",tabPanel:"> div > div",selectedTab:"> ul > "+DOT+_classNames.selectedTab,selectedPanel:"> div "+DOT+_classNames.selectedPanel},TabviewBase=function(){this.init.apply(this,arguments)};TabviewBase.NAME="tabviewBase";TabviewBase._queries=_queries;TabviewBase._classNames=_classNames;Y.mix(TabviewBase.prototype,{init:function(config){config=config||EMPTY_OBJ;this._node=config.host||Y.one(config.node);this.refresh()},initClassNames:function(index){Y.Object.each(_queries,function(query,name){if(_classNames[name]){var result=this.all(query);if(index!==undefined){result=result.item(index)}if(result){result.addClass(_classNames[name])}}},this._node);this._node.addClass(_classNames.tabview)},_select:function(index){var node=this._node,oldItem=node.one(_queries.selectedTab),oldContent=node.one(_queries.selectedPanel),newItem=node.all(_queries.tab).item(index),newContent=node.all(_queries.tabPanel).item(index);if(oldItem){oldItem.removeClass(_classNames.selectedTab)}if(oldContent){oldContent.removeClass(_classNames.selectedPanel)}if(newItem){newItem.addClass(_classNames.selectedTab)}if(newContent){newContent.addClass(_classNames.selectedPanel)}},initState:function(){var node=this._node,activeNode=node.one(_queries.selectedTab),activeIndex=activeNode?node.all(_queries.tab).indexOf(activeNode):0;this._select(activeIndex)},_scrubTextNodes:function(){this._node.one(_queries.tabviewList).get("childNodes").each(function(node){if(node.get("nodeType")===3){node.remove()}})},refresh:function(){this._scrubTextNodes();this.initClassNames();this.initState();this.initEvents()},tabEventName:"click",initEvents:function(){this._node.delegate(this.tabEventName,this.onTabEvent,_queries.tab,this)},onTabEvent:function(e){e.preventDefault();this._select(this._node.all(_queries.tab).indexOf(e.currentTarget))},destroy:function(){this._node.detach(this.tabEventName)}});Y.TabviewBase=TabviewBase},"3.9.1",{requires:["node-event-delegate","classnamemanager","skin-sam-tabview"]});YUI.add("async-queue",function(Y,NAME){Y.AsyncQueue=function(){this._init();this.add.apply(this,arguments)};var Queue=Y.AsyncQueue,EXECUTE="execute",SHIFT="shift",PROMOTE="promote",REMOVE="remove",isObject=Y.Lang.isObject,isFunction=Y.Lang.isFunction;Queue.defaults=Y.mix({autoContinue:true,iterations:1,timeout:10,until:function(){this.iterations|=0;return this.iterations<=0}},Y.config.queueDefaults||{});Y.extend(Queue,Y.EventTarget,{_running:false,_init:function(){Y.EventTarget.call(this,{prefix:"queue",emitFacade:true});this._q=[];this.defaults={};this._initEvents()},_initEvents:function(){this.publish({execute:{defaultFn:this._defExecFn,emitFacade:true},shift:{defaultFn:this._defShiftFn,emitFacade:true},add:{defaultFn:this._defAddFn,emitFacade:true},promote:{defaultFn:this._defPromoteFn,emitFacade:true},remove:{defaultFn:this._defRemoveFn,emitFacade:true}})},next:function(){var callback;while(this._q.length){callback=this._q[0]=this._prepare(this._q[0]);if(callback&&callback.until()){this.fire(SHIFT,{callback:callback});callback=null}else{break}}return callback||null},_defShiftFn:function(e){if(this.indexOf(e.callback)===0){this._q.shift()}},_prepare:function(callback){if(isFunction(callback)&&callback._prepared){return callback}var config=Y.merge(Queue.defaults,{context:this,args:[],_prepared:true},this.defaults,isFunction(callback)?{fn:callback}:callback),wrapper=Y.bind(function(){if(!wrapper._running){wrapper.iterations--}if(isFunction(wrapper.fn)){wrapper.fn.apply(wrapper.context||Y,Y.Array(wrapper.args))
}},this);return Y.mix(wrapper,config)},run:function(){var callback,cont=true;for(callback=this.next();cont&&callback&&!this.isRunning();callback=this.next()){cont=callback.timeout<0?this._execute(callback):this._schedule(callback)}if(!callback){this.fire("complete")}return this},_execute:function(callback){this._running=callback._running=true;callback.iterations--;this.fire(EXECUTE,{callback:callback});var cont=this._running&&callback.autoContinue;this._running=callback._running=false;return cont},_schedule:function(callback){this._running=Y.later(callback.timeout,this,function(){if(this._execute(callback)){this.run()}});return false},isRunning:function(){return!!this._running},_defExecFn:function(e){e.callback()},add:function(){this.fire("add",{callbacks:Y.Array(arguments,0,true)});return this},_defAddFn:function(e){var _q=this._q,added=[];Y.Array.each(e.callbacks,function(c){if(isObject(c)){_q.push(c);added.push(c)}});e.added=added},pause:function(){if(isObject(this._running)){this._running.cancel()}this._running=false;return this},stop:function(){this._q=[];return this.pause()},indexOf:function(callback){var i=0,len=this._q.length,c;for(;i<len;++i){c=this._q[i];if(c===callback||c.id===callback){return i}}return-1},getCallback:function(id){var i=this.indexOf(id);return i>-1?this._q[i]:null},promote:function(callback){var payload={callback:callback},e;if(this.isRunning()){e=this.after(SHIFT,function(){this.fire(PROMOTE,payload);e.detach()},this)}else{this.fire(PROMOTE,payload)}return this},_defPromoteFn:function(e){var i=this.indexOf(e.callback),promoted=i>-1?this._q.splice(i,1)[0]:null;e.promoted=promoted;if(promoted){this._q.unshift(promoted)}},remove:function(callback){var payload={callback:callback},e;if(this.isRunning()){e=this.after(SHIFT,function(){this.fire(REMOVE,payload);e.detach()},this)}else{this.fire(REMOVE,payload)}return this},_defRemoveFn:function(e){var i=this.indexOf(e.callback);e.removed=i>-1?this._q.splice(i,1)[0]:null},size:function(){if(!this.isRunning()){this.next()}return this._q.length}})},"3.9.1",{requires:["event-custom"]});YUI.add("gesture-simulate",function(Y,NAME){var NAME="gesture-simulate",SUPPORTS_TOUCH=Y.config.win&&"ontouchstart"in Y.config.win&&!Y.UA.phantomjs&&!(Y.UA.chrome&&Y.UA.chrome<6),gestureNames={tap:1,doubletap:1,press:1,move:1,flick:1,pinch:1,rotate:1},touchEvents={touchstart:1,touchmove:1,touchend:1,touchcancel:1},document=Y.config.doc,emptyTouchList,EVENT_INTERVAL=20,START_PAGEX,START_PAGEY,DEFAULTS={HOLD_TAP:10,DELAY_TAP:10,HOLD_PRESS:3e3,MIN_HOLD_PRESS:1e3,MAX_HOLD_PRESS:6e4,DISTANCE_MOVE:200,DURATION_MOVE:1e3,MAX_DURATION_MOVE:5e3,MIN_VELOCITY_FLICK:1.3,DISTANCE_FLICK:200,DURATION_FLICK:1e3,MAX_DURATION_FLICK:5e3,DURATION_PINCH:1e3},TOUCH_START="touchstart",TOUCH_MOVE="touchmove",TOUCH_END="touchend",GESTURE_START="gesturestart",GESTURE_CHANGE="gesturechange",GESTURE_END="gestureend",MOUSE_UP="mouseup",MOUSE_MOVE="mousemove",MOUSE_DOWN="mousedown",MOUSE_CLICK="click",MOUSE_DBLCLICK="dblclick",X_AXIS="x",Y_AXIS="y";function Simulations(node){if(!node){Y.error(NAME+": invalid target node")}this.node=node;this.target=Y.Node.getDOMNode(node);var startXY=this.node.getXY(),dims=this._getDims();START_PAGEX=startXY[0]+dims[0]/2;START_PAGEY=startXY[1]+dims[1]/2}Simulations.prototype={_toRadian:function(deg){return deg*(Math.PI/180)},_getDims:function(){var region,width,height;if(this.target.getBoundingClientRect){region=this.target.getBoundingClientRect();if("height"in region){height=region.height}else{height=Math.abs(region.bottom-region.top)}if("width"in region){width=region.width}else{width=Math.abs(region.right-region.left)}}else{region=this.node.get("region");width=region.width;height=region.height}return[width,height]},_calculateDefaultPoint:function(point){var height;if(!Y.Lang.isArray(point)||point.length===0){point=[START_PAGEX,START_PAGEY]}else{if(point.length==1){height=this._getDims[1];point[1]=height/2}point[0]=this.node.getX()+point[0];point[1]=this.node.getY()+point[1]}return point},rotate:function(cb,center,startRadius,endRadius,duration,start,rotation){var radius,r1=startRadius,r2=endRadius;if(!Y.Lang.isNumber(r1)||!Y.Lang.isNumber(r2)||r1<0||r2<0){radius=this.target.offsetWidth<this.target.offsetHeight?this.target.offsetWidth/4:this.target.offsetHeight/4;r1=radius;r2=radius}if(!Y.Lang.isNumber(rotation)){Y.error(NAME+"Invalid rotation detected.")}this.pinch(cb,center,r1,r2,duration,start,rotation)},pinch:function(cb,center,startRadius,endRadius,duration,start,rotation){var eventQueue,i,interval=EVENT_INTERVAL,touches,id=0,r1=startRadius,r2=endRadius,radiusPerStep,centerX,centerY,startScale,endScale,scalePerStep,startRot,endRot,rotPerStep,path1={start:[],end:[]},path2={start:[],end:[]},steps,touchMove;center=this._calculateDefaultPoint(center);if(!Y.Lang.isNumber(r1)||!Y.Lang.isNumber(r2)||r1<0||r2<0){Y.error(NAME+"Invalid startRadius and endRadius detected.")}if(!Y.Lang.isNumber(duration)||duration<=0){duration=DEFAULTS.DURATION_PINCH}if(!Y.Lang.isNumber(start)){start=0}else{start=start%360;while(start<0){start+=360}}if(!Y.Lang.isNumber(rotation)){rotation=0}Y.AsyncQueue.defaults.timeout=interval;eventQueue=new Y.AsyncQueue;centerX=center[0];centerY=center[1];startRot=start;endRot=start+rotation;path1.start=[centerX+r1*Math.sin(this._toRadian(startRot)),centerY-r1*Math.cos(this._toRadian(startRot))];path1.end=[centerX+r2*Math.sin(this._toRadian(endRot)),centerY-r2*Math.cos(this._toRadian(endRot))];path2.start=[centerX-r1*Math.sin(this._toRadian(startRot)),centerY+r1*Math.cos(this._toRadian(startRot))];path2.end=[centerX-r2*Math.sin(this._toRadian(endRot)),centerY+r2*Math.cos(this._toRadian(endRot))];startScale=1;endScale=endRadius/startRadius;eventQueue.add({fn:function(){var coord1,coord2,coord,touches;coord1={pageX:path1.start[0],pageY:path1.start[1],clientX:path1.start[0],clientY:path1.start[1]};coord2={pageX:path2.start[0],pageY:path2.start[1],clientX:path2.start[0],clientY:path2.start[1]};touches=this._createTouchList([Y.merge({identifier:id++},coord1),Y.merge({identifier:id++},coord2)]);coord={pageX:(path1.start[0]+path2.start[0])/2,pageY:(path1.start[0]+path2.start[1])/2,clientX:(path1.start[0]+path2.start[0])/2,clientY:(path1.start[0]+path2.start[1])/2};this._simulateEvent(this.target,TOUCH_START,Y.merge({touches:touches,targetTouches:touches,changedTouches:touches,scale:startScale,rotation:startRot},coord));if(Y.UA.ios>=2){this._simulateEvent(this.target,GESTURE_START,Y.merge({scale:startScale,rotation:startRot},coord))}},timeout:0,context:this});steps=Math.floor(duration/interval);radiusPerStep=(r2-r1)/steps;scalePerStep=(endScale-startScale)/steps;rotPerStep=(endRot-startRot)/steps;touchMove=function(step){var radius=r1+radiusPerStep*step,px1=centerX+radius*Math.sin(this._toRadian(startRot+rotPerStep*step)),py1=centerY-radius*Math.cos(this._toRadian(startRot+rotPerStep*step)),px2=centerX-radius*Math.sin(this._toRadian(startRot+rotPerStep*step)),py2=centerY+radius*Math.cos(this._toRadian(startRot+rotPerStep*step)),px=(px1+px2)/2,py=(py1+py2)/2,coord1,coord2,coord,touches;coord1={pageX:px1,pageY:py1,clientX:px1,clientY:py1};coord2={pageX:px2,pageY:py2,clientX:px2,clientY:py2};touches=this._createTouchList([Y.merge({identifier:id++},coord1),Y.merge({identifier:id++},coord2)]);coord={pageX:px,pageY:py,clientX:px,clientY:py};this._simulateEvent(this.target,TOUCH_MOVE,Y.merge({touches:touches,targetTouches:touches,changedTouches:touches,scale:startScale+scalePerStep*step,rotation:startRot+rotPerStep*step},coord));if(Y.UA.ios>=2){this._simulateEvent(this.target,GESTURE_CHANGE,Y.merge({scale:startScale+scalePerStep*step,rotation:startRot+rotPerStep*step},coord))}};for(i=0;i<steps;i++){eventQueue.add({fn:touchMove,args:[i],context:this})}eventQueue.add({fn:function(){var emptyTouchList=this._getEmptyTouchList(),coord1,coord2,coord,touches;coord1={pageX:path1.end[0],pageY:path1.end[1],clientX:path1.end[0],clientY:path1.end[1]};coord2={pageX:path2.end[0],pageY:path2.end[1],clientX:path2.end[0],clientY:path2.end[1]};touches=this._createTouchList([Y.merge({identifier:id++},coord1),Y.merge({identifier:id++},coord2)]);coord={pageX:(path1.end[0]+path2.end[0])/2,pageY:(path1.end[0]+path2.end[1])/2,clientX:(path1.end[0]+path2.end[0])/2,clientY:(path1.end[0]+path2.end[1])/2};if(Y.UA.ios>=2){this._simulateEvent(this.target,GESTURE_END,Y.merge({scale:endScale,rotation:endRot},coord))}this._simulateEvent(this.target,TOUCH_END,Y.merge({touches:emptyTouchList,targetTouches:emptyTouchList,changedTouches:touches,scale:endScale,rotation:endRot},coord))},context:this});if(cb&&Y.Lang.isFunction(cb)){eventQueue.add({fn:cb,context:this.node})}eventQueue.run()},tap:function(cb,point,times,hold,delay){var eventQueue=new Y.AsyncQueue,emptyTouchList=this._getEmptyTouchList(),touches,coord,i,touchStart,touchEnd;point=this._calculateDefaultPoint(point);if(!Y.Lang.isNumber(times)||times<1){times=1}if(!Y.Lang.isNumber(hold)){hold=DEFAULTS.HOLD_TAP}if(!Y.Lang.isNumber(delay)){delay=DEFAULTS.DELAY_TAP}coord={pageX:point[0],pageY:point[1],clientX:point[0],clientY:point[1]};touches=this._createTouchList([Y.merge({identifier:0},coord)]);touchStart=function(){this._simulateEvent(this.target,TOUCH_START,Y.merge({touches:touches,targetTouches:touches,changedTouches:touches},coord))};touchEnd=function(){this._simulateEvent(this.target,TOUCH_END,Y.merge({touches:emptyTouchList,targetTouches:emptyTouchList,changedTouches:touches},coord))};for(i=0;i<times;i++){eventQueue.add({fn:touchStart,context:this,timeout:i===0?0:delay});eventQueue.add({fn:touchEnd,context:this,timeout:hold})}if(times>1&&!SUPPORTS_TOUCH){eventQueue.add({fn:function(){this._simulateEvent(this.target,MOUSE_DBLCLICK,coord)},context:this})}if(cb&&Y.Lang.isFunction(cb)){eventQueue.add({fn:cb,context:this.node})}eventQueue.run()},flick:function(cb,point,axis,distance,duration){var path;point=this._calculateDefaultPoint(point);if(!Y.Lang.isString(axis)){axis=X_AXIS}else{axis=axis.toLowerCase();if(axis!==X_AXIS&&axis!==Y_AXIS){Y.error(NAME+"(flick): Only x or y axis allowed")}}if(!Y.Lang.isNumber(distance)){distance=DEFAULTS.DISTANCE_FLICK}if(!Y.Lang.isNumber(duration)){duration=DEFAULTS.DURATION_FLICK}else{if(duration>DEFAULTS.MAX_DURATION_FLICK){duration=DEFAULTS.MAX_DURATION_FLICK}}if(Math.abs(distance)/duration<DEFAULTS.MIN_VELOCITY_FLICK){duration=Math.abs(distance)/DEFAULTS.MIN_VELOCITY_FLICK}path={start:Y.clone(point),end:[axis===X_AXIS?point[0]+distance:point[0],axis===Y_AXIS?point[1]+distance:point[1]]};this._move(cb,path,duration)},move:function(cb,path,duration){var convertedPath;if(!Y.Lang.isObject(path)){path={point:this._calculateDefaultPoint([]),xdist:DEFAULTS.DISTANCE_MOVE,ydist:0}}else{if(!Y.Lang.isArray(path.point)){path.point=this._calculateDefaultPoint([])}else{path.point=this._calculateDefaultPoint(path.point)}if(!Y.Lang.isNumber(path.xdist)){path.xdist=DEFAULTS.DISTANCE_MOVE}if(!Y.Lang.isNumber(path.ydist)){path.ydist=0}}if(!Y.Lang.isNumber(duration)){duration=DEFAULTS.DURATION_MOVE}else{if(duration>DEFAULTS.MAX_DURATION_MOVE){duration=DEFAULTS.MAX_DURATION_MOVE}}convertedPath={start:Y.clone(path.point),end:[path.point[0]+path.xdist,path.point[1]+path.ydist]};this._move(cb,convertedPath,duration)},_move:function(cb,path,duration){var eventQueue,i,interval=EVENT_INTERVAL,steps,stepX,stepY,id=0,touchMove;if(!Y.Lang.isNumber(duration)){duration=DEFAULTS.DURATION_MOVE}else{if(duration>DEFAULTS.MAX_DURATION_MOVE){duration=DEFAULTS.MAX_DURATION_MOVE}}if(!Y.Lang.isObject(path)){path={start:[START_PAGEX,START_PAGEY],end:[START_PAGEX+DEFAULTS.DISTANCE_MOVE,START_PAGEY]}}else{if(!Y.Lang.isArray(path.start)){path.start=[START_PAGEX,START_PAGEY]}if(!Y.Lang.isArray(path.end)){path.end=[START_PAGEX+DEFAULTS.DISTANCE_MOVE,START_PAGEY]}}Y.AsyncQueue.defaults.timeout=interval;eventQueue=new Y.AsyncQueue;eventQueue.add({fn:function(){var coord={pageX:path.start[0],pageY:path.start[1],clientX:path.start[0],clientY:path.start[1]},touches=this._createTouchList([Y.merge({identifier:id++},coord)]);this._simulateEvent(this.target,TOUCH_START,Y.merge({touches:touches,targetTouches:touches,changedTouches:touches},coord))},timeout:0,context:this});steps=Math.floor(duration/interval);stepX=(path.end[0]-path.start[0])/steps;stepY=(path.end[1]-path.start[1])/steps;touchMove=function(step){var px=path.start[0]+stepX*step,py=path.start[1]+stepY*step,coord={pageX:px,pageY:py,clientX:px,clientY:py},touches=this._createTouchList([Y.merge({identifier:id++},coord)]);this._simulateEvent(this.target,TOUCH_MOVE,Y.merge({touches:touches,targetTouches:touches,changedTouches:touches},coord))};for(i=0;i<steps;i++){eventQueue.add({fn:touchMove,args:[i],context:this})}eventQueue.add({fn:function(){var coord={pageX:path.end[0],pageY:path.end[1],clientX:path.end[0],clientY:path.end[1]},touches=this._createTouchList([Y.merge({identifier:id},coord)]);this._simulateEvent(this.target,TOUCH_MOVE,Y.merge({touches:touches,targetTouches:touches,changedTouches:touches},coord))},timeout:0,context:this});eventQueue.add({fn:function(){var coord={pageX:path.end[0],pageY:path.end[1],clientX:path.end[0],clientY:path.end[1]},emptyTouchList=this._getEmptyTouchList(),touches=this._createTouchList([Y.merge({identifier:id},coord)]);this._simulateEvent(this.target,TOUCH_END,Y.merge({touches:emptyTouchList,targetTouches:emptyTouchList,changedTouches:touches},coord))},context:this});if(cb&&Y.Lang.isFunction(cb)){eventQueue.add({fn:cb,context:this.node})}eventQueue.run()},_getEmptyTouchList:function(){if(!emptyTouchList){emptyTouchList=this._createTouchList([])}return emptyTouchList},_createTouchList:function(touchPoints){var touches=[],touchList,self=this;if(!!touchPoints&&Y.Lang.isArray(touchPoints)){if(Y.UA.android&&Y.UA.android>=4||Y.UA.ios&&Y.UA.ios>=2){Y.each(touchPoints,function(point){if(!point.identifier){point.identifier=0}if(!point.pageX){point.pageX=0}if(!point.pageY){point.pageY=0}if(!point.screenX){point.screenX=0}if(!point.screenY){point.screenY=0}touches.push(document.createTouch(Y.config.win,self.target,point.identifier,point.pageX,point.pageY,point.screenX,point.screenY))});touchList=document.createTouchList.apply(document,touches)}else if(Y.UA.ios&&Y.UA.ios<2){Y.error(NAME+": No touch event simulation framework present.")}else{touchList=[];Y.each(touchPoints,function(point){if(!point.identifier){point.identifier=0}if(!point.clientX){point.clientX=0}if(!point.clientY){point.clientY=0}if(!point.pageX){point.pageX=0}if(!point.pageY){point.pageY=0}if(!point.screenX){point.screenX=0}if(!point.screenY){point.screenY=0}touchList.push({target:self.target,identifier:point.identifier,clientX:point.clientX,clientY:point.clientY,pageX:point.pageX,pageY:point.pageY,screenX:point.screenX,screenY:point.screenY})});touchList.item=function(i){return touchList[i]}}}else{Y.error(NAME+": Invalid touchPoints passed")}return touchList},_simulateEvent:function(target,type,options){var touches;if(touchEvents[type]){if(SUPPORTS_TOUCH){Y.Event.simulate(target,type,options)}else{if(this._isSingleTouch(options.touches,options.targetTouches,options.changedTouches)){type={touchstart:MOUSE_DOWN,touchmove:MOUSE_MOVE,touchend:MOUSE_UP}[type];options.button=0;options.relatedTarget=null;touches=type===MOUSE_UP?options.changedTouches:options.touches;options=Y.mix(options,{screenX:touches.item(0).screenX,screenY:touches.item(0).screenY,clientX:touches.item(0).clientX,clientY:touches.item(0).clientY},true);Y.Event.simulate(target,type,options);if(type==MOUSE_UP){Y.Event.simulate(target,MOUSE_CLICK,options)}}else{Y.error("_simulateEvent(): Event '"+type+"' has multi touch objects that can't be simulated in your platform.")}}}else{Y.Event.simulate(target,type,options)}},_isSingleTouch:function(touches,targetTouches,changedTouches){return touches&&touches.length<=1&&targetTouches&&targetTouches.length<=1&&changedTouches&&changedTouches.length<=1}};Y.GestureSimulation=Simulations;Y.GestureSimulation.defaults=DEFAULTS;Y.GestureSimulation.GESTURES=gestureNames;Y.Event.simulateGesture=function(node,name,options,cb){node=Y.one(node);var sim=new Y.GestureSimulation(node);name=name.toLowerCase();if(!cb&&Y.Lang.isFunction(options)){cb=options;options={}}options=options||{};if(gestureNames[name]){switch(name){case"tap":sim.tap(cb,options.point,options.times,options.hold,options.delay);break;case"doubletap":sim.tap(cb,options.point,2);break;case"press":if(!Y.Lang.isNumber(options.hold)){options.hold=DEFAULTS.HOLD_PRESS}else if(options.hold<DEFAULTS.MIN_HOLD_PRESS){options.hold=DEFAULTS.MIN_HOLD_PRESS}else if(options.hold>DEFAULTS.MAX_HOLD_PRESS){options.hold=DEFAULTS.MAX_HOLD_PRESS}sim.tap(cb,options.point,1,options.hold);break;case"move":sim.move(cb,options.path,options.duration);break;case"flick":sim.flick(cb,options.point,options.axis,options.distance,options.duration);break;case"pinch":sim.pinch(cb,options.center,options.r1,options.r2,options.duration,options.start,options.rotation);break;case"rotate":sim.rotate(cb,options.center,options.r1,options.r2,options.duration,options.start,options.rotation);break}}else{Y.error(NAME+": Not a supported gesture simulation: "+name)}}},"3.9.1",{requires:["async-queue","event-simulate","node-screen"]});YUI.add("node-event-simulate",function(Y,NAME){Y.Node.prototype.simulate=function(type,options){Y.Event.simulate(Y.Node.getDOMNode(this),type,options)};Y.Node.prototype.simulateGesture=function(name,options,cb){Y.Event.simulateGesture(this,name,options,cb)}},"3.9.1",{requires:["node-base","event-simulate","gesture-simulate"]});YUI.add("node-focusmanager",function(Y,NAME){var ACTIVE_DESCENDANT="activeDescendant",ID="id",DISABLED="disabled",TAB_INDEX="tabIndex",FOCUSED="focused",FOCUS_CLASS="focusClass",CIRCULAR="circular",UI="UI",KEY="key",ACTIVE_DESCENDANT_CHANGE=ACTIVE_DESCENDANT+"Change",HOST="host",scrollKeys={37:true,38:true,39:true,40:true},clickableElements={a:true,button:true,input:true,object:true},Lang=Y.Lang,UA=Y.UA,NodeFocusManager=function(){NodeFocusManager.superclass.constructor.apply(this,arguments)};NodeFocusManager.ATTRS={focused:{value:false,readOnly:true},descendants:{getter:function(value){return this.get(HOST).all(value)}},activeDescendant:{setter:function(value){var isNumber=Lang.isNumber,INVALID_VALUE=Y.Attribute.INVALID_VALUE,descendantsMap=this._descendantsMap,descendants=this._descendants,nodeIndex,returnValue,oNode;if(isNumber(value)){nodeIndex=value;returnValue=nodeIndex}else if(value instanceof Y.Node&&descendantsMap){nodeIndex=descendantsMap[value.get(ID)];if(isNumber(nodeIndex)){returnValue=nodeIndex}else{returnValue=INVALID_VALUE}}else{returnValue=INVALID_VALUE}if(descendants){oNode=descendants.item(nodeIndex);if(oNode&&oNode.get("disabled")){returnValue=INVALID_VALUE}}return returnValue}},keys:{value:{next:null,previous:null}},focusClass:{},circular:{value:true}};Y.extend(NodeFocusManager,Y.Plugin.Base,{_stopped:true,_descendants:null,_descendantsMap:null,_focusedNode:null,_lastNodeIndex:0,_eventHandlers:null,_initDescendants:function(){var descendants=this.get("descendants"),descendantsMap={},nFirstEnabled=-1,nDescendants,nActiveDescendant=this.get(ACTIVE_DESCENDANT),oNode,sID,i=0;if(Lang.isUndefined(nActiveDescendant)){nActiveDescendant=-1}if(descendants){nDescendants=descendants.size();for(i=0;i<nDescendants;i++){oNode=descendants.item(i);if(nFirstEnabled===-1&&!oNode.get(DISABLED)){nFirstEnabled=i}if(nActiveDescendant<0&&parseInt(oNode.getAttribute(TAB_INDEX,2),10)===0){nActiveDescendant=i}if(oNode){oNode.set(TAB_INDEX,-1)}sID=oNode.get(ID);if(!sID){sID=Y.guid();oNode.set(ID,sID)}descendantsMap[sID]=i}if(nActiveDescendant<0){nActiveDescendant=0}oNode=descendants.item(nActiveDescendant);if(!oNode||oNode.get(DISABLED)){oNode=descendants.item(nFirstEnabled);nActiveDescendant=nFirstEnabled}this._lastNodeIndex=nDescendants-1;this._descendants=descendants;this._descendantsMap=descendantsMap;this.set(ACTIVE_DESCENDANT,nActiveDescendant);if(oNode){oNode.set(TAB_INDEX,0)}}},_isDescendant:function(node){return node.get(ID)in this._descendantsMap},_removeFocusClass:function(){var oFocusedNode=this._focusedNode,focusClass=this.get(FOCUS_CLASS),sClassName;if(focusClass){sClassName=Lang.isString(focusClass)?focusClass:focusClass.className}if(oFocusedNode&&sClassName){oFocusedNode.removeClass(sClassName)}},_detachKeyHandler:function(){var prevKeyHandler=this._prevKeyHandler,nextKeyHandler=this._nextKeyHandler;if(prevKeyHandler){prevKeyHandler.detach()}if(nextKeyHandler){nextKeyHandler.detach()}},_preventScroll:function(event){if(scrollKeys[event.keyCode]&&this._isDescendant(event.target)){event.preventDefault()}},_fireClick:function(event){var oTarget=event.target,sNodeName=oTarget.get("nodeName").toLowerCase();if(event.keyCode===13&&(!clickableElements[sNodeName]||sNodeName==="a"&&!oTarget.getAttribute("href"))){oTarget.simulate("click")}},_attachKeyHandler:function(){this._detachKeyHandler();var sNextKey=this.get("keys.next"),sPrevKey=this.get("keys.previous"),oNode=this.get(HOST),aHandlers=this._eventHandlers;if(sPrevKey){this._prevKeyHandler=Y.on(KEY,Y.bind(this._focusPrevious,this),oNode,sPrevKey)}if(sNextKey){this._nextKeyHandler=Y.on(KEY,Y.bind(this._focusNext,this),oNode,sNextKey)}if(UA.opera){aHandlers.push(oNode.on("keypress",this._preventScroll,this))}if(!UA.opera){aHandlers.push(oNode.on("keypress",this._fireClick,this))}},_detachEventHandlers:function(){this._detachKeyHandler();var aHandlers=this._eventHandlers;if(aHandlers){Y.Array.each(aHandlers,function(handle){handle.detach()});this._eventHandlers=null}},_attachEventHandlers:function(){var descendants=this._descendants,aHandlers,oDocument,handle;if(descendants&&descendants.size()){aHandlers=this._eventHandlers||[];oDocument=this.get(HOST).get("ownerDocument");if(aHandlers.length===0){aHandlers.push(oDocument.on("focus",this._onDocFocus,this));aHandlers.push(oDocument.on("mousedown",this._onDocMouseDown,this));aHandlers.push(this.after("keysChange",this._attachKeyHandler));aHandlers.push(this.after("descendantsChange",this._initDescendants));aHandlers.push(this.after(ACTIVE_DESCENDANT_CHANGE,this._afterActiveDescendantChange));handle=this.after("focusedChange",Y.bind(function(event){if(event.newVal){this._attachKeyHandler();handle.detach()}},this));aHandlers.push(handle)}this._eventHandlers=aHandlers}},_onDocMouseDown:function(event){var oHost=this.get(HOST),oTarget=event.target,bChildNode=oHost.contains(oTarget),node,getFocusable=function(node){var returnVal=false;if(!node.compareTo(oHost)){returnVal=this._isDescendant(node)?node:getFocusable.call(this,node.get("parentNode"))}return returnVal};if(bChildNode){node=getFocusable.call(this,oTarget);if(node){oTarget=node}else if(!node&&this.get(FOCUSED)){this._set(FOCUSED,false);this._onDocFocus(event)}}if(bChildNode&&this._isDescendant(oTarget)){this.focus(oTarget)}else if(UA.webkit&&this.get(FOCUSED)&&(!bChildNode||bChildNode&&!this._isDescendant(oTarget))){this._set(FOCUSED,false);this._onDocFocus(event)}},_onDocFocus:function(event){var oTarget=this._focusTarget||event.target,bFocused=this.get(FOCUSED),focusClass=this.get(FOCUS_CLASS),oFocusedNode=this._focusedNode,bInCollection;if(this._focusTarget){this._focusTarget=null}if(this.get(HOST).contains(oTarget)){bInCollection=this._isDescendant(oTarget);if(!bFocused&&bInCollection){bFocused=true}else if(bFocused&&!bInCollection){bFocused=false}}else{bFocused=false}if(focusClass){if(oFocusedNode&&(!oFocusedNode.compareTo(oTarget)||!bFocused)){this._removeFocusClass()}if(bInCollection&&bFocused){if(focusClass.fn){oTarget=focusClass.fn(oTarget);oTarget.addClass(focusClass.className)}else{oTarget.addClass(focusClass)}this._focusedNode=oTarget}}this._set(FOCUSED,bFocused)},_focusNext:function(event,activeDescendant){var nActiveDescendant=activeDescendant||this.get(ACTIVE_DESCENDANT),oNode;if(this._isDescendant(event.target)&&nActiveDescendant<=this._lastNodeIndex){nActiveDescendant=nActiveDescendant+1;if(nActiveDescendant===this._lastNodeIndex+1&&this.get(CIRCULAR)){nActiveDescendant=0}oNode=this._descendants.item(nActiveDescendant);if(oNode){if(oNode.get("disabled")){this._focusNext(event,nActiveDescendant)}else{this.focus(nActiveDescendant)}}}this._preventScroll(event)},_focusPrevious:function(event,activeDescendant){var nActiveDescendant=activeDescendant||this.get(ACTIVE_DESCENDANT),oNode;if(this._isDescendant(event.target)&&nActiveDescendant>=0){nActiveDescendant=nActiveDescendant-1;if(nActiveDescendant===-1&&this.get(CIRCULAR)){nActiveDescendant=this._lastNodeIndex}oNode=this._descendants.item(nActiveDescendant);if(oNode){if(oNode.get("disabled")){this._focusPrevious(event,nActiveDescendant)}else{this.focus(nActiveDescendant)}}}this._preventScroll(event)},_afterActiveDescendantChange:function(event){var oNode=this._descendants.item(event.prevVal);if(oNode){oNode.set(TAB_INDEX,-1)}oNode=this._descendants.item(event.newVal);if(oNode){oNode.set(TAB_INDEX,0)}},initializer:function(config){this.start()},destructor:function(){this.stop();this.get(HOST).focusManager=null},focus:function(index){if(Lang.isUndefined(index)){index=this.get(ACTIVE_DESCENDANT)}this.set(ACTIVE_DESCENDANT,index,{src:UI});var oNode=this._descendants.item(this.get(ACTIVE_DESCENDANT));if(oNode){oNode.focus();if(UA.opera&&oNode.get("nodeName").toLowerCase()==="button"){this._focusTarget=oNode}}},blur:function(){var oNode;if(this.get(FOCUSED)){oNode=this._descendants.item(this.get(ACTIVE_DESCENDANT));if(oNode){oNode.blur();this._removeFocusClass()}this._set(FOCUSED,false,{src:UI})}},start:function(){if(this._stopped){this._initDescendants();this._attachEventHandlers();this._stopped=false}},stop:function(){if(!this._stopped){this._detachEventHandlers();this._descendants=null;this._focusedNode=null;this._lastNodeIndex=0;this._stopped=true}},refresh:function(){this._initDescendants();if(!this._eventHandlers){this._attachEventHandlers()}}});NodeFocusManager.NAME="nodeFocusManager";NodeFocusManager.NS="focusManager";Y.namespace("Plugin");Y.Plugin.NodeFocusManager=NodeFocusManager},"3.9.1",{requires:["attribute","node","plugin","node-event-simulate","event-key","event-focus"]});YUI.add("tabview",function(Y,NAME){var _queries=Y.TabviewBase._queries,_classNames=Y.TabviewBase._classNames,DOT=".",TabView=Y.Base.create("tabView",Y.Widget,[Y.WidgetParent],{_afterChildAdded:function(){this.get("contentBox").focusManager.refresh()},_defListNodeValueFn:function(){return Y.Node.create(TabView.LIST_TEMPLATE)},_defPanelNodeValueFn:function(){return Y.Node.create(TabView.PANEL_TEMPLATE)},_afterChildRemoved:function(e){var i=e.index,selection=this.get("selection");if(!selection){selection=this.item(i-1)||this.item(0);if(selection){selection.set("selected",1)}}this.get("contentBox").focusManager.refresh()},_initAria:function(){var contentBox=this.get("contentBox"),tablist=contentBox.one(_queries.tabviewList);if(tablist){tablist.setAttrs({role:"tablist"})}},bindUI:function(){this.get("contentBox").plug(Y.Plugin.NodeFocusManager,{descendants:DOT+_classNames.tabLabel,keys:{next:"down:39",previous:"down:37"},circular:true});this.after("render",this._setDefSelection);this.after("addChild",this._afterChildAdded);this.after("removeChild",this._afterChildRemoved)},renderUI:function(){var contentBox=this.get("contentBox");this._renderListBox(contentBox);this._renderPanelBox(contentBox);this._childrenContainer=this.get("listNode");this._renderTabs(contentBox)},_setDefSelection:function(){var selection=this.get("selection")||this.item(0);this.some(function(tab){if(tab.get("selected")){selection=tab;return true}});if(selection){this.set("selection",selection);selection.set("selected",1)}},_renderListBox:function(contentBox){var node=this.get("listNode");if(!node.inDoc()){contentBox.append(node)}},_renderPanelBox:function(contentBox){var node=this.get("panelNode");if(!node.inDoc()){contentBox.append(node)}},_renderTabs:function(contentBox){var tabs=contentBox.all(_queries.tab),panelNode=this.get("panelNode"),panels=panelNode?this.get("panelNode").get("children"):null,tabview=this;if(tabs){tabs.addClass(_classNames.tab);contentBox.all(_queries.tabLabel).addClass(_classNames.tabLabel);contentBox.all(_queries.tabPanel).addClass(_classNames.tabPanel);tabs.each(function(node,i){var panelNode=panels?panels.item(i):null;tabview.add({boundingBox:node,contentBox:node.one(DOT+_classNames.tabLabel),panelNode:panelNode})})}}},{LIST_TEMPLATE:'<ul class="'+_classNames.tabviewList+'"></ul>',PANEL_TEMPLATE:'<div class="'+_classNames.tabviewPanel+'"></div>',ATTRS:{defaultChildType:{value:"Tab"},listNode:{setter:function(node){node=Y.one(node);if(node){node.addClass(_classNames.tabviewList)}return node},valueFn:"_defListNodeValueFn"},panelNode:{setter:function(node){node=Y.one(node);if(node){node.addClass(_classNames.tabviewPanel)}return node},valueFn:"_defPanelNodeValueFn"},tabIndex:{value:null}},HTML_PARSER:{listNode:_queries.tabviewList,panelNode:_queries.tabviewPanel}});Y.TabView=TabView;var Lang=Y.Lang,_classNames=Y.TabviewBase._classNames;Y.Tab=Y.Base.create("tab",Y.Widget,[Y.WidgetChild],{BOUNDING_TEMPLATE:'<li class="'+_classNames.tab+'"></li>',CONTENT_TEMPLATE:'<a class="'+_classNames.tabLabel+'"></a>',PANEL_TEMPLATE:'<div class="'+_classNames.tabPanel+'"></div>',_uiSetSelectedPanel:function(selected){this.get("panelNode").toggleClass(_classNames.selectedPanel,selected)},_afterTabSelectedChange:function(event){this._uiSetSelectedPanel(event.newVal)},_afterParentChange:function(e){if(!e.newVal){this._remove()}else{this._add()}},_initAria:function(){var anchor=this.get("contentBox"),id=anchor.get("id"),panel=this.get("panelNode");if(!id){id=Y.guid();anchor.set("id",id)}anchor.set("role","tab");anchor.get("parentNode").set("role","presentation");panel.setAttrs({role:"tabpanel","aria-labelledby":id})},syncUI:function(){this.set("label",this.get("label"));this.set("content",this.get("content"));this._uiSetSelectedPanel(this.get("selected"))},bindUI:function(){this.after("selectedChange",this._afterTabSelectedChange);this.after("parentChange",this._afterParentChange)},renderUI:function(){this._renderPanel();this._initAria()},_renderPanel:function(){this.get("parent").get("panelNode").appendChild(this.get("panelNode"))},_add:function(){var parent=this.get("parent").get("contentBox"),list=parent.get("listNode"),panel=parent.get("panelNode");if(list){list.appendChild(this.get("boundingBox"))}if(panel){panel.appendChild(this.get("panelNode"))}},_remove:function(){this.get("boundingBox").remove();this.get("panelNode").remove()},_onActivate:function(e){if(e.target===this){e.domEvent.preventDefault();e.target.set("selected",1)}},initializer:function(){this.publish(this.get("triggerEvent"),{defaultFn:this._onActivate})},_defLabelGetter:function(){return this.get("contentBox").getHTML()},_defLabelSetter:function(label){var labelNode=this.get("contentBox");if(labelNode.getHTML()!==label){labelNode.setHTML(label)}return label},_defContentSetter:function(content){var panel=this.get("panelNode");if(panel.getHTML()!==content){panel.setHTML(content)}return content},_defContentGetter:function(){return this.get("panelNode").getHTML()},_defPanelNodeValueFn:function(){var href=this.get("contentBox").get("href")||"",parent=this.get("parent"),hashIndex=href.indexOf("#"),panel;href=href.substr(hashIndex);if(href.charAt(0)==="#"){panel=Y.one(href);if(panel){panel.addClass(_classNames.tabPanel)}}if(!panel&&parent){panel=parent.get("panelNode").get("children").item(this.get("index"))}if(!panel){panel=Y.Node.create(this.PANEL_TEMPLATE)}return panel}},{ATTRS:{triggerEvent:{value:"click"},label:{setter:"_defLabelSetter",getter:"_defLabelGetter"},content:{setter:"_defContentSetter",getter:"_defContentGetter"},panelNode:{setter:function(node){node=Y.one(node);if(node){node.addClass(_classNames.tabPanel)}return node},valueFn:"_defPanelNodeValueFn"},tabIndex:{value:null,validator:"_validTabIndex"}},HTML_PARSER:{selected:function(){var ret=this.get("boundingBox").hasClass(_classNames.selectedTab)?1:0;return ret}}})},"3.9.1",{requires:["widget","widget-parent","widget-child","tabview-base","node-pluginhost","node-focusmanager"],skinnable:true});
YUI.add("autocomplete-base",function(Y,NAME){var Escape=Y.Escape,Lang=Y.Lang,YArray=Y.Array,YObject=Y.Object,isFunction=Lang.isFunction,isString=Lang.isString,trim=Lang.trim,INVALID_VALUE=Y.Attribute.INVALID_VALUE,_FUNCTION_VALIDATOR="_functionValidator",_SOURCE_SUCCESS="_sourceSuccess",ALLOW_BROWSER_AC="allowBrowserAutocomplete",INPUT_NODE="inputNode",QUERY="query",QUERY_DELIMITER="queryDelimiter",REQUEST_TEMPLATE="requestTemplate",RESULTS="results",RESULT_LIST_LOCATOR="resultListLocator",VALUE="value",VALUE_CHANGE="valueChange",EVT_CLEAR="clear",EVT_QUERY=QUERY,EVT_RESULTS=RESULTS;function AutoCompleteBase(){}AutoCompleteBase.prototype={initializer:function(){Y.before(this._bindUIACBase,this,"bindUI");Y.before(this._syncUIACBase,this,"syncUI");this.publish(EVT_CLEAR,{defaultFn:this._defClearFn});this.publish(EVT_QUERY,{defaultFn:this._defQueryFn});this.publish(EVT_RESULTS,{defaultFn:this._defResultsFn})},destructor:function(){this._acBaseEvents&&this._acBaseEvents.detach();delete this._acBaseEvents;delete this._cache;delete this._inputNode;delete this._rawSource},clearCache:function(){this._cache&&(this._cache={});return this},sendRequest:function(query,requestTemplate){var request,source=this.get("source");if(query||query===""){this._set(QUERY,query)}else{query=this.get(QUERY)||""}if(source){if(!requestTemplate){requestTemplate=this.get(REQUEST_TEMPLATE)}request=requestTemplate?requestTemplate.call(this,query):query;source.sendRequest({query:query,request:request,callback:{success:Y.bind(this._onResponse,this,query)}})}return this},_bindUIACBase:function(){var inputNode=this.get(INPUT_NODE),tokenInput=inputNode&&inputNode.tokenInput;if(tokenInput){inputNode=tokenInput.get(INPUT_NODE);this._set("tokenInput",tokenInput)}if(!inputNode){Y.error("No inputNode specified.");return}this._inputNode=inputNode;this._acBaseEvents=new Y.EventHandle([inputNode.on(VALUE_CHANGE,this._onInputValueChange,this),inputNode.on("blur",this._onInputBlur,this),this.after(ALLOW_BROWSER_AC+"Change",this._syncBrowserAutocomplete),this.after("sourceTypeChange",this._afterSourceTypeChange),this.after(VALUE_CHANGE,this._afterValueChange)])},_syncUIACBase:function(){this._syncBrowserAutocomplete();this.set(VALUE,this.get(INPUT_NODE).get(VALUE))},_createArraySource:function(source){var that=this;return{type:"array",sendRequest:function(request){that[_SOURCE_SUCCESS](source.concat(),request)}}},_createFunctionSource:function(source){var that=this;return{type:"function",sendRequest:function(request){var value;function afterResults(results){that[_SOURCE_SUCCESS](results||[],request)}if(value=source(request.query,afterResults)){afterResults(value)}}}},_createObjectSource:function(source){var that=this;return{type:"object",sendRequest:function(request){var query=request.query;that[_SOURCE_SUCCESS](YObject.owns(source,query)?source[query]:[],request)}}},_functionValidator:function(value){return value===null||isFunction(value)},_getObjectValue:function(obj,path){if(!obj){return}for(var i=0,len=path.length;obj&&i<len;i++){obj=obj[path[i]]}return obj},_parseResponse:function(query,response,data){var facade={data:data,query:query,results:[]},listLocator=this.get(RESULT_LIST_LOCATOR),results=[],unfiltered=response&&response.results,filters,formatted,formatter,highlighted,highlighter,i,len,maxResults,result,text,textLocator;if(unfiltered&&listLocator){unfiltered=listLocator.call(this,unfiltered)}if(unfiltered&&unfiltered.length){filters=this.get("resultFilters");textLocator=this.get("resultTextLocator");for(i=0,len=unfiltered.length;i<len;++i){result=unfiltered[i];text=textLocator?textLocator.call(this,result):result.toString();results.push({display:Escape.html(text),raw:result,text:text})}for(i=0,len=filters.length;i<len;++i){results=filters[i].call(this,query,results.concat());if(!results){return}if(!results.length){break}}if(results.length){formatter=this.get("resultFormatter");highlighter=this.get("resultHighlighter");maxResults=this.get("maxResults");if(maxResults&&maxResults>0&&results.length>maxResults){results.length=maxResults}if(highlighter){highlighted=highlighter.call(this,query,results.concat());if(!highlighted){return}for(i=0,len=highlighted.length;i<len;++i){result=results[i];result.highlighted=highlighted[i];result.display=result.highlighted}}if(formatter){formatted=formatter.call(this,query,results.concat());if(!formatted){return}for(i=0,len=formatted.length;i<len;++i){results[i].display=formatted[i]}}}}facade.results=results;this.fire(EVT_RESULTS,facade)},_parseValue:function(value){var delim=this.get(QUERY_DELIMITER);if(delim){value=value.split(delim);value=value[value.length-1]}return Lang.trimLeft(value)},_setEnableCache:function(value){this._cache=value?{}:null},_setLocator:function(locator){if(this[_FUNCTION_VALIDATOR](locator)){return locator}var that=this;locator=locator.toString().split(".");return function(result){return result&&that._getObjectValue(result,locator)}},_setRequestTemplate:function(template){if(this[_FUNCTION_VALIDATOR](template)){return template}template=template.toString();return function(query){return Lang.sub(template,{query:encodeURIComponent(query)})}},_setResultFilters:function(filters){var acFilters,getFilterFunction;if(filters===null){return[]}acFilters=Y.AutoCompleteFilters;getFilterFunction=function(filter){if(isFunction(filter)){return filter}if(isString(filter)&&acFilters&&isFunction(acFilters[filter])){return acFilters[filter]}return false};if(Lang.isArray(filters)){filters=YArray.map(filters,getFilterFunction);return YArray.every(filters,function(f){return!!f})?filters:INVALID_VALUE}else{filters=getFilterFunction(filters);return filters?[filters]:INVALID_VALUE}},_setResultHighlighter:function(highlighter){var acHighlighters;if(this[_FUNCTION_VALIDATOR](highlighter)){return highlighter}acHighlighters=Y.AutoCompleteHighlighters;if(isString(highlighter)&&acHighlighters&&isFunction(acHighlighters[highlighter])){return acHighlighters[highlighter]}return INVALID_VALUE},_setSource:function(source){var sourceType=this.get("sourceType")||Lang.type(source),sourceSetter;if(source&&isFunction(source.sendRequest)||source===null||sourceType==="datasource"){this._rawSource=source;return source}if(sourceSetter=AutoCompleteBase.SOURCE_TYPES[sourceType]){this._rawSource=source;return Lang.isString(sourceSetter)?this[sourceSetter](source):sourceSetter(source)}Y.error("Unsupported source type '"+sourceType+"'. Maybe autocomplete-sources isn't loaded?");return INVALID_VALUE},_sourceSuccess:function(data,request){request.callback.success({data:data,response:{results:data}})},_syncBrowserAutocomplete:function(){var inputNode=this.get(INPUT_NODE);if(inputNode.get("nodeName").toLowerCase()==="input"){inputNode.setAttribute("autocomplete",this.get(ALLOW_BROWSER_AC)?"on":"off")}},_updateValue:function(newVal){var delim=this.get(QUERY_DELIMITER),insertDelim,len,prevVal;newVal=Lang.trimLeft(newVal);if(delim){insertDelim=trim(delim);prevVal=YArray.map(trim(this.get(VALUE)).split(delim),trim);len=prevVal.length;if(len>1){prevVal[len-1]=newVal;newVal=prevVal.join(insertDelim+" ")}newVal=newVal+insertDelim+" "}this.set(VALUE,newVal)},_afterSourceTypeChange:function(e){if(this._rawSource){this.set("source",this._rawSource)}},_afterValueChange:function(e){var newVal=e.newVal,self=this,uiChange=e.src===AutoCompleteBase.UI_SRC,delay,fire,minQueryLength,query;if(!uiChange){self._inputNode.set(VALUE,newVal)}minQueryLength=self.get("minQueryLength");query=self._parseValue(newVal)||"";if(minQueryLength>=0&&query.length>=minQueryLength){if(uiChange){delay=self.get("queryDelay");fire=function(){self.fire(EVT_QUERY,{inputValue:newVal,query:query,src:e.src})};if(delay){clearTimeout(self._delay);self._delay=setTimeout(fire,delay)}else{fire()}}else{self._set(QUERY,query)}}else{clearTimeout(self._delay);self.fire(EVT_CLEAR,{prevVal:e.prevVal?self._parseValue(e.prevVal):null,src:e.src})}},_onInputBlur:function(e){var delim=this.get(QUERY_DELIMITER),delimPos,newVal,value;if(delim&&!this.get("allowTrailingDelimiter")){delim=Lang.trimRight(delim);value=newVal=this._inputNode.get(VALUE);if(delim){while((newVal=Lang.trimRight(newVal))&&(delimPos=newVal.length-delim.length)&&newVal.lastIndexOf(delim)===delimPos){newVal=newVal.substring(0,delimPos)}}else{newVal=Lang.trimRight(newVal)}if(newVal!==value){this.set(VALUE,newVal)}}},_onInputValueChange:function(e){var newVal=e.newVal;if(newVal!==this.get(VALUE)){this.set(VALUE,newVal,{src:AutoCompleteBase.UI_SRC})}},_onResponse:function(query,e){if(query===(this.get(QUERY)||"")){this._parseResponse(query||"",e.response,e.data)}},_defClearFn:function(){this._set(QUERY,null);this._set(RESULTS,[])},_defQueryFn:function(e){this.sendRequest(e.query)},_defResultsFn:function(e){this._set(RESULTS,e[RESULTS])}};AutoCompleteBase.ATTRS={allowBrowserAutocomplete:{value:false},allowTrailingDelimiter:{value:false},enableCache:{lazyAdd:false,setter:"_setEnableCache",value:true},inputNode:{setter:Y.one,writeOnce:"initOnly"},maxResults:{value:0},minQueryLength:{value:1},query:{readOnly:true,value:null},queryDelay:{value:100},queryDelimiter:{value:null},requestTemplate:{setter:"_setRequestTemplate",value:null},resultFilters:{setter:"_setResultFilters",value:[]},resultFormatter:{validator:_FUNCTION_VALIDATOR,value:null},resultHighlighter:{setter:"_setResultHighlighter",value:null},resultListLocator:{setter:"_setLocator",value:null},results:{readOnly:true,value:[]},resultTextLocator:{setter:"_setLocator",value:null},source:{setter:"_setSource",value:null},sourceType:{value:null},tokenInput:{readOnly:true},value:{value:""}};AutoCompleteBase._buildCfg={aggregates:["SOURCE_TYPES"],statics:["UI_SRC"]};AutoCompleteBase.SOURCE_TYPES={array:"_createArraySource","function":"_createFunctionSource",object:"_createObjectSource"};AutoCompleteBase.UI_SRC=Y.Widget&&Y.Widget.UI_SRC||"ui";Y.AutoCompleteBase=AutoCompleteBase},"3.9.1",{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]});YUI.add("autocomplete-sources",function(Y,NAME){var ACBase=Y.AutoCompleteBase,Lang=Y.Lang,_SOURCE_SUCCESS="_sourceSuccess",MAX_RESULTS="maxResults",REQUEST_TEMPLATE="requestTemplate",RESULT_LIST_LOCATOR="resultListLocator";Y.mix(ACBase.prototype,{_YQL_SOURCE_REGEX:/^(?:select|set|use)\s+/i,_beforeCreateObjectSource:function(source){if(source instanceof Y.Node&&source.get("nodeName").toLowerCase()==="select"){return this._createSelectSource(source)}if(Y.JSONPRequest&&source instanceof Y.JSONPRequest){return this._createJSONPSource(source)}return this._createObjectSource(source)},_createIOSource:function(source){var ioSource={type:"io"},that=this,ioRequest,lastRequest,loading;function _sendRequest(request){var cacheKey=request.request;if(that._cache&&cacheKey in that._cache){that[_SOURCE_SUCCESS](that._cache[cacheKey],request);return}if(ioRequest&&ioRequest.isInProgress()){ioRequest.abort()}ioRequest=Y.io(that._getXHRUrl(source,request),{on:{success:function(tid,response){var data;try{data=Y.JSON.parse(response.responseText)}catch(ex){Y.error("JSON parse error",ex)}if(data){that._cache&&(that._cache[cacheKey]=data);that[_SOURCE_SUCCESS](data,request)}}}})}ioSource.sendRequest=function(request){lastRequest=request;if(loading){return}loading=true;Y.use("io-base","json-parse",function(){ioSource.sendRequest=_sendRequest;_sendRequest(lastRequest)})};return ioSource},_createJSONPSource:function(source){var jsonpSource={type:"jsonp"},that=this,lastRequest,loading;function _sendRequest(request){var cacheKey=request.request,query=request.query;if(that._cache&&cacheKey in that._cache){that[_SOURCE_SUCCESS](that._cache[cacheKey],request);return}source._config.on.success=function(data){that._cache&&(that._cache[cacheKey]=data);that[_SOURCE_SUCCESS](data,request)};source.send(query)}jsonpSource.sendRequest=function(request){lastRequest=request;if(loading){return}loading=true;Y.use("jsonp",function(){if(!(source instanceof Y.JSONPRequest)){source=new Y.JSONPRequest(source,{format:Y.bind(that._jsonpFormatter,that)})}jsonpSource.sendRequest=_sendRequest;_sendRequest(lastRequest)})};return jsonpSource},_createSelectSource:function(source){var that=this;return{type:"select",sendRequest:function(request){var options=[];source.get("options").each(function(option){options.push({html:option.get("innerHTML"),index:option.get("index"),node:option,selected:option.get("selected"),text:option.get("text"),value:option.get("value")})});that[_SOURCE_SUCCESS](options,request)}}},_createStringSource:function(source){if(this._YQL_SOURCE_REGEX.test(source)){return this._createYQLSource(source)}else if(source.indexOf("{callback}")!==-1){return this._createJSONPSource(source)}else{return this._createIOSource(source)}},_createYQLSource:function(source){var that=this,yqlSource={type:"yql"},lastRequest,loading,yqlRequest;if(!that.get(RESULT_LIST_LOCATOR)){that.set(RESULT_LIST_LOCATOR,that._defaultYQLLocator)}function _sendRequest(request){var query=request.query,env=that.get("yqlEnv"),maxResults=that.get(MAX_RESULTS),callback,opts,yqlQuery;yqlQuery=Lang.sub(source,{maxResults:maxResults>0?maxResults:1e3,request:request.request,query:query});if(that._cache&&yqlQuery in that._cache){that[_SOURCE_SUCCESS](that._cache[yqlQuery],request);return}callback=function(data){that._cache&&(that._cache[yqlQuery]=data);that[_SOURCE_SUCCESS](data,request)};opts={proto:that.get("yqlProtocol")};if(yqlRequest){yqlRequest._callback=callback;yqlRequest._opts=opts;yqlRequest._params.q=yqlQuery;if(env){yqlRequest._params.env=env}}else{yqlRequest=new Y.YQLRequest(yqlQuery,{on:{success:callback},allowCache:false},env?{env:env}:null,opts)}yqlRequest.send()}yqlSource.sendRequest=function(request){lastRequest=request;if(!loading){loading=true;Y.use("yql",function(){yqlSource.sendRequest=_sendRequest;_sendRequest(lastRequest)})}};return yqlSource},_defaultYQLLocator:function(response){var results=response&&response.query&&response.query.results,values;if(results&&Lang.isObject(results)){values=Y.Object.values(results)||[];results=values.length===1?values[0]:values;if(!Lang.isArray(results)){results=[results]}}else{results=[]}return results},_getXHRUrl:function(url,request){var maxResults=this.get(MAX_RESULTS);if(request.query!==request.request){url+=request.request}return Lang.sub(url,{maxResults:maxResults>0?maxResults:1e3,query:encodeURIComponent(request.query)})},_jsonpFormatter:function(url,proxy,query){var maxResults=this.get(MAX_RESULTS),requestTemplate=this.get(REQUEST_TEMPLATE);if(requestTemplate){url+=requestTemplate(query)}return Lang.sub(url,{callback:proxy,maxResults:maxResults>0?maxResults:1e3,query:encodeURIComponent(query)})}});Y.mix(ACBase.ATTRS,{yqlEnv:{value:null},yqlProtocol:{value:"http"}});Y.mix(ACBase.SOURCE_TYPES,{io:"_createIOSource",jsonp:"_createJSONPSource",object:"_beforeCreateObjectSource",select:"_createSelectSource",string:"_createStringSource",yql:"_createYQLSource"},true)},"3.9.1",{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]});YUI.add("lang/autocomplete-list",function(e){e.Intl.add("autocomplete-list","",{item_selected:"{item} selected.",items_available:"Suggestions are available. Use the up and down arrow keys to select suggestions."})},"3.9.1");YUI.add("selector-css2",function(Y,NAME){var PARENT_NODE="parentNode",TAG_NAME="tagName",ATTRIBUTES="attributes",COMBINATOR="combinator",PSEUDOS="pseudos",Selector=Y.Selector,SelectorCSS2={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:true,_isXML:function(){var isXML=Y.config.doc.createElement("div").tagName!=="DIV";return isXML}(),shorthand:{"\\#(-?[_a-z0-9]+[-\\w\\uE000]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w\\uE000]*)":"[className~=$1]"},operators:{"":function(node,attr){return Y.DOM.getAttribute(node,attr)!==""},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(node){return Y.DOM._children(node[PARENT_NODE])[0]===node}},_bruteQuery:function(selector,root,firstOnly){var ret=[],nodes=[],tokens=Selector._tokenize(selector),token=tokens[tokens.length-1],rootDoc=Y.DOM._getDoc(root),child,id,className,tagName;if(token){id=token.id;className=token.className;tagName=token.tagName||"*";if(root.getElementsByTagName){if(id&&(root.all||root.nodeType===9||Y.DOM.inDoc(root))){nodes=Y.DOM.allById(id,root)}else if(className){nodes=root.getElementsByClassName(className)}else{nodes=root.getElementsByTagName(tagName)}}else{child=root.firstChild;while(child){if(child.tagName&&(tagName==="*"||child.tagName===tagName)){nodes.push(child)}child=child.nextSibling||child.firstChild}}if(nodes.length){ret=Selector._filterNodes(nodes,tokens,firstOnly)}}return ret},_filterNodes:function(nodes,tokens,firstOnly){var i=0,j,len=tokens.length,n=len-1,result=[],node=nodes[0],tmpNode=node,getters=Y.Selector.getters,operator,combinator,token,path,pass,value,tests,test;for(i=0;tmpNode=node=nodes[i++];){n=len-1;path=null;testLoop:while(tmpNode&&tmpNode.tagName){token=tokens[n];tests=token.tests;j=tests.length;if(j&&!pass){while(test=tests[--j]){operator=test[1];if(getters[test[0]]){value=getters[test[0]](tmpNode,test[0])}else{value=tmpNode[test[0]];if(test[0]==="tagName"&&!Selector._isXML){value=value.toUpperCase()}if(typeof value!="string"&&value!==undefined&&value.toString){value=value.toString()}else if(value===undefined&&tmpNode.getAttribute){value=tmpNode.getAttribute(test[0],2)}}if(operator==="="&&value!==test[2]||typeof operator!=="string"&&operator.test&&!operator.test(value)||!operator.test&&typeof operator==="function"&&!operator(tmpNode,test[0],test[2])){if(tmpNode=tmpNode[path]){while(tmpNode&&(!tmpNode.tagName||token.tagName&&token.tagName!==tmpNode.tagName)){tmpNode=tmpNode[path]}}continue testLoop}}}n--;if(!pass&&(combinator=token.combinator)){path=combinator.axis;tmpNode=tmpNode[path];while(tmpNode&&!tmpNode.tagName){tmpNode=tmpNode[path]}if(combinator.direct){path=null}}else{result.push(node);if(firstOnly){return result}break}}}node=tmpNode=null;return result},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:true},"+":{axis:"previousSibling",direct:true}},_parsers:[{name:ATTRIBUTES,re:/^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,fn:function(match,token){var operator=match[2]||"",operators=Selector.operators,escVal=match[3]?match[3].replace(/\\/g,""):"",test;if(match[1]==="id"&&operator==="="||match[1]==="className"&&Y.config.doc.documentElement.getElementsByClassName&&(operator==="~="||operator==="=")){token.prefilter=match[1];match[3]=escVal;token[match[1]]=match[1]==="id"?match[3]:escVal}if(operator in operators){test=operators[operator];if(typeof test==="string"){match[3]=escVal.replace(Selector._reRegExpTokens,"\\$1");test=new RegExp(test.replace("{val}",match[3]))}match[2]=test}if(!token.last||token.prefilter!==match[1]){return match.slice(1)}}},{name:TAG_NAME,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(match,token){var tag=match[1];if(!Selector._isXML){tag=tag.toUpperCase()}token.tagName=tag;if(tag!=="*"&&(!token.last||token.prefilter)){return[TAG_NAME,"=",tag]}if(!token.prefilter){token.prefilter="tagName"}}},{name:COMBINATOR,re:/^\s*([>+~]|\s)\s*/,fn:function(match,token){}},{name:PSEUDOS,re:/^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,fn:function(match,token){var test=Selector[PSEUDOS][match[1]];if(test){if(match[2]){match[2]=match[2].replace(/\\/g,"")}return[match[2],test]}else{return false}}}],_getToken:function(token){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]}},_tokenize:function(selector){selector=selector||"";selector=Selector._parseSelector(Y.Lang.trim(selector));var token=Selector._getToken(),query=selector,tokens=[],found=false,match,test,i,parser;outer:do{found=false;for(i=0;parser=Selector._parsers[i++];){if(match=parser.re.exec(selector)){if(parser.name!==COMBINATOR){token.selector=selector}selector=selector.replace(match[0],"");if(!selector.length){token.last=true}if(Selector._attrFilters[match[1]]){match[1]=Selector._attrFilters[match[1]]}test=parser.fn(match,token);if(test===false){found=false;break outer}else if(test){token.tests.push(test)}if(!selector.length||parser.name===COMBINATOR){tokens.push(token);token=Selector._getToken(token);if(parser.name===COMBINATOR){token.combinator=Y.Selector.combinators[match[1]]}}found=true}}}while(found&&selector.length);if(!found||selector.length){tokens=[]}return tokens},_replaceMarkers:function(selector){selector=selector.replace(/\[/g,"");selector=selector.replace(/\]/g,"");selector=selector.replace(/\(/g,"");selector=selector.replace(/\)/g,"");return selector},_replaceShorthand:function(selector){var shorthand=Y.Selector.shorthand,re;for(re in shorthand){if(shorthand.hasOwnProperty(re)){selector=selector.replace(new RegExp(re,"gi"),shorthand[re])}}return selector},_parseSelector:function(selector){var replaced=Y.Selector._replaceSelector(selector),selector=replaced.selector;selector=Y.Selector._replaceShorthand(selector);selector=Y.Selector._restore("attr",selector,replaced.attrs);selector=Y.Selector._restore("pseudo",selector,replaced.pseudos);selector=Y.Selector._replaceMarkers(selector);selector=Y.Selector._restore("esc",selector,replaced.esc);return selector},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(node,attr){return Y.DOM.getAttribute(node,attr)},id:function(node,attr){return Y.DOM.getId(node)}}};Y.mix(Y.Selector,SelectorCSS2,true);Y.Selector.getters.src=Y.Selector.getters.rel=Y.Selector.getters.href;if(Y.Selector.useNative&&Y.config.doc.querySelector){Y.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]"}},"3.9.1",{requires:["selector-native"]});YUI.add("selector-css3",function(Y,NAME){Y.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/;Y.Selector._getNth=function(node,expr,tag,reverse){Y.Selector._reNth.test(expr);var a=parseInt(RegExp.$1,10),n=RegExp.$2,oddeven=RegExp.$3,b=parseInt(RegExp.$4,10)||0,result=[],siblings=Y.DOM._children(node.parentNode,tag),op;if(oddeven){a=2;op="+";n="n";b=oddeven==="odd"?1:0}else if(isNaN(a)){a=n?1:0}if(a===0){if(reverse){b=siblings.length-b+1}if(siblings[b-1]===node){return true}else{return false}}else if(a<0){reverse=!!reverse;a=Math.abs(a)}if(!reverse){for(var i=b-1,len=siblings.length;i<len;i+=a){if(i>=0&&siblings[i]===node){return true}}}else{for(var i=siblings.length-b,len=siblings.length;i>=0;i-=a){if(i<len&&siblings[i]===node){return true}}}return false};Y.mix(Y.Selector.pseudos,{root:function(node){return node===node.ownerDocument.documentElement},"nth-child":function(node,expr){return Y.Selector._getNth(node,expr)},"nth-last-child":function(node,expr){return Y.Selector._getNth(node,expr,null,true)},"nth-of-type":function(node,expr){return Y.Selector._getNth(node,expr,node.tagName)},"nth-last-of-type":function(node,expr){return Y.Selector._getNth(node,expr,node.tagName,true)},"last-child":function(node){var children=Y.DOM._children(node.parentNode);return children[children.length-1]===node},"first-of-type":function(node){return Y.DOM._children(node.parentNode,node.tagName)[0]===node},"last-of-type":function(node){var children=Y.DOM._children(node.parentNode,node.tagName);return children[children.length-1]===node},"only-child":function(node){var children=Y.DOM._children(node.parentNode);return children.length===1&&children[0]===node},"only-of-type":function(node){var children=Y.DOM._children(node.parentNode,node.tagName);return children.length===1&&children[0]===node},empty:function(node){return node.childNodes.length===0},not:function(node,expr){return!Y.Selector.test(node,expr)},contains:function(node,expr){var text=node.innerText||node.textContent||"";return text.indexOf(expr)>-1},checked:function(node){return node.checked===true||node.selected===true},enabled:function(node){return node.disabled!==undefined&&!node.disabled},disabled:function(node){return node.disabled}});Y.mix(Y.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"});Y.Selector.combinators["~"]={axis:"previousSibling"}},"3.9.1",{requires:["selector-native","selector-css2"]});YUI.add("shim-plugin",function(Y,NAME){function Shim(config){this.init(config)}Shim.CLASS_NAME="yui-node-shim";Shim.TEMPLATE='<iframe class="'+Shim.CLASS_NAME+'" frameborder="0" title="Node Stacking Shim"'+'src="javascript:false" tabindex="-1" role="presentation"'+'style="position:absolute; z-index:-1;"></iframe>';Shim.prototype={init:function(config){this._host=config.host;this.initEvents();this.insert();this.sync()},initEvents:function(){this._resizeHandle=this._host.on("resize",this.sync,this)},getShim:function(){return this._shim||(this._shim=Y.Node.create(Shim.TEMPLATE,this._host.get("ownerDocument")))},insert:function(){var node=this._host;this._shim=node.insertBefore(this.getShim(),node.get("firstChild"))},sync:function(){var shim=this._shim,node=this._host;if(shim){shim.setAttrs({width:node.getStyle("width"),height:node.getStyle("height")})}},destroy:function(){var shim=this._shim;if(shim){shim.remove(true)}this._resizeHandle.detach()}};Shim.NAME="Shim";Shim.NS="shim";Y.namespace("Plugin");Y.Plugin.Shim=Shim},"3.9.1",{requires:["node-style","node-pluginhost"]});YUI.add("autocomplete-list",function(Y,NAME){var Lang=Y.Lang,Node=Y.Node,YArray=Y.Array,useShim=Y.UA.ie&&Y.UA.ie<7,KEY_TAB=9,_CLASS_ITEM="_CLASS_ITEM",_CLASS_ITEM_ACTIVE="_CLASS_ITEM_ACTIVE",_CLASS_ITEM_HOVER="_CLASS_ITEM_HOVER",_SELECTOR_ITEM="_SELECTOR_ITEM",ACTIVE_ITEM="activeItem",ALWAYS_SHOW_LIST="alwaysShowList",CIRCULAR="circular",HOVERED_ITEM="hoveredItem",ID="id",ITEM="item",LIST="list",RESULT="result",RESULTS="results",VISIBLE="visible",WIDTH="width",EVT_SELECT="select",List=Y.Base.create("autocompleteList",Y.Widget,[Y.AutoCompleteBase,Y.WidgetPosition,Y.WidgetPositionAlign],{ARIA_TEMPLATE:"<div/>",ITEM_TEMPLATE:"<li/>",LIST_TEMPLATE:"<ul/>",UI_EVENTS:function(){var uiEvents=Y.merge(Y.Node.DOM_EVENTS);delete uiEvents.valuechange;delete uiEvents.valueChange;return uiEvents}(),initializer:function(){var inputNode=this.get("inputNode");if(!inputNode){Y.error("No inputNode specified.");return}this._inputNode=inputNode;this._listEvents=[];this.DEF_PARENT_NODE=inputNode.get("parentNode");this[_CLASS_ITEM]=this.getClassName(ITEM);this[_CLASS_ITEM_ACTIVE]=this.getClassName(ITEM,"active");this[_CLASS_ITEM_HOVER]=this.getClassName(ITEM,"hover");this[_SELECTOR_ITEM]="."+this[_CLASS_ITEM];this.publish(EVT_SELECT,{defaultFn:this._defSelectFn})},destructor:function(){while(this._listEvents.length){this._listEvents.pop().detach()}if(this._ariaNode){this._ariaNode.remove().destroy(true)}},bindUI:function(){this._bindInput();this._bindList()},renderUI:function(){var ariaNode=this._createAriaNode(),boundingBox=this.get("boundingBox"),contentBox=this.get("contentBox"),inputNode=this._inputNode,listNode=this._createListNode(),parentNode=inputNode.get("parentNode");inputNode.addClass(this.getClassName("input")).setAttrs({"aria-autocomplete":LIST,"aria-expanded":false,"aria-owns":listNode.get("id")});parentNode.append(ariaNode);if(useShim){boundingBox.plug(Y.Plugin.Shim)}this._ariaNode=ariaNode;this._boundingBox=boundingBox;this._contentBox=contentBox;this._listNode=listNode;this._parentNode=parentNode},syncUI:function(){this._syncResults();this._syncVisibility()},hide:function(){return this.get(ALWAYS_SHOW_LIST)?this:this.set(VISIBLE,false)},selectItem:function(itemNode,originEvent){if(itemNode){if(!itemNode.hasClass(this[_CLASS_ITEM])){return this}}else{itemNode=this.get(ACTIVE_ITEM);if(!itemNode){return this}}this.fire(EVT_SELECT,{itemNode:itemNode,originEvent:originEvent||null,result:itemNode.getData(RESULT)});return this},_activateNextItem:function(){var item=this.get(ACTIVE_ITEM),nextItem;if(item){nextItem=item.next(this[_SELECTOR_ITEM])||(this.get(CIRCULAR)?null:item)}else{nextItem=this._getFirstItemNode()}this.set(ACTIVE_ITEM,nextItem);return this},_activatePrevItem:function(){var item=this.get(ACTIVE_ITEM),prevItem=item?item.previous(this[_SELECTOR_ITEM]):this.get(CIRCULAR)&&this._getLastItemNode();this.set(ACTIVE_ITEM,prevItem||null);return this},_add:function(items){var itemNodes=[];YArray.each(Lang.isArray(items)?items:[items],function(item){itemNodes.push(this._createItemNode(item).setData(RESULT,item))},this);itemNodes=Y.all(itemNodes);this._listNode.append(itemNodes.toFrag());return itemNodes},_ariaSay:function(stringId,subs){var message=this.get("strings."+stringId);this._ariaNode.set("text",subs?Lang.sub(message,subs):message)},_bindInput:function(){var inputNode=this._inputNode,alignNode,alignWidth,tokenInput;if(this.get("align")===null){tokenInput=this.get("tokenInput");alignNode=tokenInput&&tokenInput.get("boundingBox")||inputNode;this.set("align",{node:alignNode,points:["tl","bl"]});if(!this.get(WIDTH)&&(alignWidth=alignNode.get("offsetWidth"))){this.set(WIDTH,alignWidth)}}this._listEvents=this._listEvents.concat([inputNode.after("blur",this._afterListInputBlur,this),inputNode.after("focus",this._afterListInputFocus,this)])},_bindList:function(){this._listEvents=this._listEvents.concat([Y.one("doc").after("click",this._afterDocClick,this),Y.one("win").after("windowresize",this._syncPosition,this),this.after({mouseover:this._afterMouseOver,mouseout:this._afterMouseOut,activeItemChange:this._afterActiveItemChange,alwaysShowListChange:this._afterAlwaysShowListChange,hoveredItemChange:this._afterHoveredItemChange,resultsChange:this._afterResultsChange,visibleChange:this._afterVisibleChange}),this._listNode.delegate("click",this._onItemClick,this[_SELECTOR_ITEM],this)])},_clear:function(){this.set(ACTIVE_ITEM,null);this._set(HOVERED_ITEM,null);this._listNode.get("children").remove(true)},_createAriaNode:function(){var ariaNode=Node.create(this.ARIA_TEMPLATE);return ariaNode.addClass(this.getClassName("aria")).setAttrs({"aria-live":"polite",role:"status"})},_createItemNode:function(result){var itemNode=Node.create(this.ITEM_TEMPLATE);return itemNode.addClass(this[_CLASS_ITEM]).setAttrs({id:Y.stamp(itemNode),role:"option"}).setAttribute("data-text",result.text).append(result.display)},_createListNode:function(){var listNode=this.get("listNode")||Node.create(this.LIST_TEMPLATE);listNode.addClass(this.getClassName(LIST)).setAttrs({id:Y.stamp(listNode),role:"listbox"});this._set("listNode",listNode);this.get("contentBox").append(listNode);return listNode},_getFirstItemNode:function(){return this._listNode.one(this[_SELECTOR_ITEM])},_getLastItemNode:function(){return this._listNode.one(this[_SELECTOR_ITEM]+":last-child")},_syncPosition:function(){this._syncUIPosAlign();this._syncShim()},_syncResults:function(results){if(!results){results=this.get(RESULTS)}this._clear();if(results.length){this._add(results);this._ariaSay("items_available")}this._syncPosition();if(this.get("activateFirstItem")&&!this.get(ACTIVE_ITEM)){this.set(ACTIVE_ITEM,this._getFirstItemNode())}},_syncShim:useShim?function(){var shim=this._boundingBox.shim;if(shim){shim.sync()}}:function(){},_syncVisibility:function(visible){if(this.get(ALWAYS_SHOW_LIST)){visible=true;this.set(VISIBLE,visible)}if(typeof visible==="undefined"){visible=this.get(VISIBLE)}this._inputNode.set("aria-expanded",visible);this._boundingBox.set("aria-hidden",!visible);if(visible){this._syncPosition()}else{this.set(ACTIVE_ITEM,null);this._set(HOVERED_ITEM,null);this._boundingBox.get("offsetWidth")}if(Y.UA.ie===7){Y.one("body").addClass("yui3-ie7-sucks").removeClass("yui3-ie7-sucks")}},_afterActiveItemChange:function(e){var inputNode=this._inputNode,newVal=e.newVal,prevVal=e.prevVal,node;if(prevVal&&prevVal._node){prevVal.removeClass(this[_CLASS_ITEM_ACTIVE])}if(newVal){newVal.addClass(this[_CLASS_ITEM_ACTIVE]);inputNode.set("aria-activedescendant",newVal.get(ID))}else{inputNode.removeAttribute("aria-activedescendant")}if(this.get("scrollIntoView")){node=newVal||inputNode;if(!node.inRegion(Y.DOM.viewportRegion(),true)||!node.inRegion(this._contentBox,true)){node.scrollIntoView()}}},_afterAlwaysShowListChange:function(e){this.set(VISIBLE,e.newVal||this.get(RESULTS).length>0)},_afterDocClick:function(e){var boundingBox=this._boundingBox,target=e.target;
if(target!==this._inputNode&&target!==boundingBox&&target.ancestor("#"+boundingBox.get("id"),true)){this.hide()}},_afterHoveredItemChange:function(e){var newVal=e.newVal,prevVal=e.prevVal;if(prevVal){prevVal.removeClass(this[_CLASS_ITEM_HOVER])}if(newVal){newVal.addClass(this[_CLASS_ITEM_HOVER])}},_afterListInputBlur:function(){this._listInputFocused=false;if(this.get(VISIBLE)&&!this._mouseOverList&&(this._lastInputKey!==KEY_TAB||!this.get("tabSelect")||!this.get(ACTIVE_ITEM))){this.hide()}},_afterListInputFocus:function(){this._listInputFocused=true},_afterMouseOver:function(e){var itemNode=e.domEvent.target.ancestor(this[_SELECTOR_ITEM],true);this._mouseOverList=true;if(itemNode){this._set(HOVERED_ITEM,itemNode)}},_afterMouseOut:function(){this._mouseOverList=false;this._set(HOVERED_ITEM,null)},_afterResultsChange:function(e){this._syncResults(e.newVal);if(!this.get(ALWAYS_SHOW_LIST)){this.set(VISIBLE,!!e.newVal.length)}},_afterVisibleChange:function(e){this._syncVisibility(!!e.newVal)},_onItemClick:function(e){var itemNode=e.currentTarget;this.set(ACTIVE_ITEM,itemNode);this.selectItem(itemNode,e)},_defSelectFn:function(e){var text=e.result.text;this._inputNode.focus();this._updateValue(text);this._ariaSay("item_selected",{item:text});this.hide()}},{ATTRS:{activateFirstItem:{value:false},activeItem:{setter:Y.one,value:null},alwaysShowList:{value:false},circular:{value:true},hoveredItem:{readOnly:true,value:null},listNode:{writeOnce:"initOnly",value:null},scrollIntoView:{value:false},strings:{valueFn:function(){return Y.Intl.get("autocomplete-list")}},tabSelect:{value:true},visible:{value:false}},CSS_PREFIX:Y.ClassNameManager.getClassName("aclist")});Y.AutoCompleteList=List;Y.AutoComplete=List},"3.9.1",{lang:["en","es"],requires:["autocomplete-base","event-resize","node-screen","selector-css3","shim-plugin","widget","widget-position","widget-position-align"],skinnable:true});YUI.add("autocomplete-list-keys",function(Y,NAME){var KEY_DOWN=40,KEY_ENTER=13,KEY_ESC=27,KEY_TAB=9,KEY_UP=38;function ListKeys(){Y.before(this._bindKeys,this,"bindUI");this._initKeys()}ListKeys.prototype={_initKeys:function(){var keys={},keysVisible={};keys[KEY_DOWN]=this._keyDown;keysVisible[KEY_ENTER]=this._keyEnter;keysVisible[KEY_ESC]=this._keyEsc;keysVisible[KEY_TAB]=this._keyTab;keysVisible[KEY_UP]=this._keyUp;this._keys=keys;this._keysVisible=keysVisible},destructor:function(){this._unbindKeys()},_bindKeys:function(){this._keyEvents=this._inputNode.on("keydown",this._onInputKey,this)},_unbindKeys:function(){this._keyEvents&&this._keyEvents.detach();this._keyEvents=null},_keyDown:function(){if(this.get("visible")){this._activateNextItem()}else{this.show()}},_keyEnter:function(e){var item=this.get("activeItem");if(item){this.selectItem(item,e)}else{return false}},_keyEsc:function(){this.hide()},_keyTab:function(e){var item;if(this.get("tabSelect")){item=this.get("activeItem");if(item){this.selectItem(item,e);return true}}return false},_keyUp:function(){this._activatePrevItem()},_onInputKey:function(e){var handler,keyCode=e.keyCode;this._lastInputKey=keyCode;if(this.get("results").length){handler=this._keys[keyCode];if(!handler&&this.get("visible")){handler=this._keysVisible[keyCode]}if(handler){if(handler.call(this,e)!==false){e.preventDefault()}}}}};Y.Base.mix(Y.AutoCompleteList,[ListKeys])},"3.9.1",{requires:["autocomplete-list","base-build"]});YUI.add("autocomplete-plugin",function(Y,NAME){var Plugin=Y.Plugin;function ACListPlugin(config){config.inputNode=config.host;if(!config.render&&config.render!==false){config.render=true}ACListPlugin.superclass.constructor.apply(this,arguments)}Y.extend(ACListPlugin,Y.AutoCompleteList,{},{NAME:"autocompleteListPlugin",NS:"ac",CSS_PREFIX:Y.ClassNameManager.getClassName("aclist")});Plugin.AutoComplete=ACListPlugin;Plugin.AutoCompleteList=ACListPlugin},"3.9.1",{requires:["autocomplete-list","node-pluginhost"]});YUI.add("anim-color",function(Y,NAME){var NUM=Number;Y.Anim.getUpdatedColorValue=function(fromColor,toColor,elapsed,duration,fn){fromColor=Y.Color.re_RGB.exec(Y.Color.toRGB(fromColor));toColor=Y.Color.re_RGB.exec(Y.Color.toRGB(toColor));if(!fromColor||fromColor.length<3||!toColor||toColor.length<3){Y.error("invalid from or to passed to color behavior")}return"rgb("+[Math.floor(fn(elapsed,NUM(fromColor[1]),NUM(toColor[1])-NUM(fromColor[1]),duration)),Math.floor(fn(elapsed,NUM(fromColor[2]),NUM(toColor[2])-NUM(fromColor[2]),duration)),Math.floor(fn(elapsed,NUM(fromColor[3]),NUM(toColor[3])-NUM(fromColor[3]),duration))].join(", ")+")"};Y.Anim.behaviors.color={set:function(anim,att,from,to,elapsed,duration,fn){anim._node.setStyle(att,Y.Anim.getUpdatedColorValue(from,to,elapsed,duration,fn))},get:function(anim,att){var val=anim._node.getComputedStyle(att);val=val==="transparent"?"rgb(255, 255, 255)":val;return val}};Y.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(v){Y.Anim.behaviors[v]=Y.Anim.behaviors.color})},"3.9.1",{requires:["anim-base"]});YUI.add("anim-xy",function(Y,NAME){var NUM=Number;Y.Anim.behaviors.xy={set:function(anim,att,from,to,elapsed,duration,fn){anim._node.setXY([fn(elapsed,NUM(from[0]),NUM(to[0])-NUM(from[0]),duration),fn(elapsed,NUM(from[1]),NUM(to[1])-NUM(from[1]),duration)])},get:function(anim){return anim._node.getXY()}}},"3.9.1",{requires:["anim-base","node-screen"]});YUI.add("anim-curve",function(Y,NAME){Y.Anim.behaviors.curve={set:function(anim,att,from,to,elapsed,duration,fn){from=from.slice.call(from);to=to.slice.call(to);var t=fn(elapsed,0,100,duration)/100;to.unshift(from);anim._node.setXY(Y.Anim.getBezier(to,t))},get:function(anim){return anim._node.getXY()}};Y.Anim.getBezier=function(points,t){var n=points.length,tmp=[],i,j;for(i=0;i<n;++i){tmp[i]=[points[i][0],points[i][1]]}for(j=1;j<n;++j){for(i=0;i<n-j;++i){tmp[i][0]=(1-t)*tmp[i][0]+t*tmp[parseInt(i+1,10)][0];tmp[i][1]=(1-t)*tmp[i][1]+t*tmp[parseInt(i+1,10)][1]}}return[tmp[0][0],tmp[0][1]]}},"3.9.1",{requires:["anim-xy"]});YUI.add("anim-easing",function(Y,NAME){var Easing={easeNone:function(t,b,c,d){return c*t/d+b},easeIn:function(t,b,c,d){return c*(t/=d)*t+b},easeOut:function(t,b,c,d){return-c*(t/=d)*(t-2)+b},easeBoth:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b}return-c/2*(--t*(t-2)-1)+b},easeInStrong:function(t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutStrong:function(t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeBothStrong:function(t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t+b}return-c/2*((t-=2)*t*t*t-2)+b},elasticIn:function(t,b,c,d,a,p){var s;if(t===0){return b}if((t/=d)===1){return b+c}if(!p){p=d*.3}if(!a||a<Math.abs(c)){a=c;s=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p))+b},elasticOut:function(t,b,c,d,a,p){var s;if(t===0){return b}if((t/=d)===1){return b+c}if(!p){p=d*.3}if(!a||a<Math.abs(c)){a=c;s=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*2*Math.PI/p)+c+b},elasticBoth:function(t,b,c,d,a,p){var s;if(t===0){return b}if((t/=d/2)===2){return b+c}if(!p){p=d*.3*1.5}if(!a||a<Math.abs(c)){a=c;s=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}if(t<1){return-.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)+b}return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)*.5+c+b},backIn:function(t,b,c,d,s){if(s===undefined){s=1.70158}if(t===d){t-=.001}return c*(t/=d)*t*((s+1)*t-s)+b},backOut:function(t,b,c,d,s){if(typeof s==="undefined"){s=1.70158}return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},backBoth:function(t,b,c,d,s){if(typeof s==="undefined"){s=1.70158}if((t/=d/2)<1){return c/2*t*t*(((s*=1.525)+1)*t-s)+b}return c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},bounceIn:function(t,b,c,d){return c-Y.Easing.bounceOut(d-t,0,c,d)+b},bounceOut:function(t,b,c,d){if((t/=d)<1/2.75){return c*7.5625*t*t+b}else if(t<2/2.75){return c*(7.5625*(t-=1.5/2.75)*t+.75)+b}else if(t<2.5/2.75){return c*(7.5625*(t-=2.25/2.75)*t+.9375)+b}return c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},bounceBoth:function(t,b,c,d){if(t<d/2){return Y.Easing.bounceIn(t*2,0,c,d)*.5+b}return Y.Easing.bounceOut(t*2-d,0,c,d)*.5+c*.5+b}};Y.Easing=Easing},"3.9.1",{requires:["anim-base"]});YUI.add("anim-node-plugin",function(Y,NAME){var NodeFX=function(config){config=config?Y.merge(config):{};config.node=config.host;NodeFX.superclass.constructor.apply(this,arguments)};NodeFX.NAME="nodefx";NodeFX.NS="fx";Y.extend(NodeFX,Y.Anim);Y.namespace("Plugin");Y.Plugin.NodeFX=NodeFX},"3.9.1",{requires:["node-pluginhost","anim-base"]});YUI.add("anim-scroll",function(Y,NAME){var NUM=Number;Y.Anim.behaviors.scroll={set:function(anim,att,from,to,elapsed,duration,fn){var node=anim._node,val=[fn(elapsed,NUM(from[0]),NUM(to[0])-NUM(from[0]),duration),fn(elapsed,NUM(from[1]),NUM(to[1])-NUM(from[1]),duration)];if(val[0]){node.set("scrollLeft",val[0])}if(val[1]){node.set("scrollTop",val[1])}},get:function(anim){var node=anim._node;return[node.get("scrollLeft"),node.get("scrollTop")]}}},"3.9.1",{requires:["anim-base"]});YUI.add("lang/datatype-date-format_en-US",function(e){e.Intl.add("datatype-date-format","en-US",{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a, %b %d, %Y %l:%M:%S %p %Z",p:["AM","PM"],P:["am","pm"],x:"%m/%d/%y",X:"%l:%M:%S %p"})},"3.9.1");YUI.add("parallel",function(Y,NAME){Y.Parallel=function(o){this.config=o||{};this.results=[];this.context=this.config.context||Y;this.total=0;this.finished=0};Y.Parallel.prototype={results:null,total:null,finished:null,add:function(fn){var self=this,index=self.total;self.total+=1;return function(){self.finished++;self.results[index]=fn&&fn.apply(self.context,arguments)||(arguments.length===1?arguments[0]:Y.Array(arguments));self.test()}},test:function(){var self=this;if(self.finished>=self.total&&self.callback){self.callback.call(self.context,self.results,self.data)}},done:function(callback,data){this.callback=callback;this.data=data;this.test()}}},"3.9.1",{requires:["yui-base"]});YUI.add("transition-timer",function(Y,NAME){var Transition=Y.Transition;Y.mix(Transition.prototype,{_start:function(){if(Transition.useNative){this._runNative()}else{this._runTimer()}},_runTimer:function(){var anim=this;anim._initAttrs();Transition._running[Y.stamp(anim)]=anim;anim._startTime=new Date;Transition._startTimer()},_endTimer:function(){var anim=this;delete Transition._running[Y.stamp(anim)];anim._startTime=null},_runFrame:function(){var t=new Date-this._startTime;this._runAttrs(t)},_runAttrs:function(time){var anim=this,node=anim._node,config=anim._config,uid=Y.stamp(node),attrs=Transition._nodeAttrs[uid],customAttr=Transition.behaviors,done=false,allDone=false,data,name,attribute,setter,elapsed,delay,d,t,i;for(name in attrs){if((attribute=attrs[name])&&attribute.transition===anim){d=attribute.duration;delay=attribute.delay;elapsed=(time-delay)/1e3;t=time;data={type:"propertyEnd",propertyName:name,config:config,elapsedTime:elapsed};setter=i in customAttr&&"set"in customAttr[i]?customAttr[i].set:Transition.DEFAULT_SETTER;done=t>=d;if(t>d){t=d}if(!delay||time>=delay){setter(anim,name,attribute.from,attribute.to,t-delay,d-delay,attribute.easing,attribute.unit);if(done){delete attrs[name];anim._count--;if(config[name]&&config[name].on&&config[name].on.end){config[name].on.end.call(Y.one(node),data)}if(!allDone&&anim._count<=0){allDone=true;anim._end(elapsed);anim._endTimer()}}}}}},_initAttrs:function(){var anim=this,customAttr=Transition.behaviors,uid=Y.stamp(anim._node),attrs=Transition._nodeAttrs[uid],attribute,duration,delay,easing,val,name,mTo,mFrom,unit,begin,end;for(name in attrs){if((attribute=attrs[name])&&attribute.transition===anim){duration=attribute.duration*1e3;delay=attribute.delay*1e3;easing=attribute.easing;val=attribute.value;if(name in anim._node.style||name in Y.DOM.CUSTOM_STYLES){begin=name in customAttr&&"get"in customAttr[name]?customAttr[name].get(anim,name):Transition.DEFAULT_GETTER(anim,name);mFrom=Transition.RE_UNITS.exec(begin);mTo=Transition.RE_UNITS.exec(val);begin=mFrom?mFrom[1]:begin;end=mTo?mTo[1]:val;unit=mTo?mTo[2]:mFrom?mFrom[2]:"";if(!unit&&Transition.RE_DEFAULT_UNIT.test(name)){unit=Transition.DEFAULT_UNIT}if(typeof easing==="string"){if(easing.indexOf("cubic-bezier")>-1){easing=easing.substring(13,easing.length-1).split(",")}else if(Transition.easings[easing]){easing=Transition.easings[easing]}}attribute.from=Number(begin);attribute.to=Number(end);attribute.unit=unit;attribute.easing=easing;attribute.duration=duration+delay;attribute.delay=delay}else{delete attrs[name];anim._count--}}}},destroy:function(){this.detachAll();this._node=null}},true);Y.mix(Y.Transition,{_runtimeAttrs:{},RE_DEFAULT_UNIT:/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,DEFAULT_UNIT:"px",intervalTime:20,behaviors:{left:{get:function(anim,attr){return Y.DOM._getAttrOffset(anim._node,attr)}}},DEFAULT_SETTER:function(anim,att,from,to,elapsed,duration,fn,unit){from=Number(from);to=Number(to);var node=anim._node,val=Transition.cubicBezier(fn,elapsed/duration);val=from+val[0]*(to-from);if(node){if(att in node.style||att in Y.DOM.CUSTOM_STYLES){unit=unit||"";Y.DOM.setStyle(node,att,val+unit)}}else{anim._end()}},DEFAULT_GETTER:function(anim,att){var node=anim._node,val="";if(att in node.style||att in Y.DOM.CUSTOM_STYLES){val=Y.DOM.getComputedStyle(node,att)}return val},_startTimer:function(){if(!Transition._timer){Transition._timer=setInterval(Transition._runFrame,Transition.intervalTime)}},_stopTimer:function(){clearInterval(Transition._timer);Transition._timer=null},_runFrame:function(){var done=true,anim;for(anim in Transition._running){if(Transition._running[anim]._runFrame){done=false;Transition._running[anim]._runFrame()}}if(done){Transition._stopTimer()}},cubicBezier:function(p,t){var x0=0,y0=0,x1=p[0],y1=p[1],x2=p[2],y2=p[3],x3=1,y3=0,A=x3-3*x2+3*x1-x0,B=3*x2-6*x1+3*x0,C=3*x1-3*x0,D=x0,E=y3-3*y2+3*y1-y0,F=3*y2-6*y1+3*y0,G=3*y1-3*y0,H=y0,x=((A*t+B)*t+C)*t+D,y=((E*t+F)*t+G)*t+H;return[x,y]},easings:{ease:[.25,0,1,.25],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},_running:{},_timer:null,RE_UNITS:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/},true);Transition.behaviors.top=Transition.behaviors.bottom=Transition.behaviors.right=Transition.behaviors.left;Y.Transition=Transition},"3.9.1",{requires:["transition"]});YUI.add("app-transitions-native",function(Y,NAME){var AppTransitions=Y.App.Transitions;function AppTransitionsNative(){}AppTransitionsNative.prototype={initializer:function(){this._transitioning=false;this._viewTransitionQueue=[];Y.Do.before(this._queueActiveView,this,"_uiSetActiveView")},_dequeueActiveView:function(){var queue=this._viewTransitionQueue,transition=queue.shift(),options;if(transition){if(queue.length){options=Y.merge(transition[2],{transition:false});transition.splice(2,1,options)}this._uiTransitionActiveView.apply(this,transition)}},_getFx:function(newView,oldView,transition){var fx=AppTransitions.FX,transitions=this.get("transitions");if(transition===false||!transitions){return null}if(transition){return fx[transition]}if(this._isChildView(newView,oldView)){return fx[transitions.toChild]}if(this._isParentView(newView,oldView)){return fx[transitions.toParent]}return fx[transitions.navigate]},_queueActiveView:function(){var args=Y.Array(arguments,0,true);this._viewTransitionQueue.push(args);if(!this._transitioning){this._dequeueActiveView()}return new Y.Do.Prevent},_uiTransitionActiveView:function(newView,oldView,options){options||(options={});var callback=options.callback,container,transitioning,isChild,isParent,prepend,fx,fxConfig,transitions;if(newView===oldView){callback&&callback.call(this,newView);this._transitioning=false;return this._dequeueActiveView()}fx=this._getFx(newView,oldView,options.transition);isChild=this._isChildView(newView,oldView);isParent=!isChild&&this._isParentView(newView,oldView);prepend=!!options.prepend||isParent;if(!fx){this._attachView(newView,prepend);this._detachView(oldView);callback&&callback.call(this,newView);this._transitioning=false;return this._dequeueActiveView()}this._transitioning=true;container=this.get("container");transitioning=Y.App.CLASS_NAMES.transitioning;container.addClass(transitioning);this._attachView(newView,prepend);function complete(){this._detachView(oldView);container.removeClass(transitioning);callback&&callback.call(this,newView);this._transitioning=false;return this._dequeueActiveView()}transitions=new Y.Parallel({context:this});fxConfig={crossView:!!oldView&&!!newView,prepended:prepend};if(newView&&fx.viewIn){newView.get("container").transition(fx.viewIn,fxConfig,transitions.add())}if(oldView&&fx.viewOut){oldView.get("container").transition(fx.viewOut,fxConfig,transitions.add())}transitions.done(complete)}};Y.mix(Y.Transition.fx,{"app:fadeIn":{opacity:1,duration:.3,on:{start:function(data){var styles={opacity:0},config=data.config;if(config.crossView&&!config.prepended){styles.transform="translateX(-100%)"}this.setStyles(styles)},end:function(){this.setStyle("transform","translateX(0)")}}},"app:fadeOut":{opacity:0,duration:.3,on:{start:function(data){var styles={opacity:1},config=data.config;if(config.crossView&&config.prepended){styles.transform="translateX(-100%)"}this.setStyles(styles)},end:function(){this.setStyle("transform","translateX(0)")}}},"app:slideLeft":{duration:.3,transform:"translateX(-100%)",on:{start:function(){this.setStyles({opacity:1,transform:"translateX(0%)"})},end:function(){this.setStyle("transform","translateX(0)")}}},"app:slideRight":{duration:.3,transform:"translateX(0)",on:{start:function(){this.setStyles({opacity:1,transform:"translateX(-100%)"})},end:function(){this.setStyle("transform","translateX(0)")}}}});Y.App.TransitionsNative=AppTransitionsNative;Y.Base.mix(Y.App,[AppTransitionsNative])},"3.9.1",{requires:["app-transitions","app-transitions-css","parallel","transition"]});YUI.add("get",function(Y,NAME){var Lang=Y.Lang,CUSTOM_ATTRS,Get,Transaction;Y.Get=Get={cssOptions:{attributes:{rel:"stylesheet"},doc:Y.config.linkDoc||Y.config.doc,pollInterval:50},jsOptions:{autopurge:true,doc:Y.config.scriptDoc||Y.config.doc},options:{attributes:{charset:"utf-8"},purgethreshold:20},REGEX_CSS:/\.css(?:[?;].*)?$/i,REGEX_JS:/\.js(?:[?;].*)?$/i,_insertCache:{},_pending:null,_purgeNodes:[],_queue:[],abort:function(transaction){var i,id,item,len,pending;if(!transaction.abort){id=transaction;pending=this._pending;transaction=null;if(pending&&pending.transaction.id===id){transaction=pending.transaction;this._pending=null}else{for(i=0,len=this._queue.length;i<len;++i){item=this._queue[i].transaction;if(item.id===id){transaction=item;this._queue.splice(i,1);break}}}}transaction&&transaction.abort()},css:function(urls,options,callback){return this._load("css",urls,options,callback)},js:function(urls,options,callback){return this._load("js",urls,options,callback)},load:function(urls,options,callback){return this._load(null,urls,options,callback)},_autoPurge:function(threshold){if(threshold&&this._purgeNodes.length>=threshold){this._purge(this._purgeNodes)}},_getEnv:function(){var doc=Y.config.doc,ua=Y.UA;return this._env={async:doc&&doc.createElement("script").async===true||ua.ie>=10,cssFail:ua.gecko>=9||ua.compareVersions(ua.webkit,535.24)>=0,cssLoad:(!ua.gecko&&!ua.webkit||ua.gecko>=9||ua.compareVersions(ua.webkit,535.24)>=0)&&!(ua.chrome&&ua.chrome<=18),preservesScriptOrder:!!(ua.gecko||ua.opera||ua.ie&&ua.ie>=10)}},_getTransaction:function(urls,options){var requests=[],i,len,req,url;if(!Lang.isArray(urls)){urls=[urls]}options=Y.merge(this.options,options);options.attributes=Y.merge(this.options.attributes,options.attributes);for(i=0,len=urls.length;i<len;++i){url=urls[i];req={attributes:{}};if(typeof url==="string"){req.url=url}else if(url.url){Y.mix(req,url,false,null,0,true);url=url.url}else{continue}Y.mix(req,options,false,null,0,true);if(!req.type){if(this.REGEX_CSS.test(url)){req.type="css"}else{if(!this.REGEX_JS.test(url)){}req.type="js"}}Y.mix(req,req.type==="js"?this.jsOptions:this.cssOptions,false,null,0,true);req.attributes.id||(req.attributes.id=Y.guid());if(req.win){req.doc=req.win.document}else{req.win=req.doc.defaultView||req.doc.parentWindow}if(req.charset){req.attributes.charset=req.charset}requests.push(req)}return new Transaction(requests,options)},_load:function(type,urls,options,callback){var transaction;if(typeof options==="function"){callback=options;options={}}options||(options={});options.type=type;options._onFinish=Get._onTransactionFinish;if(!this._env){this._getEnv()}transaction=this._getTransaction(urls,options);this._queue.push({callback:callback,transaction:transaction});this._next();return transaction},_onTransactionFinish:function(){Get._pending=null;Get._next()},_next:function(){var item;if(this._pending){return}item=this._queue.shift();if(item){this._pending=item;item.transaction.execute(item.callback)}},_purge:function(nodes){var purgeNodes=this._purgeNodes,isTransaction=nodes!==purgeNodes,index,node;while(node=nodes.pop()){if(!node._yuiget_finished){continue}node.parentNode&&node.parentNode.removeChild(node);if(isTransaction){index=Y.Array.indexOf(purgeNodes,node);if(index>-1){purgeNodes.splice(index,1)}}}}};Get.script=Get.js;Get.Transaction=Transaction=function(requests,options){var self=this;self.id=Transaction._lastId+=1;self.data=options.data;self.errors=[];self.nodes=[];self.options=options;self.requests=requests;self._callbacks=[];self._queue=[];self._reqsWaiting=0;self.tId=self.id;self.win=options.win||Y.config.win};Transaction._lastId=0;Transaction.prototype={_state:"new",abort:function(msg){this._pending=null;this._pendingCSS=null;this._pollTimer=clearTimeout(this._pollTimer);this._queue=[];this._reqsWaiting=0;this.errors.push({error:msg||"Aborted"});this._finish()},execute:function(callback){var self=this,requests=self.requests,state=self._state,i,len,queue,req;if(state==="done"){callback&&callback(self.errors.length?self.errors:null,self);return}else{callback&&self._callbacks.push(callback);if(state==="executing"){return}}self._state="executing";self._queue=queue=[];if(self.options.timeout){self._timeout=setTimeout(function(){self.abort("Timeout")},self.options.timeout)}self._reqsWaiting=requests.length;for(i=0,len=requests.length;i<len;++i){req=requests[i];if(req.async||req.type==="css"){self._insert(req)}else{queue.push(req)}}self._next()},purge:function(){Get._purge(this.nodes)},_createNode:function(name,attrs,doc){var node=doc.createElement(name),attr,testEl;if(!CUSTOM_ATTRS){testEl=doc.createElement("div");testEl.setAttribute("class","a");CUSTOM_ATTRS=testEl.className==="a"?{}:{"for":"htmlFor","class":"className"}}for(attr in attrs){if(attrs.hasOwnProperty(attr)){node.setAttribute(CUSTOM_ATTRS[attr]||attr,attrs[attr])}}return node},_finish:function(){var errors=this.errors.length?this.errors:null,options=this.options,thisObj=options.context||this,data,i,len;if(this._state==="done"){return}this._state="done";for(i=0,len=this._callbacks.length;i<len;++i){this._callbacks[i].call(thisObj,errors,this)}data=this._getEventData();if(errors){if(options.onTimeout&&errors[errors.length-1].error==="Timeout"){options.onTimeout.call(thisObj,data)}if(options.onFailure){options.onFailure.call(thisObj,data)}}else if(options.onSuccess){options.onSuccess.call(thisObj,data)}if(options.onEnd){options.onEnd.call(thisObj,data)}if(options._onFinish){options._onFinish()}},_getEventData:function(req){if(req){return Y.merge(this,{abort:this.abort,purge:this.purge,request:req,url:req.url,win:req.win})}else{return this}},_getInsertBefore:function(req){var doc=req.doc,el=req.insertBefore,cache,docStamp;if(el){return typeof el==="string"?doc.getElementById(el):el}cache=Get._insertCache;docStamp=Y.stamp(doc);if(el=cache[docStamp]){return el}if(el=doc.getElementsByTagName("base")[0]){return cache[docStamp]=el}el=doc.head||doc.getElementsByTagName("head")[0];if(el){el.appendChild(doc.createTextNode(""));return cache[docStamp]=el.lastChild}return cache[docStamp]=doc.getElementsByTagName("script")[0]},_insert:function(req){var env=Get._env,insertBefore=this._getInsertBefore(req),isScript=req.type==="js",node=req.node,self=this,ua=Y.UA,cssTimeout,nodeType;if(!node){if(isScript){nodeType="script"}else if(!env.cssLoad&&ua.gecko){nodeType="style"}else{nodeType="link"}node=req.node=this._createNode(nodeType,req.attributes,req.doc)}function onError(){self._progress("Failed to load "+req.url,req)}function onLoad(){if(cssTimeout){clearTimeout(cssTimeout)}self._progress(null,req)}if(isScript){node.setAttribute("src",req.url);if(req.async){node.async=true}else{if(env.async){node.async=false}if(!env.preservesScriptOrder){this._pending=req}}}else{if(!env.cssLoad&&ua.gecko){node.innerHTML=(req.attributes.charset?'@charset "'+req.attributes.charset+'";':"")+'@import "'+req.url+'";'}else{node.setAttribute("href",req.url)}}if(isScript&&ua.ie&&(ua.ie<9||document.documentMode&&document.documentMode<9)){node.onreadystatechange=function(){if(/loaded|complete/.test(node.readyState)){node.onreadystatechange=null;onLoad()}}}else if(!isScript&&!env.cssLoad){this._poll(req)}else{if(ua.ie>=10){node.onerror=function(){setTimeout(onError,0)};node.onload=function(){setTimeout(onLoad,0)}}else{node.onerror=onError;node.onload=onLoad}if(!env.cssFail&&!isScript){cssTimeout=setTimeout(onError,req.timeout||3e3)}}this.nodes.push(node);insertBefore.parentNode.insertBefore(node,insertBefore)},_next:function(){if(this._pending){return}if(this._queue.length){this._insert(this._queue.shift())}else if(!this._reqsWaiting){this._finish()}},_poll:function(newReq){var self=this,pendingCSS=self._pendingCSS,isWebKit=Y.UA.webkit,i,hasRules,j,nodeHref,req,sheets;if(newReq){pendingCSS||(pendingCSS=self._pendingCSS=[]);pendingCSS.push(newReq);if(self._pollTimer){return}}self._pollTimer=null;for(i=0;i<pendingCSS.length;++i){req=pendingCSS[i];if(isWebKit){sheets=req.doc.styleSheets;j=sheets.length;nodeHref=req.node.href;while(--j>=0){if(sheets[j].href===nodeHref){pendingCSS.splice(i,1);i-=1;self._progress(null,req);break}}}else{try{hasRules=!!req.node.sheet.cssRules;pendingCSS.splice(i,1);i-=1;self._progress(null,req)}catch(ex){}}}if(pendingCSS.length){self._pollTimer=setTimeout(function(){self._poll.call(self)},self.options.pollInterval)}},_progress:function(err,req){var options=this.options;if(err){req.error=err;this.errors.push({error:err,request:req})}req.node._yuiget_finished=req.finished=true;if(options.onProgress){options.onProgress.call(options.context||this,this._getEventData(req))}if(req.autopurge){Get._autoPurge(this.options.purgethreshold);Get._purgeNodes.push(req.node)}if(this._pending===req){this._pending=null}this._reqsWaiting-=1;this._next()}}},"3.9.1",{requires:["yui-base"]});YUI.add("loader-base",function(Y,NAME){if(!YUI.Env[Y.version]){(function(){var VERSION=Y.version,BUILD="/build/",ROOT=VERSION+BUILD,CDN_BASE=Y.Env.base,GALLERY_VERSION="gallery-2013.02.27-21-03",TNT="2in3",TNT_VERSION="4",YUI2_VERSION="2.9.0",COMBO_BASE=CDN_BASE+"combo?",META={version:VERSION,root:ROOT,base:Y.Env.base,comboBase:COMBO_BASE,skin:{defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["cssreset","cssfonts","cssgrids","cssbase","cssreset-context","cssfonts-context"]},groups:{},patterns:{}},groups=META.groups,yui2Update=function(tnt,yui2,config){var root=TNT+"."+(tnt||TNT_VERSION)+"/"+(yui2||YUI2_VERSION)+BUILD,base=config&&config.base?config.base:CDN_BASE,combo=config&&config.comboBase?config.comboBase:COMBO_BASE;groups.yui2.base=base+root;groups.yui2.root=root;groups.yui2.comboBase=combo},galleryUpdate=function(tag,config){var root=(tag||GALLERY_VERSION)+BUILD,base=config&&config.base?config.base:CDN_BASE,combo=config&&config.comboBase?config.comboBase:COMBO_BASE;groups.gallery.base=base+root;groups.gallery.root=root;groups.gallery.comboBase=combo};groups[VERSION]={};groups.gallery={ext:false,combine:true,comboBase:COMBO_BASE,update:galleryUpdate,patterns:{"gallery-":{},"lang/gallery-":{},"gallerycss-":{type:"css"}}};groups.yui2={combine:true,ext:false,comboBase:COMBO_BASE,update:yui2Update,patterns:{"yui2-":{configFn:function(me){if(/-skin|reset|fonts|grids|base/.test(me.name)){me.type="css";me.path=me.path.replace(/\.js/,".css");me.path=me.path.replace(/\/yui2-skin/,"/assets/skins/sam/yui2-skin")}}}}};galleryUpdate();yui2Update();YUI.Env[VERSION]=META})()}var NOT_FOUND={},NO_REQUIREMENTS=[],MAX_URL_LENGTH=1024,GLOBAL_ENV=YUI.Env,GLOBAL_LOADED=GLOBAL_ENV._loaded,CSS="css",JS="js",INTL="intl",DEFAULT_SKIN="sam",VERSION=Y.version,ROOT_LANG="",YObject=Y.Object,oeach=YObject.each,yArray=Y.Array,_queue=GLOBAL_ENV._loaderQueue,META=GLOBAL_ENV[VERSION],SKIN_PREFIX="skin-",L=Y.Lang,ON_PAGE=GLOBAL_ENV.mods,modulekey,_path=function(dir,file,type,nomin){var path=dir+"/"+file;if(!nomin){path+="-min"}path+="."+(type||CSS);return path};if(!YUI.Env._cssLoaded){YUI.Env._cssLoaded={}}Y.Env.meta=META;Y.Loader=function(o){var self=this;o=o||{};modulekey=META.md5;self.context=Y;self.base=Y.Env.meta.base+Y.Env.meta.root;self.comboBase=Y.Env.meta.comboBase;self.combine=o.base&&o.base.indexOf(self.comboBase.substr(0,20))>-1;self.comboSep="&";self.maxURLLength=MAX_URL_LENGTH;self.ignoreRegistered=o.ignoreRegistered;self.root=Y.Env.meta.root;self.timeout=0;self.forceMap={};self.allowRollup=false;self.filters={};self.required={};self.patterns={};self.moduleInfo={};self.groups=Y.merge(Y.Env.meta.groups);self.skin=Y.merge(Y.Env.meta.skin);self.conditions={};self.config=o;self._internal=true;self._populateCache();self.loaded=GLOBAL_LOADED[VERSION];self.async=true;self._inspectPage();self._internal=false;self._config(o);self.forceMap=self.force?Y.Array.hash(self.force):{};self.testresults=null;if(Y.config.tests){self.testresults=Y.config.tests}self.sorted=[];self.dirty=true;self.inserted={};self.skipped={};self.tested={};if(self.ignoreRegistered){self._resetModules()}};Y.Loader.prototype={_populateCache:function(){var self=this,defaults=META.modules,cache=GLOBAL_ENV._renderedMods,i;if(cache&&!self.ignoreRegistered){for(i in cache){if(cache.hasOwnProperty(i)){self.moduleInfo[i]=Y.merge(cache[i])}}cache=GLOBAL_ENV._conditions;for(i in cache){if(cache.hasOwnProperty(i)){self.conditions[i]=Y.merge(cache[i])}}}else{for(i in defaults){if(defaults.hasOwnProperty(i)){self.addModule(defaults[i],i)}}}},_resetModules:function(){var self=this,i,o,mod,name,details;for(i in self.moduleInfo){if(self.moduleInfo.hasOwnProperty(i)){mod=self.moduleInfo[i];name=mod.name;details=YUI.Env.mods[name]?YUI.Env.mods[name].details:null;if(details){self.moduleInfo[name]._reset=true;self.moduleInfo[name].requires=details.requires||[];self.moduleInfo[name].optional=details.optional||[];self.moduleInfo[name].supersedes=details.supercedes||[]}if(mod.defaults){for(o in mod.defaults){if(mod.defaults.hasOwnProperty(o)){if(mod[o]){mod[o]=mod.defaults[o]}}}}delete mod.langCache;delete mod.skinCache;if(mod.skinnable){self._addSkin(self.skin.defaultSkin,mod.name)}}}},REGEX_CSS:/\.css(?:[?;].*)?$/i,FILTER_DEFS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"},COVERAGE:{searchExp:"-min\\.js",replaceStr:"-coverage.js"}},_inspectPage:function(){var self=this,v,m,req,mr,i;for(i in self.moduleInfo){if(self.moduleInfo.hasOwnProperty(i)){v=self.moduleInfo[i];if(v.type&&v.type===CSS){if(self.isCSSLoaded(v.name)){self.loaded[i]=true}}}}for(i in ON_PAGE){if(ON_PAGE.hasOwnProperty(i)){v=ON_PAGE[i];if(v.details){m=self.moduleInfo[v.name];req=v.details.requires;mr=m&&m.requires;if(m){if(!m._inspected&&req&&mr.length!==req.length){delete m.expanded}}else{m=self.addModule(v.details,i)}m._inspected=true}}}},_requires:function(mod1,mod2){var i,rm,after_map,s,info=this.moduleInfo,m=info[mod1],other=info[mod2];if(!m||!other){return false}rm=m.expanded_map;after_map=m.after_map;if(after_map&&mod2 in after_map){return true
}after_map=other.after_map;if(after_map&&mod1 in after_map){return false}s=info[mod2]&&info[mod2].supersedes;if(s){for(i=0;i<s.length;i++){if(this._requires(mod1,s[i])){return true}}}s=info[mod1]&&info[mod1].supersedes;if(s){for(i=0;i<s.length;i++){if(this._requires(mod2,s[i])){return false}}}if(rm&&mod2 in rm){return true}if(m.ext&&m.type===CSS&&!other.ext&&other.type===CSS){return true}return false},_config:function(o){var i,j,val,a,f,group,groupName,self=this,mods=[],mod;if(o){for(i in o){if(o.hasOwnProperty(i)){val=o[i];if(i==="require"){self.require(val)}else if(i==="skin"){if(typeof val==="string"){self.skin.defaultSkin=o.skin;val={defaultSkin:val}}Y.mix(self.skin,val,true)}else if(i==="groups"){for(j in val){if(val.hasOwnProperty(j)){groupName=j;group=val[j];self.addGroup(group,groupName);if(group.aliases){for(a in group.aliases){if(group.aliases.hasOwnProperty(a)){self.addAlias(group.aliases[a],a)}}}}}}else if(i==="modules"){for(j in val){if(val.hasOwnProperty(j)){self.addModule(val[j],j)}}}else if(i==="aliases"){for(j in val){if(val.hasOwnProperty(j)){self.addAlias(val[j],j)}}}else if(i==="gallery"){if(this.groups.gallery.update){this.groups.gallery.update(val,o)}}else if(i==="yui2"||i==="2in3"){if(this.groups.yui2.update){this.groups.yui2.update(o["2in3"],o.yui2,o)}}else{self[i]=val}}}}f=self.filter;if(L.isString(f)){f=f.toUpperCase();self.filterName=f;self.filter=self.FILTER_DEFS[f];if(f==="DEBUG"){self.require("yui-log","dump")}}if(self.filterName&&self.coverage){if(self.filterName==="COVERAGE"&&L.isArray(self.coverage)&&self.coverage.length){for(i=0;i<self.coverage.length;i++){mod=self.coverage[i];if(self.moduleInfo[mod]&&self.moduleInfo[mod].use){mods=[].concat(mods,self.moduleInfo[mod].use)}else{mods.push(mod)}}self.filters=self.filters||{};Y.Array.each(mods,function(mod){self.filters[mod]=self.FILTER_DEFS.COVERAGE});self.filterName="RAW";self.filter=self.FILTER_DEFS[self.filterName]}}},formatSkin:function(skin,mod){var s=SKIN_PREFIX+skin;if(mod){s=s+"-"+mod}return s},_addSkin:function(skin,mod,parent){var mdef,pkg,name,nmod,info=this.moduleInfo,sinf=this.skin,ext=info[mod]&&info[mod].ext;if(mod){name=this.formatSkin(skin,mod);if(!info[name]){mdef=info[mod];pkg=mdef.pkg||mod;nmod={skin:true,name:name,group:mdef.group,type:"css",after:sinf.after,path:(parent||pkg)+"/"+sinf.base+skin+"/"+mod+".css",ext:ext};if(mdef.base){nmod.base=mdef.base}if(mdef.configFn){nmod.configFn=mdef.configFn}this.addModule(nmod,name)}}return name},addAlias:function(use,name){YUI.Env.aliases[name]=use;this.addModule({name:name,use:use})},addGroup:function(o,name){var mods=o.modules,self=this,i,v;name=name||o.name;o.name=name;self.groups[name]=o;if(o.patterns){for(i in o.patterns){if(o.patterns.hasOwnProperty(i)){o.patterns[i].group=name;self.patterns[i]=o.patterns[i]}}}if(mods){for(i in mods){if(mods.hasOwnProperty(i)){v=mods[i];if(typeof v==="string"){v={name:i,fullpath:v}}v.group=name;self.addModule(v,i)}}}},addModule:function(o,name){name=name||o.name;if(typeof o==="string"){o={name:name,fullpath:o}}var subs,i,l,t,sup,s,smod,plugins,plug,j,langs,packName,supName,flatSup,flatLang,lang,ret,overrides,skinname,when,g,p,conditions=this.conditions,trigger;if(this.moduleInfo[name]&&this.moduleInfo[name].temp){o=Y.merge(this.moduleInfo[name],o)}o.name=name;if(!o||!o.name){return null}if(!o.type){o.type=JS;p=o.path||o.fullpath;if(p&&this.REGEX_CSS.test(p)){o.type=CSS}}if(!o.path&&!o.fullpath){o.path=_path(name,name,o.type)}o.supersedes=o.supersedes||o.use;o.ext="ext"in o?o.ext:this._internal?false:true;subs=o.submodules;this.moduleInfo[name]=o;o.requires=o.requires||[];if(this.requires){for(i=0;i<this.requires.length;i++){o.requires.push(this.requires[i])}}if(o.group&&this.groups&&this.groups[o.group]){g=this.groups[o.group];if(g.requires){for(i=0;i<g.requires.length;i++){o.requires.push(g.requires[i])}}}if(!o.defaults){o.defaults={requires:o.requires?[].concat(o.requires):null,supersedes:o.supersedes?[].concat(o.supersedes):null,optional:o.optional?[].concat(o.optional):null}}if(o.skinnable&&o.ext&&o.temp){skinname=this._addSkin(this.skin.defaultSkin,name);o.requires.unshift(skinname)}if(o.requires.length){o.requires=this.filterRequires(o.requires)||[]}if(!o.langPack&&o.lang){langs=yArray(o.lang);for(j=0;j<langs.length;j++){lang=langs[j];packName=this.getLangPackName(lang,name);smod=this.moduleInfo[packName];if(!smod){smod=this._addLangPack(lang,o,packName)}}}if(subs){sup=o.supersedes||[];l=0;for(i in subs){if(subs.hasOwnProperty(i)){s=subs[i];s.path=s.path||_path(name,i,o.type);s.pkg=name;s.group=o.group;if(s.supersedes){sup=sup.concat(s.supersedes)}smod=this.addModule(s,i);sup.push(i);if(smod.skinnable){o.skinnable=true;overrides=this.skin.overrides;if(overrides&&overrides[i]){for(j=0;j<overrides[i].length;j++){skinname=this._addSkin(overrides[i][j],i,name);sup.push(skinname)}}skinname=this._addSkin(this.skin.defaultSkin,i,name);sup.push(skinname)}if(s.lang&&s.lang.length){langs=yArray(s.lang);for(j=0;j<langs.length;j++){lang=langs[j];packName=this.getLangPackName(lang,name);supName=this.getLangPackName(lang,i);smod=this.moduleInfo[packName];if(!smod){smod=this._addLangPack(lang,o,packName)}flatSup=flatSup||yArray.hash(smod.supersedes);if(!(supName in flatSup)){smod.supersedes.push(supName)}o.lang=o.lang||[];flatLang=flatLang||yArray.hash(o.lang);if(!(lang in flatLang)){o.lang.push(lang)}packName=this.getLangPackName(ROOT_LANG,name);supName=this.getLangPackName(ROOT_LANG,i);smod=this.moduleInfo[packName];if(!smod){smod=this._addLangPack(lang,o,packName)}if(!(supName in flatSup)){smod.supersedes.push(supName)}}}l++}}o.supersedes=yArray.dedupe(sup);if(this.allowRollup){o.rollup=l<4?l:Math.min(l-1,4)}}plugins=o.plugins;if(plugins){for(i in plugins){if(plugins.hasOwnProperty(i)){plug=plugins[i];plug.pkg=name;plug.path=plug.path||_path(name,i,o.type);plug.requires=plug.requires||[];plug.group=o.group;this.addModule(plug,i);if(o.skinnable){this._addSkin(this.skin.defaultSkin,i,name)}}}}if(o.condition){t=o.condition.trigger;if(YUI.Env.aliases[t]){t=YUI.Env.aliases[t]}if(!Y.Lang.isArray(t)){t=[t]}for(i=0;i<t.length;i++){trigger=t[i];when=o.condition.when;conditions[trigger]=conditions[trigger]||{};conditions[trigger][name]=o.condition;if(when&&when!=="after"){if(when==="instead"){o.supersedes=o.supersedes||[];o.supersedes.push(trigger)}}else{o.after=o.after||[];o.after.push(trigger)}}}if(o.supersedes){o.supersedes=this.filterRequires(o.supersedes)}if(o.after){o.after=this.filterRequires(o.after);o.after_map=yArray.hash(o.after)}if(o.configFn){ret=o.configFn(o);if(ret===false){delete this.moduleInfo[name];delete GLOBAL_ENV._renderedMods[name];o=null}}if(o){if(!GLOBAL_ENV._renderedMods){GLOBAL_ENV._renderedMods={}}GLOBAL_ENV._renderedMods[name]=Y.mix(GLOBAL_ENV._renderedMods[name]||{},o);GLOBAL_ENV._conditions=conditions}return o},require:function(what){var a=typeof what==="string"?yArray(arguments):what;this.dirty=true;this.required=Y.merge(this.required,yArray.hash(this.filterRequires(a)));this._explodeRollups()},_explodeRollups:function(){var self=this,m,m2,i,a,v,len,len2,r=self.required;if(!self.allowRollup){for(i in r){if(r.hasOwnProperty(i)){m=self.getModule(i);if(m&&m.use){len=m.use.length;for(a=0;a<len;a++){m2=self.getModule(m.use[a]);if(m2&&m2.use){len2=m2.use.length;for(v=0;v<len2;v++){r[m2.use[v]]=true}}else{r[m.use[a]]=true}}}}}self.required=r}},filterRequires:function(r){if(r){if(!Y.Lang.isArray(r)){r=[r]}r=Y.Array(r);var c=[],i,mod,o,m;for(i=0;i<r.length;i++){mod=this.getModule(r[i]);if(mod&&mod.use){for(o=0;o<mod.use.length;o++){m=this.getModule(mod.use[o]);if(m&&m.use&&m.name!==mod.name){c=Y.Array.dedupe([].concat(c,this.filterRequires(m.use)))}else{c.push(mod.use[o])}}}else{c.push(r[i])}}r=c}return r},getRequires:function(mod){if(!mod){return NO_REQUIREMENTS}if(mod._parsed){return mod.expanded||NO_REQUIREMENTS}var i,m,j,add,packName,lang,testresults=this.testresults,name=mod.name,cond,adddef=ON_PAGE[name]&&ON_PAGE[name].details,d,go,def,r,old_mod,o,skinmod,skindef,skinpar,skinname,intl=mod.lang||mod.intl,info=this.moduleInfo,ftests=Y.Features&&Y.Features.tests.load,hash,reparse;if(mod.temp&&adddef){old_mod=mod;mod=this.addModule(adddef,name);mod.group=old_mod.group;mod.pkg=old_mod.pkg;delete mod.expanded}reparse=!((!this.lang||mod.langCache===this.lang)&&mod.skinCache===this.skin.defaultSkin);if(mod.expanded&&!reparse){return mod.expanded}d=[];hash={};r=this.filterRequires(mod.requires);if(mod.lang){d.unshift("intl");r.unshift("intl");intl=true}o=this.filterRequires(mod.optional);mod._parsed=true;mod.langCache=this.lang;mod.skinCache=this.skin.defaultSkin;for(i=0;i<r.length;i++){if(!hash[r[i]]){d.push(r[i]);hash[r[i]]=true;m=this.getModule(r[i]);if(m){add=this.getRequires(m);intl=intl||m.expanded_map&&INTL in m.expanded_map;for(j=0;j<add.length;j++){d.push(add[j])}}}}r=this.filterRequires(mod.supersedes);if(r){for(i=0;i<r.length;i++){if(!hash[r[i]]){if(mod.submodules){d.push(r[i])}hash[r[i]]=true;m=this.getModule(r[i]);if(m){add=this.getRequires(m);intl=intl||m.expanded_map&&INTL in m.expanded_map;for(j=0;j<add.length;j++){d.push(add[j])}}}}}if(o&&this.loadOptional){for(i=0;i<o.length;i++){if(!hash[o[i]]){d.push(o[i]);hash[o[i]]=true;m=info[o[i]];if(m){add=this.getRequires(m);intl=intl||m.expanded_map&&INTL in m.expanded_map;for(j=0;j<add.length;j++){d.push(add[j])}}}}}cond=this.conditions[name];if(cond){mod._parsed=false;if(testresults&&ftests){oeach(testresults,function(result,id){var condmod=ftests[id].name;if(!hash[condmod]&&ftests[id].trigger===name){if(result&&ftests[id]){hash[condmod]=true;d.push(condmod)}}})}else{for(i in cond){if(cond.hasOwnProperty(i)){if(!hash[i]){def=cond[i];go=def&&(!def.ua&&!def.test||def.ua&&Y.UA[def.ua]||def.test&&def.test(Y,r));if(go){hash[i]=true;d.push(i);m=this.getModule(i);if(m){add=this.getRequires(m);for(j=0;j<add.length;j++){d.push(add[j])}}}}}}}}if(mod.skinnable){skindef=this.skin.overrides;for(i in YUI.Env.aliases){if(YUI.Env.aliases.hasOwnProperty(i)){if(Y.Array.indexOf(YUI.Env.aliases[i],name)>-1){skinpar=i}}}if(skindef&&(skindef[name]||skinpar&&skindef[skinpar])){skinname=name;if(skindef[skinpar]){skinname=skinpar}for(i=0;i<skindef[skinname].length;i++){skinmod=this._addSkin(skindef[skinname][i],name);if(!this.isCSSLoaded(skinmod,this._boot)){d.push(skinmod)}}}else{skinmod=this._addSkin(this.skin.defaultSkin,name);if(!this.isCSSLoaded(skinmod,this._boot)){d.push(skinmod)}}}mod._parsed=false;if(intl){if(mod.lang&&!mod.langPack&&Y.Intl){lang=Y.Intl.lookupBestLang(this.lang||ROOT_LANG,mod.lang);packName=this.getLangPackName(lang,name);if(packName){d.unshift(packName)}}d.unshift(INTL)}mod.expanded_map=yArray.hash(d);mod.expanded=YObject.keys(mod.expanded_map);return mod.expanded},isCSSLoaded:function(name,skip){if(!name||!YUI.Env.cssStampEl||!skip&&this.ignoreRegistered){return false}var el=YUI.Env.cssStampEl,ret=false,mod=YUI.Env._cssLoaded[name],style=el.currentStyle;if(mod!==undefined){return mod}el.className=name;if(!style){style=Y.config.doc.defaultView.getComputedStyle(el,null)}if(style&&style.display==="none"){ret=true}el.className="";YUI.Env._cssLoaded[name]=ret;return ret},getProvides:function(name){var m=this.getModule(name),o,s;if(!m){return NOT_FOUND}if(m&&!m.provides){o={};s=m.supersedes;if(s){yArray.each(s,function(v){Y.mix(o,this.getProvides(v))},this)}o[name]=true;m.provides=o}return m.provides},calculate:function(o,type){if(o||type||this.dirty){if(o){this._config(o)}if(!this._init){this._setup()}this._explode();if(this.allowRollup){this._rollup()}else{this._explodeRollups()}this._reduce();this._sort()}},_addLangPack:function(lang,m,packName){var name=m.name,packPath,conf,existing=this.moduleInfo[packName];if(!existing){packPath=_path(m.pkg||name,packName,JS,true);conf={path:packPath,intl:true,langPack:true,ext:m.ext,group:m.group,supersedes:[]};if(m.root){conf.root=m.root}if(m.base){conf.base=m.base}if(m.configFn){conf.configFn=m.configFn}this.addModule(conf,packName);if(lang){Y.Env.lang=Y.Env.lang||{};Y.Env.lang[lang]=Y.Env.lang[lang]||{};Y.Env.lang[lang][name]=true}}return this.moduleInfo[packName]},_setup:function(){var info=this.moduleInfo,name,i,j,m,l,packName;for(name in info){if(info.hasOwnProperty(name)){m=info[name];if(m){m.requires=yArray.dedupe(m.requires);if(m.lang){packName=this.getLangPackName(ROOT_LANG,name);this._addLangPack(null,m,packName)}}}}l={};if(!this.ignoreRegistered){Y.mix(l,GLOBAL_ENV.mods)}if(this.ignore){Y.mix(l,yArray.hash(this.ignore))}for(j in l){if(l.hasOwnProperty(j)){Y.mix(l,this.getProvides(j))}}if(this.force){for(i=0;i<this.force.length;i++){if(this.force[i]in l){delete l[this.force[i]]}}}Y.mix(this.loaded,l);this._init=true},getLangPackName:function(lang,mname){return"lang/"+mname+(lang?"_"+lang:"")},_explode:function(){var r=this.required,m,reqs,done={},self=this,name,expound;self.dirty=false;self._explodeRollups();r=self.required;for(name in r){if(r.hasOwnProperty(name)){if(!done[name]){done[name]=true;m=self.getModule(name);if(m){expound=m.expound;if(expound){r[expound]=self.getModule(expound);reqs=self.getRequires(r[expound]);Y.mix(r,yArray.hash(reqs))}reqs=self.getRequires(m);Y.mix(r,yArray.hash(reqs))}}}}},_patternTest:function(mname,pname){return mname.indexOf(pname)>-1},getModule:function(mname){if(!mname){return null}var p,found,pname,m=this.moduleInfo[mname],patterns=this.patterns;if(!m||m&&m.ext){for(pname in patterns){if(patterns.hasOwnProperty(pname)){p=patterns[pname];if(!p.test){p.test=this._patternTest}if(p.test(mname,pname)){found=p;break}}}}if(!m){if(found){if(p.action){p.action.call(this,mname,pname)}else{m=this.addModule(Y.merge(found),mname);if(found.configFn){m.configFn=found.configFn}m.temp=true}}}else{if(found&&m&&found.configFn&&!m.configFn){m.configFn=found.configFn;m.configFn(m)}}return m},_rollup:function(){},_reduce:function(r){r=r||this.required;var i,j,s,m,type=this.loadType,ignore=this.ignore?yArray.hash(this.ignore):false;for(i in r){if(r.hasOwnProperty(i)){m=this.getModule(i);if((this.loaded[i]||ON_PAGE[i])&&!this.forceMap[i]&&!this.ignoreRegistered||type&&m&&m.type!==type){delete r[i]}if(ignore&&ignore[i]){delete r[i]}s=m&&m.supersedes;if(s){for(j=0;j<s.length;j++){if(s[j]in r){delete r[s[j]]}}}}}return r},_finish:function(msg,success){_queue.running=false;var onEnd=this.onEnd;if(onEnd){onEnd.call(this.context,{msg:msg,data:this.data,success:success})}this._continue()},_onSuccess:function(){var self=this,skipped=Y.merge(self.skipped),fn,failed=[],rreg=self.requireRegistration,success,msg,i,mod;for(i in skipped){if(skipped.hasOwnProperty(i)){delete self.inserted[i]}}self.skipped={};for(i in self.inserted){if(self.inserted.hasOwnProperty(i)){mod=self.getModule(i);if(mod&&rreg&&mod.type===JS&&!(i in YUI.Env.mods)){failed.push(i)}else{Y.mix(self.loaded,self.getProvides(i))}}}fn=self.onSuccess;msg=failed.length?"notregistered":"success";success=!failed.length;if(fn){fn.call(self.context,{msg:msg,data:self.data,success:success,failed:failed,skipped:skipped})}self._finish(msg,success)},_onProgress:function(e){var self=this,i;if(e.data&&e.data.length){for(i=0;i<e.data.length;i++){e.data[i]=self.getModule(e.data[i].name)}}if(self.onProgress){self.onProgress.call(self.context,{name:e.url,data:e.data})}},_onFailure:function(o){var f=this.onFailure,msg=[],i=0,len=o.errors.length;for(i;i<len;i++){msg.push(o.errors[i].error)}msg=msg.join(",");if(f){f.call(this.context,{msg:msg,data:this.data,success:false})}this._finish(msg,false)},_onTimeout:function(transaction){var f=this.onTimeout;if(f){f.call(this.context,{msg:"timeout",data:this.data,success:false,transaction:transaction})}},_sort:function(){var s=YObject.keys(this.required),done={},p=0,l,a,b,j,k,moved,doneKey;for(;;){l=s.length;moved=false;for(j=p;j<l;j++){a=s[j];for(k=j+1;k<l;k++){doneKey=a+s[k];if(!done[doneKey]&&this._requires(a,s[k])){b=s.splice(k,1);s.splice(j,0,b[0]);done[doneKey]=true;moved=true;break}}if(moved){break}else{p++}}if(!moved){break}}this.sorted=s},_insert:function(source,o,type,skipcalc){if(source){this._config(source)}var modules=this.resolve(!skipcalc),self=this,comp=0,actions=0,mods={},deps,complete;self._refetch=[];if(type){modules[type===JS?CSS:JS]=[]}if(!self.fetchCSS){modules.css=[]}if(modules.js.length){comp++}if(modules.css.length){comp++}complete=function(d){actions++;var errs={},i=0,o=0,u="",fn,modName,resMods;if(d&&d.errors){for(i=0;i<d.errors.length;i++){if(d.errors[i].request){u=d.errors[i].request.url}else{u=d.errors[i]}errs[u]=u}}if(d&&d.data&&d.data.length&&d.type==="success"){for(i=0;i<d.data.length;i++){self.inserted[d.data[i].name]=true;if(d.data[i].lang||d.data[i].skinnable){delete self.inserted[d.data[i].name];self._refetch.push(d.data[i].name)}}}if(actions===comp){self._loading=null;if(self._refetch.length){for(i=0;i<self._refetch.length;i++){deps=self.getRequires(self.getModule(self._refetch[i]));for(o=0;o<deps.length;o++){if(!self.inserted[deps[o]]){mods[deps[o]]=deps[o]}}}mods=Y.Object.keys(mods);if(mods.length){self.require(mods);resMods=self.resolve(true);if(resMods.cssMods.length){for(i=0;i<resMods.cssMods.length;i++){modName=resMods.cssMods[i].name;delete YUI.Env._cssLoaded[modName];if(self.isCSSLoaded(modName)){self.inserted[modName]=true;delete self.required[modName]}}self.sorted=[];self._sort()}d=null;self._insert()}}if(d&&d.fn){fn=d.fn;delete d.fn;fn.call(self,d)}}};this._loading=true;if(!modules.js.length&&!modules.css.length){actions=-1;complete({fn:self._onSuccess});return}if(modules.css.length){Y.Get.css(modules.css,{data:modules.cssMods,attributes:self.cssAttributes,insertBefore:self.insertBefore,charset:self.charset,timeout:self.timeout,context:self,onProgress:function(e){self._onProgress.call(self,e)},onTimeout:function(d){self._onTimeout.call(self,d)},onSuccess:function(d){d.type="success";d.fn=self._onSuccess;complete.call(self,d)},onFailure:function(d){d.type="failure";d.fn=self._onFailure;complete.call(self,d)}})}if(modules.js.length){Y.Get.js(modules.js,{data:modules.jsMods,insertBefore:self.insertBefore,attributes:self.jsAttributes,charset:self.charset,timeout:self.timeout,autopurge:false,context:self,async:self.async,onProgress:function(e){self._onProgress.call(self,e)},onTimeout:function(d){self._onTimeout.call(self,d)},onSuccess:function(d){d.type="success";d.fn=self._onSuccess;complete.call(self,d)},onFailure:function(d){d.type="failure";d.fn=self._onFailure;complete.call(self,d)}})}},_continue:function(){if(!_queue.running&&_queue.size()>0){_queue.running=true;_queue.next()()}},insert:function(o,type,skipsort){var self=this,copy=Y.merge(this);delete copy.require;delete copy.dirty;_queue.add(function(){self._insert(copy,o,type,skipsort)});this._continue()},loadNext:function(){return},_filter:function(u,name,group){var f=this.filter,hasFilter=name&&name in this.filters,modFilter=hasFilter&&this.filters[name],groupName=group||(this.moduleInfo[name]?this.moduleInfo[name].group:null);if(groupName&&this.groups[groupName]&&this.groups[groupName].filter){modFilter=this.groups[groupName].filter;hasFilter=true}if(u){if(hasFilter){f=L.isString(modFilter)?this.FILTER_DEFS[modFilter.toUpperCase()]||null:modFilter}if(f){u=u.replace(new RegExp(f.searchExp,"g"),f.replaceStr)}}return u},_url:function(path,name,base){return this._filter((base||this.base||"")+path,name)},resolve:function(calc,s){var len,i,m,url,group,groupName,j,frag,comboSource,comboSources,mods,comboBase,base,urls,u=[],tmpBase,baseLen,resCombos={},self=this,comboSep,maxURLLength,inserted=self.ignoreRegistered?{}:self.inserted,resolved={js:[],jsMods:[],css:[],cssMods:[]},type=self.loadType||"js",addSingle;if(self.skin.overrides||self.skin.defaultSkin!==DEFAULT_SKIN||self.ignoreRegistered){self._resetModules()}if(calc){self.calculate()}s=s||self.sorted;addSingle=function(m){if(m){group=m.group&&self.groups[m.group]||NOT_FOUND;if(group.async===false){m.async=group.async}url=m.fullpath?self._filter(m.fullpath,s[i]):self._url(m.path,s[i],group.base||m.base);if(m.attributes||m.async===false){url={url:url,async:m.async};if(m.attributes){url.attributes=m.attributes}}resolved[m.type].push(url);resolved[m.type+"Mods"].push(m)}else{}};len=s.length;comboBase=self.comboBase;url=comboBase;comboSources={};for(i=0;i<len;i++){comboSource=comboBase;m=self.getModule(s[i]);groupName=m&&m.group;group=self.groups[groupName];if(groupName&&group){if(!group.combine||m.fullpath){addSingle(m);continue}m.combine=true;if(group.comboBase){comboSource=group.comboBase}if("root"in group&&L.isValue(group.root)){m.root=group.root}m.comboSep=group.comboSep||self.comboSep;m.maxURLLength=group.maxURLLength||self.maxURLLength}else{if(!self.combine){addSingle(m);continue}}comboSources[comboSource]=comboSources[comboSource]||[];comboSources[comboSource].push(m)}for(j in comboSources){if(comboSources.hasOwnProperty(j)){resCombos[j]=resCombos[j]||{js:[],jsMods:[],css:[],cssMods:[]};url=j;mods=comboSources[j];len=mods.length;if(len){for(i=0;i<len;i++){if(inserted[mods[i]]){continue}m=mods[i];if(m&&(m.combine||!m.ext)){resCombos[j].comboSep=m.comboSep;resCombos[j].group=m.group;resCombos[j].maxURLLength=m.maxURLLength;frag=(L.isValue(m.root)?m.root:self.root)+(m.path||m.fullpath);frag=self._filter(frag,m.name);resCombos[j][m.type].push(frag);resCombos[j][m.type+"Mods"].push(m)}else{if(mods[i]){addSingle(mods[i])}}}}}}for(j in resCombos){if(resCombos.hasOwnProperty(j)){base=j;comboSep=resCombos[base].comboSep||self.comboSep;maxURLLength=resCombos[base].maxURLLength||self.maxURLLength;for(type in resCombos[base]){if(type===JS||type===CSS){urls=resCombos[base][type];mods=resCombos[base][type+"Mods"];len=urls.length;tmpBase=base+urls.join(comboSep);baseLen=tmpBase.length;if(maxURLLength<=base.length){maxURLLength=MAX_URL_LENGTH}if(len){if(baseLen>maxURLLength){u=[];for(s=0;s<len;s++){u.push(urls[s]);tmpBase=base+u.join(comboSep);if(tmpBase.length>maxURLLength){m=u.pop();tmpBase=base+u.join(comboSep);resolved[type].push(self._filter(tmpBase,null,resCombos[base].group));u=[];if(m){u.push(m)}}}if(u.length){tmpBase=base+u.join(comboSep);resolved[type].push(self._filter(tmpBase,null,resCombos[base].group))}}else{resolved[type].push(self._filter(tmpBase,null,resCombos[base].group))}}resolved[type+"Mods"]=resolved[type+"Mods"].concat(mods)}}}}resCombos=null;return resolved},load:function(cb){if(!cb){return}var self=this,out=self.resolve(true);self.data=out;self.onEnd=function(){cb.apply(self.context||self,arguments)};self.insert()}}},"3.9.1",{requires:["get","features"]});"use strict";YUI.add("app-subapp-extension",function(Y){function SubAppRegistration(){}SubAppRegistration.ATTRS={subApps:{value:{}}};SubAppRegistration.prototype={_blacklistedConfig:["container","html5","serverRouting","transitions","viewContainer"],subApplications:[],addSubApplications:function(cfg){this.addSubApps(this.subApplications,cfg);Y.on("*:subNavigate",function(e){this.navigate(":"+e.namespace+":"+e.url)},this)},addSubApp:function(SubApp,config){var subApps=this.get("subApps"),routes;SubApp=new SubApp(config);subApps[SubApp.get("urlNamespace")]=SubApp;routes=this._extractRoutes(SubApp);this._augmentRoutes(routes)},addSubApps:function(subApps,cfg){if(cfg===undefined){cfg={}}Y.Array.each(subApps,function(subApp){Y.each(this._blacklistedConfig,function(blacklist){if(cfg[blacklist]){delete cfg[blacklist]}});var mergedCfg=Y.merge(cfg,subApp.config);this.addSubApp(subApp.type,mergedCfg)},this)},_extractRoutes:function(subApp){var subApps=this.get("subApps"),routes,subRoutes,i,j;switch(typeof subApp){case"number":subApp=subApps[subApp];case"object":routes=subApp.getSubAppRoutes();break;case"undefined":routes=[];for(i=0;i<subApps.length;i+=1){subRoutes=subApps[i].getSubAppRoutes();for(j=0;j<subRoutes.length;j+=1){routes.push(subRoutes[j])}}break;default:throw"subApp valid types are integer, object, or undefined"}return routes},_augmentRoutes:function(routes){var parentRoutes=this.get("routes"),middlewareIndex;Y.Array.some(parentRoutes,function(value,index,array){if(value.path!=="*"){middlewareIndex=index;return true}});routes.unshift(middlewareIndex,0);Array.prototype.splice.apply(parentRoutes,routes);this.set("routes",parentRoutes);return parentRoutes}};Y.namespace("juju").SubAppRegistration=SubAppRegistration},"0.1.0");"use strict";YUI.add("app-cookies-extension",function(Y){function Cookies(test_node){this.node=test_node||Y.one(".cookie-policy")}Cookies.prototype={check:function(){var self=this;if(Y.Cookie.get("_cookies_accepted")!=="true"){this.node.setStyle("display","block");Y.one(".link-cta").once("click",function(evt){evt.preventDefault();self.close()})}},close:function(){this.node.setStyle("display","none");Y.Cookie.set("_cookies_accepted","true",{expires:new Date("January 12, 2025")})}};Y.namespace("juju").Cookies=Cookies},"0.1.0",{requires:["base","cookie"]});"use strict";YUI.add("d3-components",function(Y){var ns=Y.namespace("d3"),L=Y.Lang;var Module=Y.Base.create("Module",Y.Base,[],{_defaultEvents:{scene:{},d3:{},yui:{}},events:{},initializer:function(){this.events=Y.mix(this.events,this._defaultEvents,false,undefined,0,true)},componentBound:function(){},render:function(){},update:function(){}},{ATTRS:{component:{},options:{},container:{getter:function(){var component=this.get("component");return component&&component.get("container")||undefined}}}});ns.Module=Module;var Component=Y.Base.create("Component",Y.Base,[],{initializer:function(){this.modules={};this.events={};this._rendered=false},addModule:function(ModClassOrInstance,options){var config=options||{},module=ModClassOrInstance,modEvents;if(ModClassOrInstance===undefined){throw"undefined Module in addModule call"}if(!(ModClassOrInstance instanceof Module)){module=new ModClassOrInstance}config.component=this;module.setAttrs(config);this.modules[module.name]=module;modEvents=module.events;this.events[module.name]=modEvents;this.bind(module.name);module.componentBound();this.addTarget(module);return this},removeModule:function(moduleName){this.unbind(moduleName);delete this.events[moduleName];this.removeTarget(this.modules[moduleName]);delete this.modules[moduleName];return this},_normalizeHandler:function(handler,module,selector){var result={};if(L.isString(handler)){result.callback=module[handler];result.phase="on"}if(L.isObject(handler)){result.phase=handler.phase||"on";result.callback=handler.callback}if(L.isString(result.callback)){result.callback=module[result.callback]}if(!result.callback){return}if(!L.isFunction(result.callback)){console.error("Unable to resolve a proper callback for",selector,handler,module.name,result);return}result.context=module;if(handler.context){if(handler.context==="component"){result.context=this}else if(handler.context==="window"){result.context=Y.one("window")}}return result},_bindEvents:function(modName){var self=this,modEvents=this.events[modName],module=this.modules[modName],owns=Y.Object.owns,container=this.get("container"),subscriptions=[],handlers,handler;function _bindEvent(name,handler,container,selector,context){var d3Adapter=function(evt){var selection=d3.select(evt.currentTarget.getDOMNode()),d=selection.data()[0];d3.event=evt;return handler.call(evt.currentTarget.getDOMNode(),d,context)};subscriptions.push(Y.delegate(name,d3Adapter,container,selector,context))}this.unbind(modName);Y.each(modEvents.scene,function(handlers,selector,sceneEvents){Y.each(handlers,function(handler,trigger){handler=self._normalizeHandler(handler,module,selector);if(L.isValue(handler)){_bindEvent(trigger,handler.callback,container,selector,handler.context)}})});if(modEvents.yui){Y.each(["after","before","on"],function(eventPhase){var resolvedHandler={};Y.each(modEvents.yui,function(handler,name){handler=self._normalizeHandler(handler,module,name);if(!handler||handler.phase!==eventPhase){return}resolvedHandler[name]=handler},this);if(Y.Object.keys(resolvedHandler).length){Y.each(resolvedHandler,function(handler,name){var target=self,callback=Y.bind(handler.callback,handler.context);if(Y.Array.indexOf(["windowresize"],name)!==-1){target=Y;handler.context=null}else{self.publish(name,{emitFacade:true})}subscriptions.push(target[eventPhase](name,callback,handler.context))})}})}return subscriptions},bind:function(moduleName){var eventSet=this.events,filtered={};if(moduleName){filtered[moduleName]=eventSet[moduleName];eventSet=filtered}Y.each(Y.Object.keys(eventSet),function(name){this.events[name].subscriptions=this._bindEvents(name)},this);return this},_bindD3Events:function(modName){var self=this,modEvents=this.events[modName],owns=Y.Object.owns,module;if(!modEvents||!modEvents.d3){return}modEvents=modEvents.d3;module=this.modules[modName];Y.each(modEvents,function(handlers,selector){Y.each(handlers,function(handler,trigger){var adapter;handler=self._normalizeHandler(handler,module);adapter=function(){var selection=d3.select(this),d=selection.data()[0];return handler.callback.call(this,d,handler.context)};d3.selectAll(selector).on(trigger,adapter)})})},bindAllD3Events:function(){var self=this;Y.each(this.modules,function(mod,name){self._bindD3Events(name)})},recordSubscription:function(module,subscription){if(typeof module==="string"){module=this.modules[module]}if(!(module.name in this.events)){throw"Unable able to recordSubscription, module not added."}if(!subscription){throw"Invalid/undefined subscription object cannot be recorded."}this.events[module.name].subscriptions.push(subscription)},_unbindD3Events:function(modName){var modEvents=this.events[modName],owns=Y.Object.owns,module;if(!modEvents||!modEvents.d3){return}modEvents=modEvents.d3;module=this.modules[modName];Y.each(modEvents,function(handlers,selector){Y.each(handlers,function(handler,trigger){d3.selectAll(selector).on(trigger,null)})})},unbind:function(moduleName){var eventSet=this.events,filtered={};function _unbind(modEvents){Y.each(modEvents.subscriptions,function(handler){if(handler){handler.detach()}});delete modEvents.subscriptions}if(moduleName){filtered[moduleName]=eventSet[moduleName];eventSet=filtered}Y.each(Y.Object.values(eventSet),_unbind,this);this._unbindD3Events();return this},renderOnce:function(){this.all("renderOnce")},render:function(){var self=this;function renderAndBind(module,name){if(module&&module.render){module.render()}self._bindD3Events(name)}this.attachContainer();if(!this._rendered){self.renderOnce();self.update();self._rendered=true}Y.each(this.modules,renderAndBind,this);return this},attachContainer:function(){var container=this.get("container");if(container&&!container.inDoc()){Y.one("body").append(container)}return this},detachContainer:function(){var container=this.get("container");if(container.inDoc()){container.remove()}return container},update:function(){this.all("update");return this},all:function(methodName){Y.each(this.modules,function(mod,name){if(methodName in mod){mod[methodName]()}})}},{ATTRS:{container:{}}});ns.Component=Component},"0.1",{requires:["d3","base","array-extras","event","event-resize"]});d3=function(){function n(n){return null!=n&&!isNaN(n)}function t(n){return n.length}function e(n){for(var t=1;n*t%1;)t*=10;return t}function r(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}catch(r){n.prototype=t}}function i(){}function u(){}function a(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function o(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var e=0,r=Ca.length;r>e;++e){var i=Ca[e]+t;if(i in n)return i}}function c(n){for(var t=-1,e=n.length,r=[];++t<e;)r.push(n[t]);return r}function l(n){return Array.prototype.slice.call(n)}function s(){}function f(){}function h(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new i;return t.on=function(t,i){var u,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,u=e.indexOf(a)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function g(){ya.event.preventDefault()}function p(){for(var n,t=ya.event;n=t.sourceEvent;)t=n;return t}function m(n){for(var t=new f,e=0,r=arguments.length;++e<r;)t[arguments[e]]=h(t);
return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=ya.event;i.target=n,ya.event=i,t[i.type].apply(e,r)}finally{ya.event=u}}},t}function d(n){return La(n,Ya),n}function v(n){return"function"==typeof n?n:function(){return Ha(n,this)}}function y(n){return"function"==typeof n?n:function(){return Fa(n,this)}}function M(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ya.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?o:a:n.local?u:i}function x(n){return n.trim().replace(/\s+/g," ")}function b(n){return new RegExp("(?:^|\\s+)"+ya.requote(n)+"(?:\\s+|$)","g")}function _(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=n.trim().split(/\s+/).map(w);var i=n.length;return"function"==typeof t?r:e}function w(n){var t=b(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",x(i+" "+n))):e.setAttribute("class",x(i.replace(t," ")))}}function S(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function E(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function k(n){return"function"==typeof n?n:(n=ya.ns.qualify(n)).local?function(){return Ma.createElementNS(n.space,n.local)}:function(){return Ma.createElementNS(this.namespaceURI,n)}}function A(n){return{__data__:n}}function N(n){return function(){return Oa(this,n)}}function q(n){return arguments.length||(n=ya.ascending),function(t,e){return!t-!e||n(t.__data__,e.__data__)}}function T(n,t){for(var e=0,r=n.length;r>e;e++)for(var i,u=n[e],a=0,o=u.length;o>a;a++)(i=u[a])&&t(i,a,e);return n}function C(n){return La(n,Ua),n}function z(n){var t,e;return function(r,i,u){var a,o=n[u].update,c=o.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(a=o[t])&&++t<c;);return a}}function D(n,t,e){function r(){var t=this[a];t&&(this.removeEventListener(n,t,t.$),delete this[a])}function i(){var i=c(t,za(arguments));r.call(this),this.addEventListener(n,this[a]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+ya.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+n,o=n.indexOf("."),c=j;o>0&&(n=n.substring(0,o));var l=Va.get(n);return l&&(n=l,c=L),o?t?i:r:t?s:u}function j(n,t){return function(e){var r=ya.event;ya.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ya.event=r}}}function L(n,t){var e=j(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function H(){var n=".dragsuppress-"+ ++Za,t="touchmove"+n,e="selectstart"+n,r="dragstart"+n,i="click"+n,u=ya.select(ba).on(t,g).on(e,g).on(r,g),a=xa.style,o=a[Xa];return a[Xa]="none",function(t){function e(){u.on(i,null)}u.on(n,null),a[Xa]=o,t&&(u.on(i,function(){g(),e()},!0),setTimeout(e,0))}}function F(n,t){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>Ba&&(ba.scrollX||ba.scrollY)){e=ya.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=e[0][0].getScreenCTM();Ba=!(i.f||i.e),e.remove()}return Ba?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var u=n.getBoundingClientRect();return[t.clientX-u.left-n.clientLeft,t.clientY-u.top-n.clientTop]}function P(){}function O(n,t,e){return new Y(n,t,e)}function Y(n,t,e){this.h=n,this.s=t,this.l=e}function R(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?u+(a-u)*n/60:180>n?a:240>n?u+(a-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,a;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,a=.5>=e?e*(1+t):e+t-e*t,u=2*e-a,at(i(n+120),i(n),i(n-120))}function U(n){return n>0?1:0>n?-1:0}function I(n){return n>1?0:-1>n?Ka:Math.acos(n)}function V(n){return n>1?Ka/2:-1>n?-Ka/2:Math.asin(n)}function X(n){return(Math.exp(n)-Math.exp(-n))/2}function Z(n){return(Math.exp(n)+Math.exp(-n))/2}function B(n){return(n=Math.sin(n/2))*n}function $(n,t,e){return new W(n,t,e)}function W(n,t,e){this.h=n,this.c=t,this.l=e}function J(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),G(e,Math.cos(n*=to)*t,Math.sin(n)*t)}function G(n,t,e){return new K(n,t,e)}function K(n,t,e){this.l=n,this.a=t,this.b=e}function Q(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=tt(i)*uo,r=tt(r)*ao,u=tt(u)*oo,at(rt(3.2404542*i-1.5371385*r-.4985314*u),rt(-.969266*i+1.8760108*r+.041556*u),rt(.0556434*i-.2040259*r+1.0572252*u))}function nt(n,t,e){return n>0?$(Math.atan2(e,t)*eo,Math.sqrt(t*t+e*e),n):$(0/0,0/0,n)}function tt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function et(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function rt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function it(n){return at(n>>16,255&n>>8,255&n)}function ut(n){return it(n)+""}function at(n,t,e){return new ot(n,t,e)}function ot(n,t,e){this.r=n,this.g=t,this.b=e}function ct(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function lt(n,t,e){var r,i,u,a=0,o=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(gt(i[0]),gt(i[1]),gt(i[2]))}return(u=so.get(n))?t(u.r,u.g,u.b):(null!=n&&"#"===n.charAt(0)&&(4===n.length?(a=n.charAt(1),a+=a,o=n.charAt(2),o+=o,c=n.charAt(3),c+=c):7===n.length&&(a=n.substring(1,3),o=n.substring(3,5),c=n.substring(5,7)),a=parseInt(a,16),o=parseInt(o,16),c=parseInt(c,16)),t(a,o,c))}function st(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),a=Math.max(n,t,e),o=a-u,c=(a+u)/2;return o?(i=.5>c?o/(a+u):o/(2-a-u),r=n==a?(t-e)/o+(e>t?6:0):t==a?(e-n)/o+2:(n-t)/o+4,r*=60):(r=0/0,i=c>0&&1>c?0:r),O(r,i,c)}function ft(n,t,e){n=ht(n),t=ht(t),e=ht(e);var r=et((.4124564*n+.3575761*t+.1804375*e)/uo),i=et((.2126729*n+.7151522*t+.072175*e)/ao),u=et((.0193339*n+.119192*t+.9503041*e)/oo);return G(116*i-16,500*(r-i),200*(i-u))}function ht(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function gt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function pt(n){return"function"==typeof n?n:function(){return n}}function mt(n){return n}function dt(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),vt(t,e,n,r)}}function vt(n,t,e,r){function i(){var n,t=c.status;if(!t&&c.responseText||t>=200&&300>t||304===t){try{n=e.call(u,c)}catch(r){return a.error.call(u,r),void 0}a.load.call(u,n)}else a.error.call(u,c)}var u={},a=ya.dispatch("progress","load","error"),o={},c=new XMLHttpRequest,l=null;return!ba.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=i:c.onreadystatechange=function(){c.readyState>3&&i()},c.onprogress=function(n){var t=ya.event;ya.event=n;try{a.progress.call(u,c)}finally{ya.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?o[n]:(null==t?delete o[n]:o[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(l=n,u):l},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(za(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(e,n,!0),null==t||"accept"in o||(o.accept=t+",*/*"),c.setRequestHeader)for(var a in o)c.setRequestHeader(a,o[a]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),c.send(null==r?null:r),u},u.abort=function(){return c.abort(),u},ya.rebind(u,a,"on"),null==r?u:u.get(yt(r))}function yt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Mt(){var n=bt(),t=_t()-n;t>24?(isFinite(t)&&(clearTimeout(po),po=setTimeout(Mt,t)),go=0):(go=1,vo(Mt))}function xt(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now()),mo.callback=n,mo.time=e+t}function bt(){var n=Date.now();for(mo=fo;mo;)n>=mo.time&&(mo.flush=mo.callback(n-mo.time)),mo=mo.next;return n}function _t(){for(var n,t=fo,e=1/0;t;)t.flush?t=n?n.next=t.next:fo=t.next:(t.time<e&&(e=t.time),t=(n=t).next);return ho=n,e}function wt(n,t){var e=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function St(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Et(n){return n+""}function kt(){}function At(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function Nt(n,t){n&&qo.hasOwnProperty(n.type)&&qo[n.type](n,t)}function qt(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1]);t.lineEnd()}function Tt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)qt(n[e],t,1);t.polygonEnd()}function Ct(){function n(n,t){n*=to,t=t*to/2+Ka/4;var e=n-r,a=Math.cos(t),o=Math.sin(t),c=u*o,l=i*a+c*Math.cos(e),s=c*Math.sin(e);Co.add(Math.atan2(s,l)),r=n,i=a,u=o}var t,e,r,i,u;zo.point=function(a,o){zo.point=n,r=(t=a)*to,i=Math.cos(o=(e=o)*to/2+Ka/4),u=Math.sin(o)},zo.lineEnd=function(){n(t,e)}}function zt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function Dt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function jt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Lt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ht(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ft(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Pt(n){return[Math.atan2(n[1],n[0]),V(n[2])]}function Ot(n,t){return Math.abs(n[0]-t[0])<Qa&&Math.abs(n[1]-t[1])<Qa}function Yt(n,t){n*=to;var e=Math.cos(t*=to);Rt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function Rt(n,t,e){++Do,Lo+=(n-Lo)/Do,Ho+=(t-Ho)/Do,Fo+=(e-Fo)/Do}function Ut(){function n(n,i){n*=to;var u=Math.cos(i*=to),a=u*Math.cos(n),o=u*Math.sin(n),c=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*c-r*o)*l+(l=r*a-t*c)*l+(l=t*o-e*a)*l),t*a+e*o+r*c);jo+=l,Po+=l*(t+(t=a)),Oo+=l*(e+(e=o)),Yo+=l*(r+(r=c)),Rt(t,e,r)}var t,e,r;Vo.point=function(i,u){i*=to;var a=Math.cos(u*=to);t=a*Math.cos(i),e=a*Math.sin(i),r=Math.sin(u),Vo.point=n,Rt(t,e,r)}}function It(){Vo.point=Yt}function Vt(){function n(n,t){n*=to;var e=Math.cos(t*=to),a=e*Math.cos(n),o=e*Math.sin(n),c=Math.sin(t),l=i*c-u*o,s=u*a-r*c,f=r*o-i*a,h=Math.sqrt(l*l+s*s+f*f),g=r*a+i*o+u*c,p=h&&-I(g)/h,m=Math.atan2(h,g);Ro+=p*l,Uo+=p*s,Io+=p*f,jo+=m,Po+=m*(r+(r=a)),Oo+=m*(i+(i=o)),Yo+=m*(u+(u=c)),Rt(r,i,u)}var t,e,r,i,u;Vo.point=function(a,o){t=a,e=o,Vo.point=n,a*=to;var c=Math.cos(o*=to);r=c*Math.cos(a),i=c*Math.sin(a),u=Math.sin(o),Rt(r,i,u)},Vo.lineEnd=function(){n(t,e),Vo.lineEnd=It,Vo.point=Yt}}function Xt(){return!0}function Zt(n,t,e,r,i){var u=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(Ot(e,r)){i.lineStart();for(var o=0;t>o;++o)i.point((e=n[o])[0],e[1]);return i.lineEnd(),void 0}var c={point:e,points:n,other:null,visited:!1,entry:!0,subject:!0},l={point:e,points:[e],other:c,visited:!1,entry:!1,subject:!1};c.other=l,u.push(c),a.push(l),c={point:r,points:[r],other:null,visited:!1,entry:!1,subject:!0},l={point:r,points:[r],other:c,visited:!1,entry:!0,subject:!1},c.other=l,u.push(c),a.push(l)}}),a.sort(t),Bt(u),Bt(a),u.length){if(e)for(var o=1,c=!e(a[0].point),l=a.length;l>o;++o)a[o].entry=c=!c;for(var s,f,h,g=u[0];;){for(s=g;s.visited;)if((s=s.next)===g)return;f=s.points,i.lineStart();do{if(s.visited=s.other.visited=!0,s.entry){if(s.subject)for(var o=0;o<f.length;o++)i.point((h=f[o])[0],h[1]);else r(s.point,s.next.point,1,i);s=s.next}else{if(s.subject){f=s.prev.points;for(var o=f.length;--o>=0;)i.point((h=f[o])[0],h[1])}else r(s.point,s.prev.point,-1,i);s=s.prev}s=s.other,f=s.points}while(!s.visited);i.lineEnd()}}}function Bt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.next=e=n[r],e.prev=i,i=e;i.next=e=n[0],e.prev=i}}function $t(n,t,e,r){return function(i){function u(t,e){n(t,e)&&i.point(t,e)}function a(n,t){m.point(n,t)}function o(){d.point=a,m.lineStart()}function c(){d.point=u,m.lineEnd()}function l(n,t){y.point(n,t),p.push([n,t])}function s(){y.lineStart(),p=[]}function f(){l(p[0][0],p[0][1]),y.lineEnd();var n,t=y.clean(),e=v.buffer(),r=e.length;if(p.pop(),g.push(p),p=null,r){if(1&t){n=e[0];var u,r=n.length-1,a=-1;for(i.lineStart();++a<r;)i.point((u=n[a])[0],u[1]);return i.lineEnd(),void 0}r>1&&2&t&&e.push(e.pop().concat(e.shift())),h.push(e.filter(Wt))}}var h,g,p,m=t(i),d={point:u,lineStart:o,lineEnd:c,polygonStart:function(){d.point=l,d.lineStart=s,d.lineEnd=f,h=[],g=[],i.polygonStart()},polygonEnd:function(){d.point=u,d.lineStart=o,d.lineEnd=c,h=ya.merge(h),h.length?Zt(h,Gt,null,e,i):r(g)&&(i.lineStart(),e(null,null,1,i),i.lineEnd()),i.polygonEnd(),h=g=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},v=Jt(),y=t(v);return d}}function Wt(n){return n.length>1}function Jt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:s,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Gt(n,t){return((n=n.point)[0]<0?n[1]-Ka/2-Qa:Ka/2-n[1])-((t=t.point)[0]<0?t[1]-Ka/2-Qa:Ka/2-t[1])}function Kt(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,a=!1,o=!1,c=0;Co.reset();for(var l=0,s=t.length;s>l;++l){var f=t[l],h=f.length;if(h){for(var g=f[0],p=g[0],m=g[1]/2+Ka/4,d=Math.sin(m),v=Math.cos(m),y=1;;){y===h&&(y=0),n=f[y];var M=n[0],x=n[1]/2+Ka/4,b=Math.sin(x),_=Math.cos(x),w=M-p,S=Math.abs(w)>Ka,E=d*b;if(Co.add(Math.atan2(E*Math.sin(w),v*_+E*Math.cos(w))),Math.abs(x)<Qa&&(o=!0),u+=S?w+(w>=0?2:-2)*Ka:w,S^p>=e^M>=e){var k=jt(zt(g),zt(n));Ft(k);var A=jt(i,k);Ft(A);var N=(S^w>=0?-1:1)*V(A[2]);r>N&&(c+=S^w>=0?1:-1)}if(!y++)break;p=M,d=b,v=_,g=n}Math.abs(u)>Qa&&(a=!0)}}return(!o&&!a&&0>Co||-Qa>u)^1&c}function Qt(n){var t,e=0/0,r=0/0,i=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(u,a){var o=u>0?Ka:-Ka,c=Math.abs(u-e);Math.abs(c-Ka)<Qa?(n.point(e,r=(r+a)/2>0?Ka/2:-Ka/2),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(o,r),n.point(u,r),t=0):i!==o&&c>=Ka&&(Math.abs(e-i)<Qa&&(e-=i*Qa),Math.abs(u-o)<Qa&&(u-=o*Qa),r=ne(e,r,u,a),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(o,r),t=0),n.point(e=u,r=a),i=o},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function ne(n,t,e,r){var i,u,a=Math.sin(n-e);return Math.abs(a)>Qa?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*a)):(t+r)/2}function te(n,t,e,r){var i;if(null==n)i=e*Ka/2,r.point(-Ka,i),r.point(0,i),r.point(Ka,i),r.point(Ka,0),r.point(Ka,-i),r.point(0,-i),r.point(-Ka,-i),r.point(-Ka,0),r.point(-Ka,i);else if(Math.abs(n[0]-t[0])>Qa){var u=(n[0]<t[0]?1:-1)*Ka;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function ee(n){return Kt(Zo,n)}function re(n){function t(n,t){return Math.cos(n)*Math.cos(t)>a}function e(n){var e,u,a,c,s;return{lineStart:function(){c=a=!1,s=1},point:function(f,h){var g,p=[f,h],m=t(f,h),d=o?m?0:i(f,h):m?i(f+(0>f?Ka:-Ka),h):0;if(!e&&(c=a=m)&&n.lineStart(),m!==a&&(g=r(e,p),(Ot(e,g)||Ot(p,g))&&(p[0]+=Qa,p[1]+=Qa,m=t(p[0],p[1]))),m!==a)s=0,m?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(l&&e&&o^m){var v;d&u||!(v=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(v[0][0],v[0][1]),n.point(v[1][0],v[1][1]),n.lineEnd()):(n.point(v[1][0],v[1][1]),n.lineEnd(),n.lineStart(),n.point(v[0][0],v[0][1])))}!m||e&&Ot(e,p)||n.point(p[0],p[1]),e=p,a=m,u=d},lineEnd:function(){a&&n.lineEnd(),e=null},clean:function(){return s|(c&&a)<<1}}}function r(n,t,e){var r=zt(n),i=zt(t),u=[1,0,0],o=jt(r,i),c=Dt(o,o),l=o[0],s=c-l*l;if(!s)return!e&&n;var f=a*c/s,h=-a*l/s,g=jt(u,o),p=Ht(u,f),m=Ht(o,h);Lt(p,m);var d=g,v=Dt(p,d),y=Dt(d,d),M=v*v-y*(Dt(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=Ht(d,(-v-x)/y);if(Lt(b,p),b=Pt(b),!e)return b;var _,w=n[0],S=t[0],E=n[1],k=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=Math.abs(A-Ka)<Qa,q=N||Qa>A;if(!N&&E>k&&(_=E,E=k,k=_),q?N?E+k>0^b[1]<(Math.abs(b[0]-w)<Qa?E:k):E<=b[1]&&b[1]<=k:A>Ka^(w<=b[0]&&b[0]<=S)){var T=Ht(d,(-v+x)/y);return Lt(T,p),[b,Pt(T)]}}}function i(t,e){var r=o?n:Ka-n,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>e?i|=4:e>r&&(i|=8),i}function u(n){return Kt(c,n)}var a=Math.cos(n),o=a>0,c=[n,0],l=Math.abs(a)>Qa,s=Ne(n,6*to);return $t(t,e,s,u)}function ie(n,t,e,r){function i(r,i){return Math.abs(r[0]-n)<Qa?i>0?0:3:Math.abs(r[0]-e)<Qa?i>0?2:1:Math.abs(r[1]-t)<Qa?i>0?1:0:i>0?3:2}function u(n,t){return a(n.point,t.point)}function a(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}function o(i,u){var a=u[0]-i[0],o=u[1]-i[1],c=[0,1];return Math.abs(a)<Qa&&Math.abs(o)<Qa?n<=i[0]&&i[0]<=e&&t<=i[1]&&i[1]<=r:ue(n-i[0],a,c)&&ue(i[0]-e,-a,c)&&ue(t-i[1],o,c)&&ue(i[1]-r,-o,c)?(c[1]<1&&(u[0]=i[0]+c[1]*a,u[1]=i[1]+c[1]*o),c[0]>0&&(i[0]+=c[0]*a,i[1]+=c[0]*o),!0):!1}return function(c){function l(u){var a=i(u,-1),o=s([0===a||3===a?n:e,a>1?r:t]);return o}function s(n){for(var t=0,e=M.length,r=n[1],i=0;e>i;++i)for(var u,a=1,o=M[i],c=o.length,l=o[0];c>a;++a)u=o[a],l[1]<=r?u[1]>r&&f(l,u,n)>0&&++t:u[1]<=r&&f(l,u,n)<0&&--t,l=u;return 0!==t}function f(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1])}function h(u,o,c,l){var s=0,f=0;if(null==u||(s=i(u,c))!==(f=i(o,c))||a(u,o)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(o[0],o[1])}function g(i,u){return i>=n&&e>=i&&u>=t&&r>=u}function p(n,t){g(n,t)&&c.point(n,t)}function m(){T.point=v,M&&M.push(x=[]),A=!0,k=!1,S=E=0/0}function d(){y&&(v(b,_),w&&k&&q.rejoin(),y.push(q.buffer())),T.point=p,k&&c.lineEnd()}function v(n,t){n=Math.max(-Bo,Math.min(Bo,n)),t=Math.max(-Bo,Math.min(Bo,t));var e=g(n,t);if(M&&x.push([n,t]),A)b=n,_=t,w=e,A=!1,e&&(c.lineStart(),c.point(n,t));else if(e&&k)c.point(n,t);else{var r=[S,E],i=[n,t];o(r,i)?(k||(c.lineStart(),c.point(r[0],r[1])),c.point(i[0],i[1]),e||c.lineEnd()):e&&(c.lineStart(),c.point(n,t))}S=n,E=t,k=e}var y,M,x,b,_,w,S,E,k,A,N=c,q=Jt(),T={point:p,lineStart:m,lineEnd:d,polygonStart:function(){c=q,y=[],M=[]},polygonEnd:function(){c=N,(y=ya.merge(y)).length?(c.polygonStart(),Zt(y,u,l,h,c),c.polygonEnd()):s([n,t])&&(c.polygonStart(),c.lineStart(),h(null,null,1,c),c.lineEnd(),c.polygonEnd()),y=M=x=null}};return T}}function ue(n,t,e){if(Math.abs(t)<Qa)return 0>=n;var r=n/t;if(t>0){if(r>e[1])return!1;r>e[0]&&(e[0]=r)}else{if(r<e[0])return!1;r<e[1]&&(e[1]=r)}return!0}function ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function oe(n){var t=0,e=Ka/3,r=be(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*Ka/180,e=n[1]*Ka/180):[180*(t/Ka),180*(e/Ka)]},i}function ce(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),a-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),a=Math.sqrt(u)/i;return e.invert=function(n,t){var e=a-t;return[Math.atan2(n,e)/i,V((u-(n*n+e*e)*i*i)/(2*i))]},e}function le(){function n(n,t){Wo+=i*n-r*t,r=n,i=t}var t,e,r,i;nc.point=function(u,a){nc.point=n,t=r=u,e=i=a},nc.lineEnd=function(){n(t,e)}}function se(n,t){Jo>n&&(Jo=n),n>Ko&&(Ko=n),Go>t&&(Go=t),t>Qo&&(Qo=t)}function fe(){function n(n,t){a.push("M",n,",",t,u)}function t(n,t){a.push("M",n,",",t),o.point=e}function e(n,t){a.push("L",n,",",t)}function r(){o.point=n}function i(){a.push("Z")}var u=he(4.5),a=[],o={point:n,lineStart:function(){o.point=t},lineEnd:r,polygonStart:function(){o.lineEnd=i},polygonEnd:function(){o.lineEnd=r,o.point=n},pointRadius:function(n){return u=he(n),o},result:function(){if(a.length){var n=a.join("");return a=[],n}}};return o}function he(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function ge(n,t){Lo+=n,Ho+=t,++Fo}function pe(){function n(n,r){var i=n-t,u=r-e,a=Math.sqrt(i*i+u*u);Po+=a*(t+n)/2,Oo+=a*(e+r)/2,Yo+=a,ge(t=n,e=r)}var t,e;ec.point=function(r,i){ec.point=n,ge(t=r,e=i)}}function me(){ec.point=ge}function de(){function n(n,t){var e=n-r,u=t-i,a=Math.sqrt(e*e+u*u);Po+=a*(r+n)/2,Oo+=a*(i+t)/2,Yo+=a,a=i*n-r*t,Ro+=a*(r+n),Uo+=a*(i+t),Io+=3*a,ge(r=n,i=t)}var t,e,r,i;ec.point=function(u,a){ec.point=n,ge(t=r=u,e=i=a)},ec.lineEnd=function(){n(t,e)}}function ve(n){function t(t,e){n.moveTo(t,e),n.arc(t,e,a,0,2*Ka)}function e(t,e){n.moveTo(t,e),o.point=r}function r(t,e){n.lineTo(t,e)}function i(){o.point=t}function u(){n.closePath()}var a=4.5,o={point:t,lineStart:function(){o.point=e},lineEnd:i,polygonStart:function(){o.lineEnd=u},polygonEnd:function(){o.lineEnd=i,o.point=t},pointRadius:function(n){return a=n,o},result:s};return o}function ye(n){function t(t){function r(e,r){e=n(e,r),t.point(e[0],e[1])}function i(){M=0/0,S.point=a,t.lineStart()}function a(r,i){var a=zt([r,i]),o=n(r,i);e(M,x,y,b,_,w,M=o[0],x=o[1],y=r,b=a[0],_=a[1],w=a[2],u,t),t.point(M,x)}function o(){S.point=r,t.lineEnd()}function c(){i(),S.point=l,S.lineEnd=s}function l(n,t){a(f=n,h=t),g=M,p=x,m=b,d=_,v=w,S.point=a}function s(){e(M,x,y,b,_,w,g,p,f,m,d,v,u,t),S.lineEnd=o,o()}var f,h,g,p,m,d,v,y,M,x,b,_,w,S={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=i}};return S}function e(t,u,a,o,c,l,s,f,h,g,p,m,d,v){var y=s-t,M=f-u,x=y*y+M*M;if(x>4*r&&d--){var b=o+g,_=c+p,w=l+m,S=Math.sqrt(b*b+_*_+w*w),E=Math.asin(w/=S),k=Math.abs(Math.abs(w)-1)<Qa?(a+h)/2:Math.atan2(_,b),A=n(k,E),N=A[0],q=A[1],T=N-t,C=q-u,z=M*T-y*C;(z*z/x>r||Math.abs((y*T+M*C)/x-.5)>.3||i>o*g+c*p+l*m)&&(e(t,u,a,o,c,l,N,q,k,b/=S,_/=S,w,d,v),v.point(N,q),e(N,q,k,b,_,w,s,f,h,g,p,m,d,v))}}var r=.5,i=Math.cos(30*to),u=16;return t.precision=function(n){return arguments.length?(u=(r=n*n)>0&&16,t):Math.sqrt(r)},t}function Me(n){var t=ye(function(t,e){return n([t*eo,e*eo])});return function(n){return n=t(n),{point:function(t,e){n.point(t*to,e*to)},sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}}function xe(n){return be(function(){return n})()}function be(n){function t(n){return n=o(n[0]*to,n[1]*to),[n[0]*h+c,l-n[1]*h]}function e(n){return n=o.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*eo,n[1]*eo]}function r(){o=ae(a=Se(v,y,M),u);var n=u(m,d);return c=g-n[0]*h,l=p+n[1]*h,i()}function i(){return s&&(s.valid=!1,s=null),t}var u,a,o,c,l,s,f=ye(function(n,t){return n=u(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,m=0,d=0,v=0,y=0,M=0,x=Xo,b=mt,_=null,w=null;return t.stream=function(n){return s&&(s.valid=!1),s=_e(a,x(f(b(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(x=null==n?(_=n,Xo):re((_=+n)*to),i()):_},t.clipExtent=function(n){return arguments.length?(w=n,b=null==n?mt:ie(n[0][0],n[0][1],n[1][0],n[1][1]),i()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(m=n[0]%360*to,d=n[1]%360*to,r()):[m*eo,d*eo]},t.rotate=function(n){return arguments.length?(v=n[0]%360*to,y=n[1]%360*to,M=n.length>2?n[2]%360*to:0,r()):[v*eo,y*eo,M*eo]},ya.rebind(t,f,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function _e(n,t){return{point:function(e,r){r=n(e*to,r*to),e=r[0],t.point(e>Ka?e-2*Ka:-Ka>e?e+2*Ka:e,r[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function we(n,t){return[n,t]}function Se(n,t,e){return n?t||e?ae(ke(n),Ae(t,e)):ke(n):t||e?Ae(t,e):we}function Ee(n){return function(t,e){return t+=n,[t>Ka?t-2*Ka:-Ka>t?t+2*Ka:t,e]}}function ke(n){var t=Ee(n);return t.invert=Ee(-n),t}function Ae(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+o*i;return[Math.atan2(c*u-s*a,o*r-l*i),V(s*u+c*a)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),a=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*u-c*a;return[Math.atan2(c*u+l*a,o*r+s*i),V(s*r-o*i)]},e}function Ne(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,a,o){null!=i?(i=qe(e,i),u=qe(e,u),(a>0?u>i:i>u)&&(i+=2*a*Ka)):(i=n+2*a*Ka,u=n);for(var c,l=a*t,s=i;a>0?s>u:u>s;s-=l)o.point((c=Pt([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function qe(n,t){var e=zt(t);e[0]-=n,Ft(e);var r=I(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Qa)%(2*Math.PI)}function Te(n,t,e){var r=ya.range(n,t-Qa,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function Ce(n,t,e){var r=ya.range(n,t-Qa,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function ze(n){return n.source}function De(n){return n.target}function je(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),a=Math.cos(r),o=Math.sin(r),c=i*Math.cos(n),l=i*Math.sin(n),s=a*Math.cos(e),f=a*Math.sin(e),h=2*Math.asin(Math.sqrt(B(r-t)+i*a*B(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,i=e*l+t*f,a=e*u+t*o;return[Math.atan2(i,r)*eo,Math.atan2(a,Math.sqrt(r*r+i*i))*eo]}:function(){return[n*eo,t*eo]};return p.distance=h,p}function Le(){function n(n,i){var u=Math.sin(i*=to),a=Math.cos(i),o=Math.abs((n*=to)-t),c=Math.cos(o);rc+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=r*u-e*a*c)*o),e*u+r*a*c),t=n,e=u,r=a}var t,e,r;ic.point=function(i,u){t=i*to,e=Math.sin(u*=to),r=Math.cos(u),ic.point=n},ic.lineEnd=function(){ic.point=ic.lineEnd=s}}function He(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),a=Math.cos(i);return[Math.atan2(n*u,r*a),Math.asin(r&&e*u/r)]},e}function Fe(n,t){function e(n,t){var e=Math.abs(Math.abs(t)-Ka/2)<Qa?0:a/Math.pow(i(t),u);return[e*Math.sin(u*n),a-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(Ka/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),a=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=a-t,r=U(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(a/r,1/u))-Ka/2]},e):Oe}function Pe(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return Math.abs(i)<Qa?we:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-U(i)*Math.sqrt(n*n+e*e)]},e)}function Oe(n,t){return[n,Math.log(Math.tan(Ka/4+t/2))]}function Ye(n){var t,e=xe(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var a=u.apply(e,arguments);if(a===e){if(t=null==n){var o=Ka*r(),c=i();u([[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]])}}else t&&(a=null);return a},e.clipExtent(null)}function Re(n,t){var e=Math.cos(t)*Math.sin(n);return[Math.log((1+e)/(1-e))/2,Math.atan2(Math.tan(t),Math.cos(n))]}function Ue(n){function t(t){function a(){l.push("M",u(n(s),o))}for(var c,l=[],s=[],f=-1,h=t.length,g=pt(e),p=pt(r);++f<h;)i.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(a(),s=[]);return s.length&&a(),l.length?l.join(""):null}var e=Ie,r=Ve,i=Xt,u=Xe,a=u.key,o=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(a="function"==typeof n?u=n:(u=sc.get(n)||Xe).key,t):a},t.tension=function(n){return arguments.length?(o=n,t):o},t}function Ie(n){return n[0]}function Ve(n){return n[1]}function Xe(n){return n.join("L")}function Ze(n){return Xe(n)+"Z"}function Be(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function $e(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function We(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function Je(n,t){return n.length<4?Xe(n):n[1]+Qe(n.slice(1,n.length-1),nr(n,t))}function Ge(n,t){return n.length<3?Xe(n):n[0]+Qe((n.push(n[0]),n),nr([n[n.length-2]].concat(n,[n[1]]),t))}function Ke(n,t){return n.length<3?Xe(n):n[0]+Qe(n,nr(n,t))}function Qe(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return Xe(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],a=t[0],o=a,c=1;if(e&&(r+="Q"+(u[0]-2*a[0]/3)+","+(u[1]-2*a[1]/3)+","+u[0]+","+u[1],i=n[1],c=2),t.length>1){o=t[1],u=n[c],c++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1];for(var l=2;l<t.length;l++,c++)u=n[c],o=t[l],r+="S"+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1]}if(e){var s=n[c];r+="Q"+(u[0]+2*o[0]/3)+","+(u[1]+2*o[1]/3)+","+s[0]+","+s[1]}return r}function nr(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],a=n[1],o=1,c=n.length;++o<c;)e=u,u=a,a=n[o],r.push([i*(a[0]-e[0]),i*(a[1]-e[1])]);return r}function tr(n){if(n.length<3)return Xe(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],a=[i,i,i,(r=n[1])[0]],o=[u,u,u,r[1]],c=[i,",",u,"L",ur(gc,a),",",ur(gc,o)];for(n.push(n[e-1]);++t<=e;)r=n[t],a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),ar(c,a,o);return n.pop(),c.push("L",r),c.join("")}function er(n){if(n.length<4)return Xe(n);for(var t,e=[],r=-1,i=n.length,u=[0],a=[0];++r<3;)t=n[r],u.push(t[0]),a.push(t[1]);for(e.push(ur(gc,u)+","+ur(gc,a)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),a.shift(),a.push(t[1]),ar(e,u,a);return e.join("")}function rr(n){for(var t,e,r=-1,i=n.length,u=i+4,a=[],o=[];++r<4;)e=n[r%i],a.push(e[0]),o.push(e[1]);for(t=[ur(gc,a),",",ur(gc,o)],--r;++r<u;)e=n[r%i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),ar(t,a,o);return t.join("")}function ir(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],a=n[0][1],o=n[e][0]-u,c=n[e][1]-a,l=-1;++l<=e;)r=n[l],i=l/e,r[0]=t*r[0]+(1-t)*(u+i*o),r[1]=t*r[1]+(1-t)*(a+i*c);return tr(n)}function ur(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function ar(n,t,e){n.push("C",ur(fc,t),",",ur(fc,e),",",ur(hc,t),",",ur(hc,e),",",ur(gc,t),",",ur(gc,e))}function or(n,t){return(t[1]-n[1])/(t[0]-n[0])}function cr(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],a=r[0]=or(i,u);++t<e;)r[t]=(a+(a=or(i=u,u=n[t+1])))/2;return r[t]=a,r}function lr(n){for(var t,e,r,i,u=[],a=cr(n),o=-1,c=n.length-1;++o<c;)t=or(n[o],n[o+1]),Math.abs(t)<1e-6?a[o]=a[o+1]=0:(e=a[o]/t,r=a[o+1]/t,i=e*e+r*r,i>9&&(i=3*t/Math.sqrt(i),a[o]=i*e,a[o+1]=i*r));for(o=-1;++o<=c;)i=(n[Math.min(c,o+1)][0]-n[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),u.push([i||0,a[o]*i||0]);return u}function sr(n){return n.length<3?Xe(n):n[0]+Qe(n,lr(n))}function fr(n,t,e,r){var i,u,a,o,c,l,s;return i=r[n],u=i[0],a=i[1],i=r[t],o=i[0],c=i[1],i=r[e],l=i[0],s=i[1],(s-a)*(o-u)-(c-a)*(l-u)>0}function hr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function gr(n,t,e,r){var i=n[0],u=e[0],a=t[0]-i,o=r[0]-u,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(o*(c-l)-f*(i-u))/(f*a-o*s);return[i+h*a,c+h*s]}function pr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function mr(n,t){var e={list:n.map(function(n,t){return{index:t,x:n[0],y:n[1]}
}).sort(function(n,t){return n.y<t.y?-1:n.y>t.y?1:n.x<t.x?-1:n.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(n,t){return{edge:n,side:t,vertex:null,l:null,r:null}},insert:function(n,t){t.l=n,t.r=n.r,n.r.l=t,n.r=t},leftBound:function(n){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&i.rightOf(t,n));return t=t.l},del:function(n){n.l.r=n.r,n.r.l=n.l,n.edge=null},right:function(n){return n.r},left:function(n){return n.l},leftRegion:function(n){return null==n.edge?e.bottomSite:n.edge.region[n.side]},rightRegion:function(n){return null==n.edge?e.bottomSite:n.edge.region[mc[n.side]]}},i={bisect:function(n,t){var e={region:{l:n,r:t},ep:{l:null,r:null}},r=t.x-n.x,i=t.y-n.y,u=r>0?r:-r,a=i>0?i:-i;return e.c=n.x*r+n.y*i+.5*(r*r+i*i),u>a?(e.a=1,e.b=i/r,e.c/=r):(e.b=1,e.a=r/i,e.c/=i),e},intersect:function(n,t){var e=n.edge,r=t.edge;if(!e||!r||e.region.r==r.region.r)return null;var i=e.a*r.b-e.b*r.a;if(Math.abs(i)<1e-10)return null;var u,a,o=(e.c*r.b-r.c*e.b)/i,c=(r.c*e.a-e.c*r.a)/i,l=e.region.r,s=r.region.r;l.y<s.y||l.y==s.y&&l.x<s.x?(u=n,a=e):(u=t,a=r);var f=o>=a.region.r.x;return f&&"l"===u.side||!f&&"r"===u.side?null:{x:o,y:c}},rightOf:function(n,t){var e=n.edge,r=e.region.r,i=t.x>r.x;if(i&&"l"===n.side)return 1;if(!i&&"r"===n.side)return 0;if(1===e.a){var u=t.y-r.y,a=t.x-r.x,o=0,c=0;if(!i&&e.b<0||i&&e.b>=0?c=o=u>=e.b*a:(c=t.x+t.y*e.b>e.c,e.b<0&&(c=!c),c||(o=1)),!o){var l=r.x-e.region.l.x;c=e.b*(a*a-u*u)<l*u*(1+2*a/l+e.b*e.b),e.b<0&&(c=!c)}}else{var s=e.c-e.a*t.x,f=t.y-s,h=t.x-r.x,g=s-r.y;c=f*f>h*h+g*g}return"l"===n.side?c:!c},endPoint:function(n,e,r){n.ep[e]=r,n.ep[mc[e]]&&t(n)},distance:function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(e*e+r*r)}},u={list:[],insert:function(n,t,e){n.vertex=t,n.ystar=t.y+e;for(var r=0,i=u.list,a=i.length;a>r;r++){var o=i[r];if(!(n.ystar>o.ystar||n.ystar==o.ystar&&t.x>o.vertex.x))break}i.splice(r,0,n)},del:function(n){for(var t=0,e=u.list,r=e.length;r>t&&e[t]!=n;++t);e.splice(t,1)},empty:function(){return 0===u.list.length},nextEvent:function(n){for(var t=0,e=u.list,r=e.length;r>t;++t)if(e[t]==n)return e[t+1];return null},min:function(){var n=u.list[0];return{x:n.vertex.x,y:n.ystar}},extractMin:function(){return u.list.shift()}};r.init(),e.bottomSite=e.list.shift();for(var a,o,c,l,s,f,h,g,p,m,d,v,y,M=e.list.shift();;)if(u.empty()||(a=u.min()),M&&(u.empty()||M.y<a.y||M.y==a.y&&M.x<a.x))o=r.leftBound(M),c=r.right(o),h=r.rightRegion(o),v=i.bisect(h,M),f=r.createHalfEdge(v,"l"),r.insert(o,f),m=i.intersect(o,f),m&&(u.del(o),u.insert(o,m,i.distance(m,M))),o=f,f=r.createHalfEdge(v,"r"),r.insert(o,f),m=i.intersect(f,c),m&&u.insert(f,m,i.distance(m,M)),M=e.list.shift();else{if(u.empty())break;o=u.extractMin(),l=r.left(o),c=r.right(o),s=r.right(c),h=r.leftRegion(o),g=r.rightRegion(c),d=o.vertex,i.endPoint(o.edge,o.side,d),i.endPoint(c.edge,c.side,d),r.del(o),u.del(c),r.del(c),y="l",h.y>g.y&&(p=h,h=g,g=p,y="r"),v=i.bisect(h,g),f=r.createHalfEdge(v,y),r.insert(l,f),i.endPoint(v,mc[y],d),m=i.intersect(l,f),m&&(u.del(l),u.insert(l,m,i.distance(m,h))),m=i.intersect(f,s),m&&u.insert(f,m,i.distance(m,h))}for(o=r.right(r.leftEnd);o!=r.rightEnd;o=r.right(o))t(o.edge)}function dr(n){return n.x}function vr(n){return n.y}function yr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Mr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var a=.5*(e+i),o=.5*(r+u),c=t.nodes;c[0]&&Mr(n,c[0],e,r,a,o),c[1]&&Mr(n,c[1],a,r,i,o),c[2]&&Mr(n,c[2],e,o,a,u),c[3]&&Mr(n,c[3],a,o,i,u)}}function xr(n,t){n=ya.rgb(n),t=ya.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,a=t.g-r,o=t.b-i;return function(n){return"#"+ct(Math.round(e+u*n))+ct(Math.round(r+a*n))+ct(Math.round(i+o*n))}}function br(n,t){var e,r={},i={};for(e in n)e in t?r[e]=Sr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function _r(n,t){return t-=n=+n,function(e){return n+t*e}}function wr(n,t){var e,r,i,u,a,o=0,c=0,l=[],s=[];for(n+="",t+="",dc.lastIndex=0,r=0;e=dc.exec(t);++r)e.index&&l.push(t.substring(o,c=e.index)),s.push({i:l.length,x:e[0]}),l.push(null),o=dc.lastIndex;for(o<t.length&&l.push(t.substring(o)),r=0,u=s.length;(e=dc.exec(n))&&u>r;++r)if(a=s[r],a.x==e[0]){if(a.i)if(null==l[a.i+1])for(l[a.i-1]+=a.x,l.splice(a.i,1),i=r+1;u>i;++i)s[i].i--;else for(l[a.i-1]+=a.x+l[a.i+1],l.splice(a.i,2),i=r+1;u>i;++i)s[i].i-=2;else if(null==l[a.i+1])l[a.i]=a.x;else for(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1),i=r+1;u>i;++i)s[i].i--;s.splice(r,1),u--,r--}else a.x=_r(parseFloat(e[0]),parseFloat(a.x));for(;u>r;)a=s.pop(),null==l[a.i+1]?l[a.i]=a.x:(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1)),u--;return 1===l.length?null==l[0]?(a=s[0].x,function(n){return a(n)+""}):function(){return t}:function(n){for(r=0;u>r;++r)l[(a=s[r]).i]=a.x(n);return l.join("")}}function Sr(n,t){for(var e,r=ya.interpolators.length;--r>=0&&!(e=ya.interpolators[r](n,t)););return e}function Er(n,t){var e,r=[],i=[],u=n.length,a=t.length,o=Math.min(n.length,t.length);for(e=0;o>e;++e)r.push(Sr(n[e],t[e]));for(;u>e;++e)i[e]=n[e];for(;a>e;++e)i[e]=t[e];return function(n){for(e=0;o>e;++e)i[e]=r[e](n);return i}}function kr(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function Ar(n){return function(t){return 1-n(1-t)}}function Nr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function qr(n){return n*n}function Tr(n){return n*n*n}function Cr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function zr(n){return function(t){return Math.pow(t,n)}}function Dr(n){return 1-Math.cos(n*Ka/2)}function jr(n){return Math.pow(2,10*(n-1))}function Lr(n){return 1-Math.sqrt(1-n*n)}function Hr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/(2*Ka)*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,10*-r)*Math.sin(2*(r-e)*Ka/t)}}function Fr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Pr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Or(n,t){n=ya.hcl(n),t=ya.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,a=t.c-r,o=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:-180>u&&(u+=360),function(n){return J(e+u*n,r+a*n,i+o*n)+""}}function Yr(n,t){n=ya.hsl(n),t=ya.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,a=t.s-r,o=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:-180>u&&(u+=360),function(n){return R(e+u*n,r+a*n,i+o*n)+""}}function Rr(n,t){n=ya.lab(n),t=ya.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,a=t.a-r,o=t.b-i;return function(n){return Q(e+u*n,r+a*n,i+o*n)+""}}function Ur(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Ir(n){var t=[n.a,n.b],e=[n.c,n.d],r=Xr(t),i=Vr(t,e),u=Xr(Zr(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*eo,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*eo:0}function Vr(n,t){return n[0]*t[0]+n[1]*t[1]}function Xr(n){var t=Math.sqrt(Vr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Zr(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Br(n,t){var e,r=[],i=[],u=ya.transform(n),a=ya.transform(t),o=u.translate,c=a.translate,l=u.rotate,s=a.rotate,f=u.skew,h=a.skew,g=u.scale,p=a.scale;return o[0]!=c[0]||o[1]!=c[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:_r(o[0],c[0])},{i:3,x:_r(o[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:_r(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:_r(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:_r(g[0],p[0])},{i:e-2,x:_r(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=i.length,function(n){for(var t,u=-1;++u<e;)r[(t=i[u]).i]=t.x(n);return r.join("")}}function $r(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}function Wr(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return Math.max(0,Math.min(1,(e-n)*t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),i=e.pop(),u=r.pop(),a=null;i===u;)a=i,i=e.pop(),u=r.pop();return a}function Qr(n){n.fixed|=2}function ni(n){n.fixed&=-7}function ti(n){n.fixed|=4,n.px=n.x,n.py=n.y}function ei(n){n.fixed&=-5}function ri(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,a=n.nodes,o=a.length,c=-1;++c<o;)u=a[c],null!=u&&(ri(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,i+=l*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function ii(n,t){return ya.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ci,n}function ui(n){return n.children}function ai(n){return n.value}function oi(n,t){return t.value-n.value}function ci(n){return ya.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function li(n){return n.x}function si(n){return n.y}function fi(n,t,e){n.y0=t,n.y=e}function hi(n){return ya.range(n.length)}function gi(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function pi(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;u>e;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function mi(n){return n.reduce(di,0)}function di(n,t){return n+t[1]}function vi(n,t){return yi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function yi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function Mi(n){return[ya.min(n),ya.max(n)]}function xi(n,t){return n.parent==t.parent?1:2}function bi(n){var t=n.children;return t&&t.length?t[0]:n._tree.thread}function _i(n){var t,e=n.children;return e&&(t=e.length)?e[t-1]:n._tree.thread}function wi(n,t){var e=n.children;if(e&&(i=e.length))for(var r,i,u=-1;++u<i;)t(r=wi(e[u],t),n)>0&&(n=r);return n}function Si(n,t){return n.x-t.x}function Ei(n,t){return t.x-n.x}function ki(n,t){return n.depth-t.depth}function Ai(n,t){function e(n,r){var i=n.children;if(i&&(a=i.length))for(var u,a,o=null,c=-1;++c<a;)u=i[c],e(u,o),o=u;t(n,r)}e(n,null)}function Ni(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u]._tree,t.prelim+=e,t.mod+=e,e+=t.shift+(r+=t.change)}function qi(n,t,e){n=n._tree,t=t._tree;var r=e/(t.number-n.number);n.change+=r,t.change-=r,t.shift+=e,t.prelim+=e,t.mod+=e}function Ti(n,t,e){return n._tree.ancestor.parent==t.parent?n._tree.ancestor:e}function Ci(n,t){return n.value-t.value}function zi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Di(n,t){n._pack_next=t,t._pack_prev=n}function ji(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Li(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,i,u,a,o,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(Hi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=e[1],i.x=i.r,i.y=0,t(i),l>2))for(u=e[2],Oi(r,i,u),t(u),zi(r,u),r._pack_prev=u,zi(u,i),i=r._pack_next,a=3;l>a;a++){Oi(r,i,u=e[a]);var p=0,m=1,d=1;for(o=i._pack_next;o!==i;o=o._pack_next,m++)if(ji(o,u)){p=1;break}if(1==p)for(c=r._pack_prev;c!==o._pack_prev&&!ji(c,u);c=c._pack_prev,d++);p?(d>m||m==d&&i.r<r.r?Di(r,i=o):Di(r=c,i),a--):(zi(r,u),i=u,t(u))}var v=(s+f)/2,y=(h+g)/2,M=0;for(a=0;l>a;a++)u=e[a],u.x-=v,u.y-=y,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(Fi)}}function Hi(n){n._pack_next=n._pack_prev=n}function Fi(n){delete n._pack_next,delete n._pack_prev}function Pi(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,a=i.length;++u<a;)Pi(i[u],t,e,r)}function Oi(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var a=t.r+e.r,o=i*i+u*u;a*=a,r*=r;var c=.5+(r-a)/(2*o),l=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=n.x+c*i+l*u,e.y=n.y+c*u-l*i}else e.x=n.x+r,e.y=n.y}function Yi(n){return 1+ya.max(n,function(n){return n.y})}function Ri(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Ui(n){var t=n.children;return t&&t.length?Ui(t[0]):n}function Ii(n){var t,e=n.children;return e&&(t=e.length)?Ii(e[t-1]):n}function Vi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Xi(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return 0>i&&(e+=i/2,i=0),0>u&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Zi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Bi(n){return n.rangeExtent?n.rangeExtent():Zi(n.range())}function $i(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Wi(n,t){var e,r=0,i=n.length-1,u=n[r],a=n[i];return u>a&&(e=r,r=i,i=e,e=u,u=a,a=e),n[r]=t.floor(u),n[i]=t.ceil(a),n}function Ji(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:kc}function Gi(n,t,e,r){var i=[],u=[],a=0,o=Math.min(n.length,t.length)-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=o;)i.push(e(n[a-1],n[a])),u.push(r(t[a-1],t[a]));return function(t){var e=ya.bisect(n,t,1,o)-1;return u[e](i[e](t))}}function Ki(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Gi:$i,c=r?Wr:$r;return a=i(n,t,c,e),o=i(t,n,c,Sr),u}function u(n){return a(n)}var a,o;return u.invert=function(n){return o(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(Ur)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return ru(n,t)},u.tickFormat=function(t,e){return iu(n,t,e)},u.nice=function(t){return nu(n,t),i()},u.copy=function(){return Ki(n,t,e,r)},i()}function Qi(n,t){return ya.rebind(n,t,"range","rangeRound","interpolate","clamp")}function nu(n,t){return Wi(n,Ji(t?eu(n,t)[2]:tu(n)))}function tu(n){var t=Zi(n),e=t[1]-t[0];return Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1)}function eu(n,t){var e=Zi(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return.15>=u?i*=10:.35>=u?i*=5:.75>=u&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function ru(n,t){return ya.range.apply(ya,eu(n,t))}function iu(n,t,e){var r=-Math.floor(Math.log(eu(n,t)[2])/Math.LN10+.01);return ya.format(e?e.replace(wo,function(n,t,e,i,u,a,o,c,l,s){return[t,e,i,u,a,o,c,l||"."+(r-2*("%"===s)),s].join("")}):",."+r+"f")}function uu(n,t,e,r){function i(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function a(t){return n(i(t))}return a.invert=function(t){return u(n.invert(t))},a.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),a):r},a.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),a):t},a.nice=function(){var t=Wi(r.map(i),e?Math:Nc);return n.domain(t),r=t.map(u),a},a.ticks=function(){var n=Zi(r),a=[];if(n.every(isFinite)){var o=n[0],c=n[1],l=Math.floor(i(o)),s=Math.ceil(i(c)),f=t%1?2:t;if(e){for(;s>l;l++)for(var h=1;f>h;h++)a.push(u(l)*h);a.push(u(l))}else for(a.push(u(l));l++<s;)for(var h=f-1;h>0;h--)a.push(u(l)*h);for(l=0;a[l]<o;l++);for(s=a.length;a[s-1]>c;s--);a=a.slice(l,s)}return a},a.tickFormat=function(n,t){if(!arguments.length)return Ac;arguments.length<2?t=Ac:"function"!=typeof t&&(t=ya.format(t));var r,o=Math.max(.1,n/a.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/u(c(i(n)+r))<=o?t(n):""}},a.copy=function(){return uu(n.copy(),t,e,r)},Qi(a,n)}function au(n,t,e){function r(t){return n(i(t))}var i=ou(t),u=ou(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return ru(e,n)},r.tickFormat=function(n,t){return iu(e,n,t)},r.nice=function(n){return r.domain(nu(e,n))},r.exponent=function(a){return arguments.length?(i=ou(t=a),u=ou(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return au(n.copy(),t,e)},Qi(r,n)}function ou(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function cu(n,t){function e(t){return a[((u.get(t)||u.set(t,n.push(t)))-1)%a.length]}function r(t,e){return ya.range(n.length).map(function(n){return t+e*n})}var u,a,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new i;for(var a,o=-1,c=r.length;++o<c;)u.has(a=r[o])||u.set(a,n.push(a));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(a=n,o=0,t={t:"range",a:arguments},e):a},e.rangePoints=function(i,u){arguments.length<2&&(u=0);var c=i[0],l=i[1],s=(l-c)/(Math.max(1,n.length-1)+u);return a=r(n.length<2?(c+l)/2:c+s*u/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeBands=function(i,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var l=i[1]<i[0],s=i[l-0],f=i[1-l],h=(f-s)/(n.length-u+2*c);return a=r(s+h*c,h),l&&a.reverse(),o=h*(1-u),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var l=i[1]<i[0],s=i[l-0],f=i[1-l],h=Math.floor((f-s)/(n.length-u+2*c)),g=f-s-(n.length-u)*h;return a=r(s+Math.round(g/2),h),l&&a.reverse(),o=Math.round(h*(1-u)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Zi(t.a[0])},e.copy=function(){return cu(n,t)},e.domain(n)}function lu(n,t){function e(){var e=0,u=t.length;for(i=[];++e<u;)i[e-1]=ya.quantile(n,e/u);return r}function r(n){return isNaN(n=+n)?void 0:t[ya.bisect(i,n)]}var i;return r.domain=function(t){return arguments.length?(n=t.filter(function(n){return!isNaN(n)}).sort(ya.ascending),e()):n},r.range=function(n){return arguments.length?(t=n,e()):t},r.quantiles=function(){return i},r.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},r.copy=function(){return lu(n,t)},e()}function su(n,t,e){function r(t){return e[Math.max(0,Math.min(a,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),a=e.length-1,r}var u,a;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/u+n,[t,t+1/u]},r.copy=function(){return su(n,t,e)},i()}function fu(n,t){function e(e){return e>=e?t[ya.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return fu(n,t)},e}function hu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return ru(n,t)},t.tickFormat=function(t,e){return iu(n,t,e)},t.copy=function(){return hu(n)},t}function gu(n){return n.innerRadius}function pu(n){return n.outerRadius}function mu(n){return n.startAngle}function du(n){return n.endAngle}function vu(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]+Dc,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function yu(n){function t(t){function c(){m.push("M",o(n(v),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,m=[],d=[],v=[],y=-1,M=t.length,x=pt(e),b=pt(i),_=e===r?function(){return g}:pt(r),w=i===u?function(){return p}:pt(u);++y<M;)a.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),v.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],v=[]);return d.length&&c(),m.length?m.join(""):null}var e=Ie,r=Ie,i=0,u=Ve,a=Xt,o=Xe,c=o.key,l=o,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(a=n,t):a},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?o=n:(o=sc.get(n)||Xe).key,l=o.reverse||o,s=o.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Mu(n){return n.radius}function xu(n){return[n.x,n.y]}function bu(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+Dc;return[e*Math.cos(r),e*Math.sin(r)]}}function _u(){return 64}function wu(){return"circle"}function Su(n){var t=Math.sqrt(n/Ka);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Eu(n,t){return La(n,Yc),n.id=t,n}function ku(n,t,e,r){var i=n.id;return T(n,"function"==typeof e?function(n,u,a){n.__transition__[i].tween.set(t,r(e.call(n,n.__data__,u,a)))}:(e=r(e),function(n){n.__transition__[i].tween.set(t,e)}))}function Au(n){return null==n&&(n=""),function(){this.textContent=n}}function Nu(n,t,e,r){var u=n.__transition__||(n.__transition__={active:0,count:0}),a=u[e];if(!a){var o=r.time;a=u[e]={tween:new i,time:o,ease:r.ease,delay:r.delay,duration:r.duration},++u.count,ya.timer(function(r){function i(r){return u.active>e?l():(u.active=e,a.event&&a.event.start.call(n,s,t),a.tween.forEach(function(e,r){(r=r.call(n,s,t))&&p.push(r)}),c(r)?1:(xt(c,0,o),void 0))}function c(r){if(u.active!==e)return l();for(var i=(r-h)/g,o=f(i),c=p.length;c>0;)p[--c].call(n,o);return i>=1?(l(),a.event&&a.event.end.call(n,s,t),1):void 0}function l(){return--u.count?delete u[e]:delete n.__transition__,1}var s=n.__data__,f=a.ease,h=a.delay,g=a.duration,p=[];return r>=h?i(r):(xt(i,h,o),void 0)},0,o)}}function qu(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function Tu(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}function Cu(n,t,e){if(r=[],e&&t.length>1){for(var r,i,u,a=Zi(n.domain()),o=-1,c=t.length,l=(t[1]-t[0])/++e;++o<c;)for(i=e;--i>0;)(u=+t[o]-i*l)>=a[0]&&r.push(u);for(--o,i=0;++i<e&&(u=+t[o]+i*l)<a[1];)r.push(u)}return r}function zu(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Du(n,t,e){function r(t){var e=n(t),r=u(e,1);return r-t>t-e?e:r}function i(e){return t(e=n(new Zc(e-1)),1),e}function u(n,e){return t(n=new Zc(+n),e),n}function a(n,r,u){var a=i(n),o=[];if(u>1)for(;r>a;)e(a)%u||o.push(new Date(+a)),t(a,1);else for(;r>a;)o.push(new Date(+a)),t(a,1);return o}function o(n,t,e){try{Zc=zu;var r=new zu;return r._=n,a(r,t,e)}finally{Zc=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=a;var c=n.utc=ju(n);return c.floor=c,c.round=ju(r),c.ceil=ju(i),c.offset=ju(u),c.range=o,n}function ju(n){return function(t,e){try{Zc=zu;var r=new zu;return r._=t,n(r,e)._}finally{Zc=Date}}}function Lu(n,t,e,r){for(var i,u,a=0,o=t.length,c=e.length;o>a;){if(r>=c)return-1;if(i=t.charCodeAt(a++),37===i){if(u=gl[t.charAt(a++)],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function Hu(n){return new RegExp("^(?:"+n.map(ya.requote).join("|")+")","i")}function Fu(n){for(var t=new i,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Pu(n,t,e){var r=0>n?"-":"",i=(r?-n:n)+"",u=i.length;return r+(e>u?new Array(e-u+1).join(t)+i:i)}function Ou(n,t,e){il.lastIndex=0;var r=il.exec(t.substring(e));return r?(n.w=ul.get(r[0].toLowerCase()),e+r[0].length):-1}function Yu(n,t,e){el.lastIndex=0;var r=el.exec(t.substring(e));return r?(n.w=rl.get(r[0].toLowerCase()),e+r[0].length):-1}function Ru(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Uu(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e));return r?(n.U=+r[0],e+r[0].length):-1}function Iu(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e));return r?(n.W=+r[0],e+r[0].length):-1}function Vu(n,t,e){cl.lastIndex=0;var r=cl.exec(t.substring(e));return r?(n.m=ll.get(r[0].toLowerCase()),e+r[0].length):-1}function Xu(n,t,e){al.lastIndex=0;var r=al.exec(t.substring(e));return r?(n.m=ol.get(r[0].toLowerCase()),e+r[0].length):-1}function Zu(n,t,e){return Lu(n,hl.c.toString(),t,e)}function Bu(n,t,e){return Lu(n,hl.x.toString(),t,e)}function $u(n,t,e){return Lu(n,hl.X.toString(),t,e)}function Wu(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Ju(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+2));return r?(n.y=Gu(+r[0]),e+r[0].length):-1}function Gu(n){return n+(n>68?1900:2e3)}function Ku(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qu(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function na(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function ta(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ea(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ra(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ia(n,t,e){pl.lastIndex=0;var r=pl.exec(t.substring(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ua(n,t,e){var r=ml.get(t.substring(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}function aa(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return e+Pu(r,"0",2)+Pu(i,"0",2)}function oa(n,t,e){sl.lastIndex=0;var r=sl.exec(t.substring(e,e+1));return r?e+r[0].length:-1}function ca(n){return n.toISOString()}function la(n,t,e){function r(t){return n(t)}return r.invert=function(t){return sa(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(sa)},r.nice=function(n){return r.domain(Wi(r.domain(),n))},r.ticks=function(e,i){var u=Zi(r.domain());if("function"!=typeof e){var a=u[1]-u[0],o=a/e,c=ya.bisect(vl,o);if(c==vl.length)return t.year(u,e);if(!c)return n.ticks(e).map(sa);o/vl[c-1]<vl[c]/o&&--c,e=t[c],i=e[1],e=e[0].range}return e(u[0],new Date(+u[1]+1),i)},r.tickFormat=function(){return e},r.copy=function(){return la(n.copy(),t,e)},Qi(r,n)}function sa(n){return new Date(n)}function fa(n){return function(t){for(var e=n.length-1,r=n[e];!r[1](t);)r=n[--e];return r[0](t)}}function ha(n){var t=new Date(n,0,1);return t.setFullYear(n),t}function ga(n){var t=n.getFullYear(),e=ha(t),r=ha(t+1);return t+(n-e)/(r-e)}function pa(n){var t=new Date(Date.UTC(n,0,1));return t.setUTCFullYear(n),t}function ma(n){var t=n.getUTCFullYear(),e=pa(t),r=pa(t+1);return t+(n-e)/(r-e)}function da(n){return JSON.parse(n.responseText)}function va(n){var t=Ma.createRange();return t.selectNode(Ma.body),t.createContextualFragment(n.responseText)}var ya={version:"3.2.7"};Date.now||(Date.now=function(){return+new Date});var Ma=document,xa=Ma.documentElement,ba=window;try{Ma.createElement("div").style.setProperty("opacity",0,"")}catch(_a){var wa=ba.Element.prototype,Sa=wa.setAttribute,Ea=wa.setAttributeNS,ka=ba.CSSStyleDeclaration.prototype,Aa=ka.setProperty;wa.setAttribute=function(n,t){Sa.call(this,n,t+"")},wa.setAttributeNS=function(n,t,e){Ea.call(this,n,t,e+"")},ka.setProperty=function(n,t,e){Aa.call(this,n,t+"",e)}}ya.ascending=function(n,t){return t>n?-1:n>t?1:n>=t?0:0/0},ya.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ya.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=n[i])&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u&&!(null!=(e=t.call(n,n[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},ya.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=n[i])&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u&&!(null!=(e=t.call(n,n[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},ya.extent=function(n,t){var e,r,i,u=-1,a=n.length;if(1===arguments.length){for(;++u<a&&!(null!=(e=i=n[u])&&e>=e);)e=i=void 0;for(;++u<a;)null!=(r=n[u])&&(e>r&&(e=r),r>i&&(i=r))}else{for(;++u<a&&!(null!=(e=i=t.call(n,n[u],u))&&e>=e);)e=void 0;for(;++u<a;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),r>i&&(i=r))}return[e,i]},ya.sum=function(n,t){var e,r=0,i=n.length,u=-1;if(1===arguments.length)for(;++u<i;)isNaN(e=+n[u])||(r+=e);else for(;++u<i;)isNaN(e=+t.call(n,n[u],u))||(r+=e);return r},ya.mean=function(t,e){var r,i=t.length,u=0,a=-1,o=0;if(1===arguments.length)for(;++a<i;)n(r=t[a])&&(u+=(r-u)/++o);else for(;++a<i;)n(r=e.call(t,t[a],a))&&(u+=(r-u)/++o);return o?u:void 0},ya.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},ya.median=function(t,e){return arguments.length>1&&(t=t.map(e)),t=t.filter(n),t.length?ya.quantile(t.sort(ya.ascending),.5):void 0},ya.bisector=function(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var u=r+i>>>1;n.call(t,t[u],u)<e?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var u=r+i>>>1;e<n.call(t,t[u],u)?i=u:r=u+1}return r}}};var Na=ya.bisector(function(n){return n});ya.bisectLeft=Na.left,ya.bisect=ya.bisectRight=Na.right,ya.shuffle=function(n){for(var t,e,r=n.length;r;)e=0|Math.random()*r--,t=n[r],n[r]=n[e],n[e]=t;return n},ya.permute=function(n,t){for(var e=[],r=-1,i=t.length;++r<i;)e[r]=n[t[r]];return e},ya.zip=function(){if(!(i=arguments.length))return[];for(var n=-1,e=ya.min(arguments,t),r=new Array(e);++n<e;)for(var i,u=-1,a=r[n]=new Array(i);++u<i;)a[u]=arguments[u][n];return r},ya.transpose=function(n){return ya.zip.apply(ya,n)},ya.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ya.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ya.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ya.merge=function(n){return Array.prototype.concat.apply([],n)},ya.range=function(n,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=n,n=0)),1/0===(t-n)/r)throw new Error("infinite range");var i,u=[],a=e(Math.abs(r)),o=-1;if(n*=a,t*=a,r*=a,0>r)for(;(i=n+r*++o)>t;)u.push(i/a);else for(;(i=n+r*++o)<t;)u.push(i/a);return u},ya.map=function(n){var t=new i;for(var e in n)t.set(e,n[e]);return t},r(i,{has:function(n){return qa+n in this},get:function(n){return this[qa+n]},set:function(n,t){return this[qa+n]=t},remove:function(n){return n=qa+n,n in this&&delete this[n]},keys:function(){var n=[];return this.forEach(function(t){n.push(t)}),n},values:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entries:function(){var n=[];return this.forEach(function(t,e){n.push({key:t,value:e})}),n},forEach:function(n){for(var t in this)t.charCodeAt(0)===Ta&&n.call(this,t.substring(1),this[t])}});var qa="\0",Ta=qa.charCodeAt(0);ya.nest=function(){function n(t,o,c){if(c>=a.length)return r?r.call(u,o):e?o.sort(e):o;for(var l,s,f,h,g=-1,p=o.length,m=a[c++],d=new i;++g<p;)(h=d.get(l=m(s=o[g])))?h.push(s):d.set(l,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,c))}):(s={},f=function(e,r){s[e]=n(t,r,c)}),d.forEach(f),s}function t(n,e){if(e>=a.length)return n;var r=[],i=o[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,u={},a=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ya.map,e,0),0)},u.key=function(n){return a.push(n),u},u.sortKeys=function(n){return o[a.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ya.set=function(n){var t=new u;if(n)for(var e=0;e<n.length;e++)t.add(n[e]);return t},r(u,{has:function(n){return qa+n in this},add:function(n){return this[qa+n]=!0,n},remove:function(n){return n=qa+n,n in this&&delete this[n]},values:function(){var n=[];
return this.forEach(function(t){n.push(t)}),n},forEach:function(n){for(var t in this)t.charCodeAt(0)===Ta&&n.call(this,t.substring(1))}}),ya.behavior={},ya.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=a(n,t,t[e]);return n};var Ca=["webkit","ms","moz","Moz","o","O"],za=l;try{za(xa.childNodes)[0].nodeType}catch(Da){za=c}ya.dispatch=function(){for(var n=new f,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=h(n);return n},f.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.substring(e+1),n=n.substring(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ya.event=null,ya.requote=function(n){return n.replace(ja,"\\$&")};var ja=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,La={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Ha=function(n,t){return t.querySelector(n)},Fa=function(n,t){return t.querySelectorAll(n)},Pa=xa[o(xa,"matchesSelector")],Oa=function(n,t){return Pa.call(n,t)};"function"==typeof Sizzle&&(Ha=function(n,t){return Sizzle(n,t)[0]||null},Fa=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},Oa=Sizzle.matchesSelector),ya.selection=function(){return Ia};var Ya=ya.selection.prototype=[];Ya.select=function(n){var t,e,r,i,u=[];n=v(n);for(var a=-1,o=this.length;++a<o;){u.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var c=-1,l=r.length;++c<l;)(i=r[c])?(t.push(e=n.call(i,i.__data__,c,a)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return d(u)},Ya.selectAll=function(n){var t,e,r=[];n=y(n);for(var i=-1,u=this.length;++i<u;)for(var a=this[i],o=-1,c=a.length;++o<c;)(e=a[o])&&(r.push(t=za(n.call(e,e.__data__,o,i))),t.parentNode=e);return d(r)};var Ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ya.ns={prefix:Ra,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.substring(0,t),n=n.substring(t+1)),Ra.hasOwnProperty(e)?{space:Ra[e],local:n}:n}},Ya.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ya.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(M(t,n[t]));return this}return this.each(M(n,t))},Ya.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=n.trim().split(/^|\s+/g)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!b(n[i]).test(t))return!1;return!0}for(t in n)this.each(_(t,n[t]));return this}return this.each(_(n,t))},Ya.style=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t="");for(e in n)this.each(S(e,n[e],t));return this}if(2>r)return ba.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(S(n,t,e))},Ya.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(E(t,n[t]));return this}return this.each(E(n,t))},Ya.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Ya.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Ya.append=function(n){return n=k(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Ya.insert=function(n,t){return n=k(n),t=v(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments))})},Ya.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},Ya.data=function(n,t){function e(n,e){var r,u,a,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),m=new Array(o);if(t){var d,v=new i,y=new i,M=[];for(r=-1;++r<o;)d=t.call(u=n[r],u.__data__,r),v.has(d)?m[r]=u:v.set(d,u),M.push(d);for(r=-1;++r<f;)d=t.call(e,a=e[r],r),(u=v.get(d))?(g[r]=u,u.__data__=a):y.has(d)||(p[r]=A(a)),y.set(d,a),v.remove(d);for(r=-1;++r<o;)v.has(M[r])&&(m[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],a=e[r],u?(u.__data__=a,g[r]=u):p[r]=A(a);for(;f>r;++r)p[r]=A(e[r]);for(;o>r;++r)m[r]=n[r]}p.update=g,p.parentNode=g.parentNode=m.parentNode=n.parentNode,c.push(p),l.push(g),s.push(m)}var r,u,a=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++a<o;)(u=r[a])&&(n[a]=u.__data__);return n}var c=C([]),l=d([]),s=d([]);if("function"==typeof n)for(;++a<o;)e(r=this[a],n.call(r,r.parentNode.__data__,a));else for(;++a<o;)e(r=this[a],n);return l.enter=function(){return c},l.exit=function(){return s},l},Ya.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Ya.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=N(n));for(var u=0,a=this.length;a>u;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var o=0,c=e.length;c>o;o++)(r=e[o])&&n.call(r,r.__data__,o)&&t.push(r)}return d(i)},Ya.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},Ya.sort=function(n){n=q.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Ya.each=function(n){return T(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Ya.call=function(n){var t=za(arguments);return n.apply(t[0]=this,t),this},Ya.empty=function(){return!this.node()},Ya.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,i=e.length;i>r;r++){var u=e[r];if(u)return u}return null},Ya.size=function(){var n=0;return this.each(function(){++n}),n};var Ua=[];ya.selection.enter=C,ya.selection.enter.prototype=Ua,Ua.append=Ya.append,Ua.empty=Ya.empty,Ua.node=Ya.node,Ua.call=Ya.call,Ua.size=Ya.size,Ua.select=function(n){for(var t,e,r,i,u,a=[],o=-1,c=this.length;++o<c;){r=(i=this[o]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,s=i.length;++l<s;)(u=i[l])?(t.push(r[l]=e=n.call(i.parentNode,u.__data__,l,o)),e.__data__=u.__data__):t.push(null)}return d(a)},Ua.insert=function(n,t){return arguments.length<2&&(t=z(this)),Ya.insert.call(this,n,t)},Ya.transition=function(){for(var n,t,e=Hc||++Rc,r=[],i=Fc||{time:Date.now(),ease:Cr,delay:0,duration:250},u=-1,a=this.length;++u<a;){r.push(n=[]);for(var o=this[u],c=-1,l=o.length;++c<l;)(t=o[c])&&Nu(t,c,e,i),n.push(t)}return Eu(r,e)},ya.select=function(n){var t=["string"==typeof n?Ha(n,Ma):n];return t.parentNode=xa,d([t])},ya.selectAll=function(n){var t=za("string"==typeof n?Fa(n,Ma):n);return t.parentNode=xa,d([t])};var Ia=ya.select(xa);Ya.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(D(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(D(n,t,e))};var Va=ya.map({mouseenter:"mouseover",mouseleave:"mouseout"});Va.forEach(function(n){"on"+n in Ma&&Va.remove(n)});var Xa=o(xa.style,"userSelect"),Za=0;ya.mouse=function(n){return F(n,p())};var Ba=/WebKit/.test(ba.navigator.userAgent)?-1:0;ya.touches=function(n,t){return arguments.length<2&&(t=p().touches),t?za(t).map(function(t){var e=F(n,t);return e.identifier=t.identifier,e}):[]},ya.behavior.drag=function(){function n(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function t(){return ya.event.changedTouches[0].identifier}function e(n,t){return ya.touches(n).filter(function(n){return n.identifier===t})[0]}function r(n,t,e,r){return function(){function a(){if(!s)return o();var n=t(s,g),e=n[0]-m[0],r=n[1]-m[1];d|=e|r,m=n,f({type:"drag",x:n[0]+c[0],y:n[1]+c[1],dx:e,dy:r})}function o(){v.on(e+"."+p,null).on(r+"."+p,null),y(d&&ya.event.target===h),f({type:"dragend"})}var c,l=this,s=l.parentNode,f=i.of(l,arguments),h=ya.event.target,g=n(),p=null==g?"drag":"drag-"+g,m=t(s,g),d=0,v=ya.select(ba).on(e+"."+p,a).on(r+"."+p,o),y=H();u?(c=u.apply(l,arguments),c=[c.x-m[0],c.y-m[1]]):c=[0,0],f({type:"dragstart"})}}var i=m(n,"drag","dragstart","dragend"),u=null,a=r(s,ya.mouse,"mousemove","mouseup"),o=r(t,e,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ya.rebind(n,i,"on")},ya.behavior.zoom=function(){function n(){this.on(w,o).on(Ja+".zoom",l).on(S,s).on("dblclick.zoom",f).on("touchstart.zoom",c)}function t(n){return[(n[0]-x[0])/b,(n[1]-x[1])/b]}function e(n){return[n[0]*b+x[0],n[1]*b+x[1]]}function r(n){b=Math.max(_[0],Math.min(_[1],n))}function i(n,t){t=e(t),x[0]+=n[0]-t[0],x[1]+=n[1]-t[1]}function u(){d&&d.domain(p.range().map(function(n){return(n-x[0])/b}).map(p.invert)),y&&y.domain(v.range().map(function(n){return(n-x[1])/b}).map(v.invert))}function a(n){u(),n({type:"zoom",scale:b,translate:x})}function o(){function n(){c=1,i(ya.mouse(r),f),a(u)}function e(){l.on(S,ba===r?s:null).on(E,null),h(c&&ya.event.target===o)}var r=this,u=k.of(r,arguments),o=ya.event.target,c=0,l=ya.select(ba).on(S,n).on(E,e),f=t(ya.mouse(r)),h=H()}function c(){function n(){var n=ya.touches(u),t=n[0],e=s[t.identifier];if(o=n[1]){var o,l=s[o.identifier],g=ya.event.scale;if(null==g){var p=(p=o[0]-t[0])*p+(p=o[1]-t[1])*p;g=f&&Math.sqrt(p/f)}t=[(t[0]+o[0])/2,(t[1]+o[1])/2],e=[(e[0]+l[0])/2,(e[1]+l[1])/2],r(g*h)}M=null,i(t,e),a(c)}function e(){y.on(d,null).on(v,null),x.on(w,o),_()}var u=this,c=k.of(u,arguments),l=ya.touches(u),s={},f=0,h=b,p=Date.now(),m="zoom-"+ya.event.changedTouches[0].identifier,d="touchmove."+m,v="touchend."+m,y=ya.select(ba).on(d,n).on(v,e),x=ya.select(u).on(w,null),_=H();if(l.forEach(function(n){s[n.identifier]=t(n)}),1===l.length){if(500>p-M){var S=l[0],E=t(l[0]);r(2*b),i(S,E),g(),a(c)}M=p}else if(l.length>1){var S=l[0],A=l[1],N=S[0]-A[0],q=S[1]-A[1];f=N*N+q*q}}function l(){g(),h||(h=t(ya.mouse(this))),r(Math.pow(2,.002*$a())*b),i(ya.mouse(this),h),a(k.of(this,arguments))}function s(){h=null}function f(){var n=ya.mouse(this),e=t(n),u=Math.log(b)/Math.LN2;r(Math.pow(2,ya.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),i(n,e),a(k.of(this,arguments))}var h,p,d,v,y,M,x=[0,0],b=1,_=Wa,w="mousedown.zoom",S="mousemove.zoom",E="mouseup.zoom",k=m(n,"zoom");return n.translate=function(t){return arguments.length?(x=t.map(Number),u(),n):x},n.scale=function(t){return arguments.length?(b=+t,u(),n):b},n.scaleExtent=function(t){return arguments.length?(_=null==t?Wa:t.map(Number),n):_},n.x=function(t){return arguments.length?(d=t,p=t.copy(),x=[0,0],b=1,n):d},n.y=function(t){return arguments.length?(y=t,v=t.copy(),x=[0,0],b=1,n):y},ya.rebind(n,k,"on")};var $a,Wa=[0,1/0],Ja="onwheel"in Ma?($a=function(){return-ya.event.deltaY*(ya.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ma?($a=function(){return ya.event.wheelDelta},"mousewheel"):($a=function(){return-ya.event.detail},"MozMousePixelScroll");P.prototype.toString=function(){return this.rgb()+""},ya.hsl=function(n,t,e){return 1===arguments.length?n instanceof Y?O(n.h,n.s,n.l):lt(""+n,st,O):O(+n,+t,+e)};var Ga=Y.prototype=new P;Ga.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),O(this.h,this.s,this.l/n)},Ga.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),O(this.h,this.s,n*this.l)},Ga.rgb=function(){return R(this.h,this.s,this.l)};var Ka=Math.PI,Qa=1e-6,no=Qa*Qa,to=Ka/180,eo=180/Ka;ya.hcl=function(n,t,e){return 1===arguments.length?n instanceof W?$(n.h,n.c,n.l):n instanceof K?nt(n.l,n.a,n.b):nt((n=ft((n=ya.rgb(n)).r,n.g,n.b)).l,n.a,n.b):$(+n,+t,+e)};var ro=W.prototype=new P;ro.brighter=function(n){return $(this.h,this.c,Math.min(100,this.l+io*(arguments.length?n:1)))},ro.darker=function(n){return $(this.h,this.c,Math.max(0,this.l-io*(arguments.length?n:1)))},ro.rgb=function(){return J(this.h,this.c,this.l).rgb()},ya.lab=function(n,t,e){return 1===arguments.length?n instanceof K?G(n.l,n.a,n.b):n instanceof W?J(n.l,n.c,n.h):ft((n=ya.rgb(n)).r,n.g,n.b):G(+n,+t,+e)};var io=18,uo=.95047,ao=1,oo=1.08883,co=K.prototype=new P;co.brighter=function(n){return G(Math.min(100,this.l+io*(arguments.length?n:1)),this.a,this.b)},co.darker=function(n){return G(Math.max(0,this.l-io*(arguments.length?n:1)),this.a,this.b)},co.rgb=function(){return Q(this.l,this.a,this.b)},ya.rgb=function(n,t,e){return 1===arguments.length?n instanceof ot?at(n.r,n.g,n.b):lt(""+n,at,R):at(~~n,~~t,~~e)};var lo=ot.prototype=new P;lo.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&i>t&&(t=i),e&&i>e&&(e=i),r&&i>r&&(r=i),at(Math.min(255,~~(t/n)),Math.min(255,~~(e/n)),Math.min(255,~~(r/n)))):at(i,i,i)},lo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),at(~~(n*this.r),~~(n*this.g),~~(n*this.b))},lo.hsl=function(){return st(this.r,this.g,this.b)},lo.toString=function(){return"#"+ct(this.r)+ct(this.g)+ct(this.b)};var so=ya.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});so.forEach(function(n,t){so.set(n,it(t))}),ya.functor=pt,ya.xhr=dt(mt),ya.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var a=ya.xhr(n,t,u);return a.row=function(n){return arguments.length?a.response(null==(e=n)?r:i(n)):e},a.row(e)}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function a(t){return t.map(o).join(n)}function o(n){return c.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var c=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(s>=c)return a;if(i)return i=!1,u;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(i=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(i=!0),n.substring(t+1,e).replace(/""/g,'"')}for(;c>s;){var r=n.charCodeAt(s++),o=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(s)&&(++s,++o);else if(r!==l)continue;return n.substring(t,s-o)}return n.substring(t)}for(var r,i,u={},a={},o=[],c=n.length,s=0,f=0;(r=e())!==a;){for(var h=[];r!==u&&r!==a;)h.push(r),r=e();(!t||(h=t(h,f++)))&&o.push(h)}return o},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new u,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(a).join("\n")},e},ya.csv=ya.dsv(",","text/csv"),ya.tsv=ya.dsv(" ","text/tab-separated-values");var fo,ho,go,po,mo,vo=ba[o(ba,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ya.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var i=e+t,u={callback:n,time:i,next:null};ho?ho.next=u:fo=u,ho=u,go||(po=clearTimeout(po),go=1,vo(Mt))},ya.timer.flush=function(){bt(),_t()};var yo=".",Mo=",",xo=[3,3],bo="$",_o=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(wt);ya.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ya.round(n,St(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),_o[8+e/3]},ya.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)},ya.format=function(n){var t=wo.exec(n),e=t[1]||" ",r=t[2]||">",i=t[3]||"",u=t[4]||"",a=t[5],o=+t[6],c=t[7],l=t[8],s=t[9],f=1,h="",g=!1;switch(l&&(l=+l.substring(1)),(a||"0"===e&&"="===r)&&(a=e="0",r="=",c&&(o-=Math.floor((o-1)/4))),s){case"n":c=!0,s="g";break;case"%":f=100,h="%",s="f";break;case"p":f=100,h="%",s="r";break;case"b":case"o":case"x":case"X":"#"===u&&(u="0"+s.toLowerCase());case"c":case"d":g=!0,l=0;break;case"s":f=-1,s="r"}"#"===u?u="":"$"===u&&(u=bo),"r"!=s||l||(s="g"),null!=l&&("g"==s?l=Math.max(1,Math.min(21,l)):("e"==s||"f"==s)&&(l=Math.max(0,Math.min(20,l)))),s=So.get(s)||Et;var p=a&&c;return function(n){if(g&&n%1)return"";var t=0>n||0===n&&0>1/n?(n=-n,"-"):i;if(0>f){var m=ya.formatPrefix(n,l);n=m.scale(n),h=m.symbol}else n*=f;n=s(n,l);var d=n.lastIndexOf("."),v=0>d?n:n.substring(0,d),y=0>d?"":yo+n.substring(d+1);!a&&c&&(v=Eo(v));var M=u.length+v.length+y.length+(p?0:t.length),x=o>M?new Array(M=o-M+1).join(e):"";return p&&(v=Eo(x+v)),t+=u,n=v+y,("<"===r?t+n+x:">"===r?x+t+n:"^"===r?x.substring(0,M>>=1)+t+n+x.substring(M):t+(p?n:x+n))+h}};var wo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,So=ya.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ya.round(n,St(n,t))).toFixed(Math.max(0,Math.min(20,St(n*(1+1e-15),t))))}}),Eo=mt;if(xo){var ko=xo.length;Eo=function(n){for(var t=n.length,e=[],r=0,i=xo[0];t>0&&i>0;)e.push(n.substring(t-=i,t+i)),i=xo[r=(r+1)%ko];return e.reverse().join(Mo)}}ya.geo={},kt.prototype={s:0,t:0,add:function(n){At(n,this.t,Ao),At(Ao.s,this.s,this),this.s?this.t+=Ao.t:this.s=Ao.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ao=new kt;ya.geo.stream=function(n,t){n&&No.hasOwnProperty(n.type)?No[n.type](n,t):Nt(n,t)};var No={Feature:function(n,t){Nt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)Nt(e[r].geometry,t)}},qo={Sphere:function(n,t){t.sphere()},Point:function(n,t){var e=n.coordinates;t.point(e[0],e[1])},MultiPoint:function(n,t){for(var e,r=n.coordinates,i=-1,u=r.length;++i<u;)e=r[i],t.point(e[0],e[1])},LineString:function(n,t){qt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)qt(e[r],t,0)},Polygon:function(n,t){Tt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Tt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)Nt(e[r],t)}};ya.geo.area=function(n){return To=0,ya.geo.stream(n,zo),To};var To,Co=new kt,zo={sphere:function(){To+=4*Ka},point:s,lineStart:s,lineEnd:s,polygonStart:function(){Co.reset(),zo.lineStart=Ct},polygonEnd:function(){var n=2*Co;To+=0>n?4*Ka+n:n,zo.lineStart=zo.lineEnd=zo.point=s}};ya.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=zt([t*to,e*to]);if(v){var i=jt(v,r),u=[i[1],-i[0],0],a=jt(u,i);Ft(a),a=Pt(a);var c=t-p,l=c>0?1:-1,m=a[0]*eo*l,d=Math.abs(c)>180;if(d^(m>l*p&&l*t>m)){var y=a[1]*eo;y>g&&(g=y)}else if(m=(m+360)%360-180,d^(m>l*p&&l*t>m)){var y=-a[1]*eo;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t)}else n(t,e);v=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,v=null}function i(n,e){if(v){var r=n-p;y+=Math.abs(r)>180?r+(r>0?360:-360):r}else m=n,d=e;zo.point(n,e),t(n,e)}function u(){zo.lineStart()}function a(){i(m,d),zo.lineEnd(),Math.abs(y)>Qa&&(s=-(h=180)),x[0]=s,x[1]=h,v=null}function o(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,m,d,v,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=a,y=0,zo.polygonStart()},polygonEnd:function(){zo.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>Co?(s=-(h=180),f=-(g=90)):y>Qa?g=90:-Qa>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ya.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,i=M[0],u=[i];t>r;++r)e=M[r],l(e[0],i)||l(e[1],i)?(o(i[0],e[1])>o(i[0],i[1])&&(i[1]=e[1]),o(e[0],i[1])>o(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var a,e,p=-1/0,t=u.length-1,r=0,i=u[t];t>=r;i=e,++r)e=u[r],(a=o(i[1],e[0]))>p&&(p=a,s=e[0],h=i[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ya.geo.centroid=function(n){Do=jo=Lo=Ho=Fo=Po=Oo=Yo=Ro=Uo=Io=0,ya.geo.stream(n,Vo);var t=Ro,e=Uo,r=Io,i=t*t+e*e+r*r;return no>i&&(t=Po,e=Oo,r=Yo,Qa>jo&&(t=Lo,e=Ho,r=Fo),i=t*t+e*e+r*r,no>i)?[0/0,0/0]:[Math.atan2(e,t)*eo,V(r/Math.sqrt(i))*eo]};var Do,jo,Lo,Ho,Fo,Po,Oo,Yo,Ro,Uo,Io,Vo={sphere:s,point:Yt,lineStart:Ut,lineEnd:It,polygonStart:function(){Vo.lineStart=Vt},polygonEnd:function(){Vo.lineStart=Ut}},Xo=$t(Xt,Qt,te,ee),Zo=[-Ka,0],Bo=1e9;(ya.geo.conicEqualArea=function(){return oe(ce)}).raw=ce,ya.geo.albers=function(){return ya.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ya.geo.albersUsa=function(){function n(n){var u=n[0],a=n[1];return t=null,e(u,a),t||(r(u,a),t)||i(u,a),t}var t,e,r,i,u=ya.geo.albers(),a=ya.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=ya.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?o:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=a.stream(n),r=o.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),a.precision(t),o.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),a.scale(.35*t),o.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var l=u.scale(),s=+t[0],f=+t[1];return e=u.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=a.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Qa,f+.12*l+Qa],[s-.214*l-Qa,f+.234*l-Qa]]).stream(c).point,i=o.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Qa,f+.166*l+Qa],[s-.115*l-Qa,f+.234*l-Qa]]).stream(c).point,n},n.scale(1070)};var $o,Wo,Jo,Go,Ko,Qo,nc={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Wo=0,nc.lineStart=le},polygonEnd:function(){nc.lineStart=nc.lineEnd=nc.point=s,$o+=Math.abs(Wo/2)}},tc={point:se,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s},ec={point:ge,lineStart:pe,lineEnd:me,polygonStart:function(){ec.lineStart=de},polygonEnd:function(){ec.point=ge,ec.lineStart=pe,ec.lineEnd=me}};ya.geo.path=function(){function n(n){return n&&("function"==typeof o&&u.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=i(u)),ya.geo.stream(n,a)),u.result()}function t(){return a=null,n}var e,r,i,u,a,o=4.5;return n.area=function(n){return $o=0,ya.geo.stream(n,i(nc)),$o},n.centroid=function(n){return Lo=Ho=Fo=Po=Oo=Yo=Ro=Uo=Io=0,ya.geo.stream(n,i(ec)),Io?[Ro/Io,Uo/Io]:Yo?[Po/Yo,Oo/Yo]:Fo?[Lo/Fo,Ho/Fo]:[0/0,0/0]},n.bounds=function(n){return Ko=Qo=-(Jo=Go=1/0),ya.geo.stream(n,i(tc)),[[Jo,Go],[Ko,Qo]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||Me(n):mt,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new fe:new ve(n),"function"!=typeof o&&u.pointRadius(o),t()):r},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(u.pointRadius(+t),+t),n):o},n.projection(ya.geo.albersUsa()).context(null)},ya.geo.projection=xe,ya.geo.projectionMutator=be,(ya.geo.equirectangular=function(){return xe(we)}).raw=we.invert=we,ya.geo.rotation=function(n){function t(t){return t=n(t[0]*to,t[1]*to),t[0]*=eo,t[1]*=eo,t}return n=Se(n[0]%360*to,n[1]*to,n.length>2?n[2]*to:0),t.invert=function(t){return t=n.invert(t[0]*to,t[1]*to),t[0]*=eo,t[1]*=eo,t},t},ya.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=Se(-n[0]*to,-n[1]*to,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=eo,n[1]*=eo}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=Ne((t=+r)*to,i*to),n):t},n.precision=function(r){return arguments.length?(e=Ne(t*to,(i=+r)*to),n):i},n.angle(90)},ya.geo.distance=function(n,t){var e,r=(t[0]-n[0])*to,i=n[1]*to,u=t[1]*to,a=Math.sin(r),o=Math.cos(r),c=Math.sin(i),l=Math.cos(i),s=Math.sin(u),f=Math.cos(u);return Math.atan2(Math.sqrt((e=f*a)*e+(e=l*s-c*f*o)*e),c*s+l*f*o)},ya.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ya.range(Math.ceil(u/d)*d,i,d).map(h).concat(ya.range(Math.ceil(l/v)*v,c,v).map(g)).concat(ya.range(Math.ceil(r/p)*p,e,p).filter(function(n){return Math.abs(n%d)>Qa}).map(s)).concat(ya.range(Math.ceil(o/m)*m,a,m).filter(function(n){return Math.abs(n%v)>Qa}).map(f))}var e,r,i,u,a,o,c,l,s,f,h,g,p=10,m=p,d=90,v=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(g(c).slice(1),h(i).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],l=+t[0][1],c=+t[1][1],u>i&&(t=u,u=i,i=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[u,l],[i,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),o>a&&(t=o,o=a,a=t),n.precision(y)):[[r,o],[e,a]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],v=+t[1],n):[d,v]},n.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],n):[p,m]},n.precision=function(t){return arguments.length?(y=+t,s=Te(o,a,90),f=Ce(r,e,y),h=Te(l,c,90),g=Ce(u,i,y),n):y},n.majorExtent([[-180,-90+Qa],[180,90-Qa]]).minorExtent([[-180,-80-Qa],[180,80+Qa]])},ya.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=ze,i=De;return n.distance=function(){return ya.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},ya.geo.interpolate=function(n,t){return je(n[0]*to,n[1]*to,t[0]*to,t[1]*to)},ya.geo.length=function(n){return rc=0,ya.geo.stream(n,ic),rc};var rc,ic={sphere:s,point:s,lineStart:Le,lineEnd:s,polygonStart:s,polygonEnd:s},uc=He(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ya.geo.azimuthalEqualArea=function(){return xe(uc)}).raw=uc;var ac=He(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},mt);(ya.geo.azimuthalEquidistant=function(){return xe(ac)}).raw=ac,(ya.geo.conicConformal=function(){return oe(Fe)}).raw=Fe,(ya.geo.conicEquidistant=function(){return oe(Pe)}).raw=Pe;var oc=He(function(n){return 1/n},Math.atan);(ya.geo.gnomonic=function(){return xe(oc)}).raw=oc,Oe.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ka/2]},(ya.geo.mercator=function(){return Ye(Oe)}).raw=Oe;var cc=He(function(){return 1},Math.asin);(ya.geo.orthographic=function(){return xe(cc)}).raw=cc;var lc=He(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ya.geo.stereographic=function(){return xe(lc)}).raw=lc,Re.invert=function(n,t){return[Math.atan2(X(n),Math.cos(t)),V(Math.sin(t)/Z(n))]},(ya.geo.transverseMercator=function(){return Ye(Re)}).raw=Re,ya.geom={},ya.svg={},ya.svg.line=function(){return Ue(mt)};var sc=ya.map({linear:Xe,"linear-closed":Ze,step:Be,"step-before":$e,"step-after":We,basis:tr,"basis-open":er,"basis-closed":rr,bundle:ir,cardinal:Ke,"cardinal-open":Je,"cardinal-closed":Ge,monotone:sr});sc.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var fc=[0,2/3,1/3,0],hc=[0,1/3,2/3,0],gc=[0,1/6,2/3,1/6];ya.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i,u,a,o,c,l,s,f,h,g,p,m=pt(e),d=pt(r),v=n.length,y=v-1,M=[],x=[],b=0;if(m===Ie&&r===Ve)t=n;else for(u=0,t=[];v>u;++u)t.push([+m.call(this,i=n[u],u),+d.call(this,i,u)]);for(u=1;v>u;++u)(t[u][1]<t[b][1]||t[u][1]==t[b][1]&&t[u][0]<t[b][0])&&(b=u);for(u=0;v>u;++u)u!==b&&(c=t[u][1]-t[b][1],o=t[u][0]-t[b][0],M.push({angle:Math.atan2(c,o),index:u}));for(M.sort(function(n,t){return n.angle-t.angle}),g=M[0].angle,h=M[0].index,f=0,u=1;y>u;++u){if(a=M[u].index,g==M[u].angle){if(o=t[h][0]-t[b][0],c=t[h][1]-t[b][1],l=t[a][0]-t[b][0],s=t[a][1]-t[b][1],o*o+c*c>=l*l+s*s){M[u].index=-1;continue}M[f].index=-1}g=M[u].angle,f=u,h=a}for(x.push(b),u=0,a=0;2>u;++a)M[a].index>-1&&(x.push(M[a].index),u++);for(p=x.length;y>a;++a)if(!(M[a].index<0)){for(;!fr(x[p-2],x[p-1],M[a].index,t);)--p;x[p++]=M[a].index}var _=[];for(u=p-1;u>=0;--u)_.push(n[x[u]]);return _}var e=Ie,r=Ve;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r
},t)},ya.geom.polygon=function(n){return La(n,pc),n};var pc=ya.geom.polygon.prototype=[];pc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},pc.centroid=function(n){var t,e,r=-1,i=this.length,u=0,a=0,o=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=o,o=this[r],e=t[0]*o[1]-o[0]*t[1],u+=(t[0]+o[0])*e,a+=(t[1]+o[1])*e;return[u*n,a*n]},pc.clip=function(n){for(var t,e,r,i,u,a,o=pr(n),c=-1,l=this.length-pr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,i=this[c],u=t[(r=t.length-o)-1],e=-1;++e<r;)a=t[e],hr(a,s,i)?(hr(u,s,i)||n.push(gr(u,a,s,i)),n.push(a)):hr(u,s,i)&&n.push(gr(u,a,s,i)),u=a;o&&n.push(n[0]),s=i}return n},ya.geom.delaunay=function(n){var t=n.map(function(){return[]}),e=[];return mr(n,function(e){t[e.region.l.index].push(n[e.region.r.index])}),t.forEach(function(t,r){var i=n[r],u=i[0],a=i[1];t.forEach(function(n){n.angle=Math.atan2(n[0]-u,n[1]-a)}),t.sort(function(n,t){return n.angle-t.angle});for(var o=0,c=t.length-1;c>o;o++)e.push([i,t[o],t[o+1]])}),e},ya.geom.voronoi=function(n){function t(n){var t,u,a,o=n.map(function(){return[]}),c=pt(e),l=pt(r),s=n.length,f=1e6;if(c===Ie&&l===Ve)t=n;else for(t=new Array(s),a=0;s>a;++a)t[a]=[+c.call(this,u=n[a],a),+l.call(this,u,a)];if(mr(t,function(n){var t,e,r,i,u,a;1===n.a&&n.b>=0?(t=n.ep.r,e=n.ep.l):(t=n.ep.l,e=n.ep.r),1===n.a?(u=t?t.y:-f,r=n.c-n.b*u,a=e?e.y:f,i=n.c-n.b*a):(r=t?t.x:-f,u=n.c-n.a*r,i=e?e.x:f,a=n.c-n.a*i);var c=[r,u],l=[i,a];o[n.region.l.index].push(c,l),o[n.region.r.index].push(c,l)}),o=o.map(function(n,e){var r=t[e][0],i=t[e][1],u=n.map(function(n){return Math.atan2(n[0]-r,n[1]-i)}),a=ya.range(n.length).sort(function(n,t){return u[n]-u[t]});return a.filter(function(n,t){return!t||u[n]-u[a[t-1]]>Qa}).map(function(t){return n[t]})}),o.forEach(function(n,e){var r=n.length;if(!r)return n.push([-f,-f],[-f,f],[f,f],[f,-f]);if(!(r>2)){var i=t[e],u=n[0],a=n[1],o=i[0],c=i[1],l=u[0],s=u[1],h=a[0],g=a[1],p=Math.abs(h-l),m=g-s;if(Math.abs(m)<Qa){var d=s>c?-f:f;n.push([-f,d],[f,d])}else if(Qa>p){var v=l>o?-f:f;n.push([v,-f],[v,f])}else{var d=(l-o)*(g-s)>(h-l)*(s-c)?f:-f,y=Math.abs(m)-p;Math.abs(y)<Qa?n.push([0>m?d:-d,d]):(y>0&&(d*=-1),n.push([-f,d],[f,d]))}}}),i)for(a=0;s>a;++a)i.clip(o[a]);for(a=0;s>a;++a)o[a].point=n[a];return o}var e=Ie,r=Ve,i=null;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.clipExtent=function(n){if(!arguments.length)return i&&[i[0],i[2]];if(null==n)i=null;else{var e=+n[0][0],r=+n[0][1],u=+n[1][0],a=+n[1][1];i=ya.geom.polygon([[e,r],[e,a],[u,a],[u,r]])}return t},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):i&&i[2]},t.links=function(n){var t,i,u,a=n.map(function(){return[]}),o=[],c=pt(e),l=pt(r),s=n.length;if(c===Ie&&l===Ve)t=n;else for(t=new Array(s),u=0;s>u;++u)t[u]=[+c.call(this,i=n[u],u),+l.call(this,i,u)];return mr(t,function(t){var e=t.region.l.index,r=t.region.r.index;a[e][r]||(a[e][r]=a[r][e]=!0,o.push({source:n[e],target:n[r]}))}),o},t.triangles=function(n){if(e===Ie&&r===Ve)return ya.geom.delaunay(n);for(var t,i=new Array(c),u=pt(e),a=pt(r),o=-1,c=n.length;++o<c;)(i[o]=[+u.call(this,t=n[o],o),+a.call(this,t,o)]).data=t;return ya.geom.delaunay(i).map(function(n){return n.map(function(n){return n.data})})},t)};var mc={l:"r",r:"l"};ya.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,a,o){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(Math.abs(c-e)+Math.abs(s-r)<.01)l(n,t,e,r,i,u,a,o);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,i,u,a,o),l(n,t,e,r,i,u,a,o)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,i,u,a,o)}function l(n,t,e,r,i,a,o,c){var l=.5*(i+o),s=.5*(a+c),f=e>=l,h=r>=s,g=(h<<1)+f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=yr()),f?i=l:o=l,h?a=s:c=s,u(n,t,e,r,i,a,o,c)}var s,f,h,g,p,m,d,v,y,M=pt(o),x=pt(c);if(null!=t)m=t,d=e,v=r,y=i;else if(v=y=-(m=d=1/0),f=[],h=[],p=n.length,a)for(g=0;p>g;++g)s=n[g],s.x<m&&(m=s.x),s.y<d&&(d=s.y),s.x>v&&(v=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);m>b&&(m=b),d>_&&(d=_),b>v&&(v=b),_>y&&(y=_),f.push(b),h.push(_)}var w=v-m,S=y-d;w>S?y=d+w:v=m+S;var E=yr();if(E.add=function(n){u(E,n,+M(n,++g),+x(n,g),m,d,v,y)},E.visit=function(n){Mr(n,E,m,d,v,y)},g=-1,null==t){for(;++g<p;)u(E,n[g],f[g],h[g],m,d,v,y);--g}else n.forEach(E.add);return f=h=n=s=null,E}var a,o=Ie,c=Ve;return(a=arguments.length)?(o=dr,c=vr,3===a&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(o=n,u):o},u.y=function(n){return arguments.length?(c=n,u):c},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},ya.interpolateRgb=xr,ya.interpolateObject=br,ya.interpolateNumber=_r,ya.interpolateString=wr;var dc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;ya.interpolate=Sr,ya.interpolators=[function(n,t){var e=typeof t;return("string"===e?so.has(t)||/^(#|rgb\(|hsl\()/.test(t)?xr:wr:t instanceof P?xr:"object"===e?Array.isArray(t)?Er:br:_r)(n,t)}],ya.interpolateArray=Er;var vc=function(){return mt},yc=ya.map({linear:vc,poly:zr,quad:function(){return qr},cubic:function(){return Tr},sin:function(){return Dr},exp:function(){return jr},circle:function(){return Lr},elastic:Hr,back:Fr,bounce:function(){return Pr}}),Mc=ya.map({"in":mt,out:Ar,"in-out":Nr,"out-in":function(n){return Nr(Ar(n))}});ya.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return e=yc.get(e)||vc,r=Mc.get(r)||mt,kr(r(e.apply(null,Array.prototype.slice.call(arguments,1))))},ya.interpolateHcl=Or,ya.interpolateHsl=Yr,ya.interpolateLab=Rr,ya.interpolateRound=Ur,ya.transform=function(n){var t=Ma.createElementNS(ya.ns.prefix.svg,"g");return(ya.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Ir(e?e.matrix:xc)})(n)},Ir.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var xc={a:1,b:0,c:0,d:1,e:0,f:0};ya.interpolateTransform=Br,ya.layout={},ya.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},ya.layout.chord=function(){function n(){var n,l,f,h,g,p={},m=[],d=ya.range(u),v=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(l=0,g=-1;++g<u;)l+=i[h][g];m.push(l),v.push(ya.range(u)),n+=l}for(a&&d.sort(function(n,t){return a(m[n],m[t])}),o&&v.forEach(function(n,t){n.sort(function(n,e){return o(i[t][n],i[t][e])})}),n=(2*Ka-s*u)/n,l=0,h=-1;++h<u;){for(f=l,g=-1;++g<u;){var y=d[h],M=v[y][g],x=i[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<u;)for(g=h-1;++g<u;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,a,o,c,l={},s=0;return l.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,l):i},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(a=n,e=r=null,l):a},l.sortSubgroups=function(n){return arguments.length?(o=n,e=null,l):o},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ya.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,a=t.cy-n.y,o=1/Math.sqrt(u*u+a*a);if(m>(i-e)*o){var c=t.charge*o*o;return n.px-=u*c,n.py-=a*c,!0}if(t.point&&isFinite(o)){var c=t.pointCharge*o*o;n.px-=u*c,n.py-=a*c}}return!t.charge}}function t(n){n.px=ya.event.x,n.py=ya.event.y,o.resume()}var e,r,i,u,a,o={},c=ya.dispatch("start","tick","end"),l=[1,1],s=.9,f=bc,h=_c,g=-30,p=.1,m=.8,d=[],v=[];return o.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,o,f,h,m,y,M,x,b=d.length,_=v.length;for(e=0;_>e;++e)o=v[e],f=o.source,h=o.target,M=h.x-f.x,x=h.y-f.y,(m=M*M+x*x)&&(m=r*u[e]*((m=Math.sqrt(m))-i[e])/m,M*=m,x*=m,h.x-=M*(y=f.weight/(h.weight+f.weight)),h.y-=x*y,f.x+=M*(y=1-y),f.y+=x*y);if((y=r*p)&&(M=l[0]/2,x=l[1]/2,e=-1,y))for(;++e<b;)o=d[e],o.x+=(M-o.x)*y,o.y+=(x-o.y)*y;if(g)for(ri(t=ya.geom.quadtree(d),r,a),e=-1;++e<b;)(o=d[e]).fixed||t.visit(n(o));for(e=-1;++e<b;)o=d[e],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*s,o.y-=(o.py-(o.py=o.y))*s);c.tick({type:"tick",alpha:r})},o.nodes=function(n){return arguments.length?(d=n,o):d},o.links=function(n){return arguments.length?(v=n,o):v},o.size=function(n){return arguments.length?(l=n,o):l},o.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,o):f},o.distance=o.linkDistance,o.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,o):h},o.friction=function(n){return arguments.length?(s=+n,o):s},o.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,o):g},o.gravity=function(n){return arguments.length?(p=+n,o):p},o.theta=function(n){return arguments.length?(m=+n,o):m},o.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ya.timer(o.tick)),o):r},o.start=function(){function n(n,r){for(var i,u=t(e),a=-1,o=u.length;++a<o;)if(!isNaN(i=u[a][n]))return i;return Math.random()*r}function t(){if(!c){for(c=[],r=0;p>r;++r)c[r]=[];for(r=0;m>r;++r){var n=v[r];c[n.source.index].push(n.target),c[n.target.index].push(n.source)}}return c[e]}var e,r,c,s,p=d.length,m=v.length,y=l[0],M=l[1];for(e=0;p>e;++e)(s=d[e]).index=e,s.weight=0;for(e=0;m>e;++e)s=v[e],"number"==typeof s.source&&(s.source=d[s.source]),"number"==typeof s.target&&(s.target=d[s.target]),++s.source.weight,++s.target.weight;for(e=0;p>e;++e)s=d[e],isNaN(s.x)&&(s.x=n("x",y)),isNaN(s.y)&&(s.y=n("y",M)),isNaN(s.px)&&(s.px=s.x),isNaN(s.py)&&(s.py=s.y);if(i=[],"function"==typeof f)for(e=0;m>e;++e)i[e]=+f.call(this,v[e],e);else for(e=0;m>e;++e)i[e]=f;if(u=[],"function"==typeof h)for(e=0;m>e;++e)u[e]=+h.call(this,v[e],e);else for(e=0;m>e;++e)u[e]=h;if(a=[],"function"==typeof g)for(e=0;p>e;++e)a[e]=+g.call(this,d[e],e);else for(e=0;p>e;++e)a[e]=g;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return e||(e=ya.behavior.drag().origin(mt).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",ni)),arguments.length?(this.on("mouseover.force",ti).on("mouseout.force",ei).call(e),void 0):e},ya.rebind(o,c,"on")};var bc=20,_c=1;ya.layout.hierarchy=function(){function n(t,a,o){var c=i.call(e,t,a);if(t.depth=a,o.push(t),c&&(l=c.length)){for(var l,s,f=-1,h=t.children=[],g=0,p=a+1;++f<l;)s=n(c[f],p,o),s.parent=t,h.push(s),g+=s.value;r&&h.sort(r),u&&(t.value=g)}else u&&(t.value=+u.call(e,t,a)||0);return t}function t(n,r){var i=n.children,a=0;if(i&&(o=i.length))for(var o,c=-1,l=r+1;++c<o;)a+=t(i[c],l);else u&&(a=+u.call(e,n,r)||0);return u&&(n.value=a),a}function e(t){var e=[];return n(t,0,e),e}var r=oi,i=ui,u=ai;return e.sort=function(n){return arguments.length?(r=n,e):r},e.children=function(n){return arguments.length?(i=n,e):i},e.value=function(n){return arguments.length?(u=n,e):u},e.revalue=function(n){return t(n,0),n},e},ya.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(a=u.length)){var a,o,c,l=-1;for(r=t.value?r/t.value:0;++l<a;)n(o=u[l],e,c=o.value*r,i),e+=c}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var a=r.call(this,e,u);return n(a[0],0,i[0],i[1]/t(a[0])),a}var r=ya.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},ii(e,r)},ya.layout.pie=function(){function n(u){var a=u.map(function(e,r){return+t.call(n,e,r)}),o=+("function"==typeof r?r.apply(this,arguments):r),c=(("function"==typeof i?i.apply(this,arguments):i)-o)/ya.sum(a),l=ya.range(u.length);null!=e&&l.sort(e===wc?function(n,t){return a[t]-a[n]}:function(n,t){return e(u[n],u[t])});var s=[];return l.forEach(function(n){var t;s[n]={data:u[n],value:t=a[n],startAngle:o,endAngle:o+=t*c}}),s}var t=Number,e=wc,r=0,i=2*Ka;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n};var wc={};ya.layout.stack=function(){function n(o,c){var l=o.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),a.call(n,t,e)]})}),f=e.call(n,s,c);l=ya.permute(l,f),s=ya.permute(s,f);var h,g,p,m=r.call(n,s,c),d=l.length,v=l[0].length;for(g=0;v>g;++g)for(i.call(n,l[0][g],p=m[g],s[0][g][1]),h=1;d>h;++h)i.call(n,l[h][g],p+=s[h-1][g][1],s[h][g][1]);return o}var t=mt,e=hi,r=gi,i=fi,u=li,a=si;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:Sc.get(t)||hi,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:Ec.get(t)||gi,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(a=t,n):a},n.out=function(t){return arguments.length?(i=t,n):i},n};var Sc=ya.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(pi),u=n.map(mi),a=ya.range(r).sort(function(n,t){return i[n]-i[t]}),o=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=a[t],c>o?(o+=u[e],l.push(e)):(c+=u[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ya.range(n.length).reverse()},"default":hi}),Ec=ya.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,a=[],o=0,c=[];for(e=0;u>e;++e){for(t=0,r=0;i>t;t++)r+=n[t][e][1];r>o&&(o=r),a.push(r)}for(e=0;u>e;++e)c[e]=(o-a[e])/2;return c},wiggle:function(n){var t,e,r,i,u,a,o,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,i=0;s>t;++t)i+=n[t][e][1];for(t=0,u=0,o=f[e][0]-f[e-1][0];s>t;++t){for(r=0,a=(n[t][e][1]-n[t][e-1][1])/(2*o);t>r;++r)a+=(n[r][e][1]-n[r][e-1][1])/o;u+=a*n[t][e][1]}g[e]=c-=i?u/i*o:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,i=n.length,u=n[0].length,a=1/i,o=[];for(e=0;u>e;++e){for(t=0,r=0;i>t;t++)r+=n[t][e][1];if(r)for(t=0;i>t;t++)n[t][e][1]/=r;else for(t=0;i>t;t++)n[t][e][1]=a}for(e=0;u>e;++e)o[e]=0;return o},zero:gi});ya.layout.histogram=function(){function n(n,u){for(var a,o,c=[],l=n.map(e,this),s=r.call(this,l,u),f=i.call(this,s,l,u),u=-1,h=l.length,g=f.length-1,p=t?1:1/h;++u<g;)a=c[u]=[],a.dx=f[u+1]-(a.x=f[u]),a.y=0;if(g>0)for(u=-1;++u<h;)o=l[u],o>=s[0]&&o<=s[1]&&(a=c[ya.bisect(f,o,1,g)-1],a.y+=p,a.push(n[u]));return c}var t=!0,e=Number,r=Mi,i=vi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=pt(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return yi(n,t)}:pt(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ya.layout.tree=function(){function n(n,u){function a(n,t){var r=n.children,i=n._tree;if(r&&(u=r.length)){for(var u,o,l,s=r[0],f=s,h=-1;++h<u;)l=r[h],a(l,o),f=c(l,o,f),o=l;Ni(n);var g=.5*(s._tree.prelim+l._tree.prelim);t?(i.prelim=t._tree.prelim+e(n,t),i.mod=i.prelim-g):i.prelim=g}else t&&(i.prelim=t._tree.prelim+e(n,t))}function o(n,t){n.x=n._tree.prelim+t;var e=n.children;if(e&&(r=e.length)){var r,i=-1;for(t+=n._tree.mod;++i<r;)o(e[i],t)}}function c(n,t,r){if(t){for(var i,u=n,a=n,o=t,c=n.parent.children[0],l=u._tree.mod,s=a._tree.mod,f=o._tree.mod,h=c._tree.mod;o=_i(o),u=bi(u),o&&u;)c=bi(c),a=_i(a),a._tree.ancestor=n,i=o._tree.prelim+f-u._tree.prelim-l+e(o,u),i>0&&(qi(Ti(o,n,r),n,i),l+=i,s+=i),f+=o._tree.mod,l+=u._tree.mod,h+=c._tree.mod,s+=a._tree.mod;o&&!_i(a)&&(a._tree.thread=o,a._tree.mod+=f-s),u&&!bi(c)&&(c._tree.thread=u,c._tree.mod+=l-h,r=n)}return r}var l=t.call(this,n,u),s=l[0];Ai(s,function(n,t){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),a(s),o(s,-s._tree.prelim);var f=wi(s,Ei),h=wi(s,Si),g=wi(s,ki),p=f.x-e(f,h)/2,m=h.x+e(h,f)/2,d=g.depth||1;return Ai(s,i?function(n){n.x*=r[0],n.y=n.depth*r[1],delete n._tree}:function(n){n.x=(n.x-p)/(m-p)*r[0],n.y=n.depth/d*r[1],delete n._tree}),l}var t=ya.layout.hierarchy().sort(null).value(null),e=xi,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},ii(n,t)},ya.layout.pack=function(){function n(n,u){var a=e.call(this,n,u),o=a[0],c=i[0],l=i[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,Ai(o,function(n){n.r=+s(n.value)}),Ai(o,Li),r){var f=r*(t?1:Math.max(2*o.r/c,2*o.r/l))/2;Ai(o,function(n){n.r+=f}),Ai(o,Li),Ai(o,function(n){n.r-=f})}return Pi(o,c/2,l/2,t?1:1/Math.max(2*o.r/c,2*o.r/l)),a}var t,e=ya.layout.hierarchy().sort(Ci),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},ii(n,e)},ya.layout.cluster=function(){function n(n,u){var a,o=t.call(this,n,u),c=o[0],l=0;Ai(c,function(n){var t=n.children;t&&t.length?(n.x=Ri(t),n.y=Yi(t)):(n.x=a?l+=e(n,a):0,n.y=0,a=n)});var s=Ui(c),f=Ii(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Ai(c,i?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),o}var t=ya.layout.hierarchy().sort(null).value(null),e=xi,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},ii(n,t)},ya.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var u=e.children;if(u&&u.length){var a,o,c,l=f(e),s=[],h=u.slice(),p=1/0,m="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(a=h[c-1]),s.area+=a.area,"squarify"!==g||(o=r(s,m))<=p?(h.pop(),p=o):(s.area-=s.pop().area,i(s,m,l,!1),m=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(i(s,m,l,!0),s.length=s.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,a=f(t),o=r.slice(),c=[];for(n(o,a.dx*a.dy/t.value),c.area=0;u=o.pop();)c.push(u),c.area+=u.area,null!=u.z&&(i(c,u.z?a.dx:a.dy,a,!o.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,a=-1,o=n.length;++a<o;)(e=n[a].area)&&(u>e&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*u*p)):1/0}function i(n,t,e,r){var i,u=-1,a=n.length,o=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++u<a;)i=n[u],i.x=o,i.y=l,i.dy=s,o+=i.dx=Math.min(e.x+e.dx-o,s?c(i.area/s):0);i.z=!0,i.dx+=e.x+e.dx-o,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++u<a;)i=n[u],i.x=o,i.y=l,i.dx=s,l+=i.dy=Math.min(e.y+e.dy-l,s?c(i.area/s):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function u(r){var i=a||o(r),u=i[0];return u.x=0,u.y=0,u.dx=l[0],u.dy=l[1],a&&o.revalue(u),n([u],u.dx*u.dy/u.value),(a?e:t)(u),h&&(a=i),i}var a,o=ya.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Vi,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(l=n,u):l},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Vi(t):Xi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Xi(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Vi:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(c=n?Math.round:Number,u):c!=Number},u.sticky=function(n){return arguments.length?(h=n,a=null,u):h},u.ratio=function(n){return arguments.length?(p=n,u):p},u.mode=function(n){return arguments.length?(g=n+"",u):g},ii(u,o)},ya.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=ya.random.normal.apply(ya,arguments);return function(){return Math.exp(n())}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t/n}}},ya.scale={};var kc={floor:mt,ceil:mt};ya.scale.linear=function(){return Ki([0,1],[0,1],Sr,!1)},ya.scale.log=function(){return uu(ya.scale.linear().domain([0,1]),10,!0,[1,10])};var Ac=ya.format(".0e"),Nc={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ya.scale.pow=function(){return au(ya.scale.linear(),1,[0,1])},ya.scale.sqrt=function(){return ya.scale.pow().exponent(.5)},ya.scale.ordinal=function(){return cu([],{t:"range",a:[[]]})},ya.scale.category10=function(){return ya.scale.ordinal().range(qc)},ya.scale.category20=function(){return ya.scale.ordinal().range(Tc)},ya.scale.category20b=function(){return ya.scale.ordinal().range(Cc)},ya.scale.category20c=function(){return ya.scale.ordinal().range(zc)};var qc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ut),Tc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ut),Cc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ut),zc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ut);ya.scale.quantile=function(){return lu([],[])},ya.scale.quantize=function(){return su(0,1,[0,1])},ya.scale.threshold=function(){return fu([.5],[0,1])},ya.scale.identity=function(){return hu([0,1])},ya.svg.arc=function(){function n(){var n=t.apply(this,arguments),u=e.apply(this,arguments),a=r.apply(this,arguments)+Dc,o=i.apply(this,arguments)+Dc,c=(a>o&&(c=a,a=o,o=c),o-a),l=Ka>c?"0":"1",s=Math.cos(a),f=Math.sin(a),h=Math.cos(o),g=Math.sin(o);return c>=jc?n?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+n+"A"+n+","+n+" 0 1,0 0,"+-n+"A"+n+","+n+" 0 1,0 0,"+n+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":n?"M"+u*s+","+u*f+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*g+"L"+n*h+","+n*g+"A"+n+","+n+" 0 "+l+",0 "+n*s+","+n*f+"Z":"M"+u*s+","+u*f+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*g+"L0,0"+"Z"}var t=gu,e=pu,r=mu,i=du;return n.innerRadius=function(e){return arguments.length?(t=pt(e),n):t},n.outerRadius=function(t){return arguments.length?(e=pt(t),n):e},n.startAngle=function(t){return arguments.length?(r=pt(t),n):r},n.endAngle=function(t){return arguments.length?(i=pt(t),n):i},n.centroid=function(){var n=(t.apply(this,arguments)+e.apply(this,arguments))/2,u=(r.apply(this,arguments)+i.apply(this,arguments))/2+Dc;return[Math.cos(u)*n,Math.sin(u)*n]},n};var Dc=-Ka/2,jc=2*Ka-1e-6;ya.svg.line.radial=function(){var n=Ue(vu);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},$e.reverse=We,We.reverse=$e,ya.svg.area=function(){return yu(mt)},ya.svg.area.radial=function(){var n=yu(vu);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ya.svg.chord=function(){function n(n,o){var c=t(this,u,n,o),l=t(this,a,n,o);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?i(c.r,c.p1,c.r,c.p0):i(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=o.call(n,i,r),a=c.call(n,i,r)+Dc,s=l.call(n,i,r)+Dc;return{r:u,a0:a,a1:s,p0:[u*Math.cos(a),u*Math.sin(a)],p1:[u*Math.cos(s),u*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Ka)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=ze,a=De,o=Mu,c=mu,l=du;return n.radius=function(t){return arguments.length?(o=pt(t),n):o},n.source=function(t){return arguments.length?(u=pt(t),n):u},n.target=function(t){return arguments.length?(a=pt(t),n):a},n.startAngle=function(t){return arguments.length?(c=pt(t),n):c},n.endAngle=function(t){return arguments.length?(l=pt(t),n):l},n},ya.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),a=e.call(this,n,i),o=(u.y+a.y)/2,c=[u,{x:u.x,y:o},{x:a.x,y:o},a];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=ze,e=De,r=xu;return n.source=function(e){return arguments.length?(t=pt(e),n):t},n.target=function(t){return arguments.length?(e=pt(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ya.svg.diagonal.radial=function(){var n=ya.svg.diagonal(),t=xu,e=n.projection;return n.projection=function(n){return arguments.length?e(bu(t=n)):t},n},ya.svg.symbol=function(){function n(n,r){return(Lc.get(t.call(this,n,r))||Su)(e.call(this,n,r))}var t=wu,e=_u;return n.type=function(e){return arguments.length?(t=pt(e),n):t},n.size=function(t){return arguments.length?(e=pt(t),n):e},n};var Lc=ya.map({circle:Su,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Oc)),e=t*Oc;return"M0,"+-t+"L"+e+",0"+" 0,"+t+" "+-e+",0"+"Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Pc),e=t*Pc/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Pc),e=t*Pc/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ya.svg.symbolTypes=Lc.keys();var Hc,Fc,Pc=Math.sqrt(3),Oc=Math.tan(30*to),Yc=[],Rc=0;Yc.call=Ya.call,Yc.empty=Ya.empty,Yc.node=Ya.node,Yc.size=Ya.size,ya.transition=function(n){return arguments.length?Hc?n.transition():n:Ia.transition()},ya.transition.prototype=Yc,Yc.select=function(n){var t,e,r,i=this.id,u=[];n=v(n);for(var a=-1,o=this.length;++a<o;){u.push(t=[]);for(var c=this[a],l=-1,s=c.length;++l<s;)(r=c[l])&&(e=n.call(r,r.__data__,l,a))?("__data__"in r&&(e.__data__=r.__data__),Nu(e,l,i,r.__transition__[i]),t.push(e)):t.push(null)}return Eu(u,i)},Yc.selectAll=function(n){var t,e,r,i,u,a=this.id,o=[];n=y(n);for(var c=-1,l=this.length;++c<l;)for(var s=this[c],f=-1,h=s.length;++f<h;)if(r=s[f]){u=r.__transition__[a],e=n.call(r,r.__data__,f,c),o.push(t=[]);for(var g=-1,p=e.length;++g<p;)(i=e[g])&&Nu(i,g,a,u),t.push(i)}return Eu(o,a)},Yc.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=N(n));for(var u=0,a=this.length;a>u;u++){i.push(t=[]);for(var e=this[u],o=0,c=e.length;c>o;o++)(r=e[o])&&n.call(r,r.__data__,o)&&t.push(r)}return Eu(i,this.id)},Yc.tween=function(n,t){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(n):T(this,null==t?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})},Yc.attr=function(n,t){function e(){this.removeAttribute(o)}function r(){this.removeAttributeNS(o.space,o.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(o);return e!==n&&(t=a(e,n),function(n){this.setAttribute(o,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(o.space,o.local);return e!==n&&(t=a(e,n),function(n){this.setAttributeNS(o.space,o.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var a="transform"==n?Br:Sr,o=ya.ns.qualify(n);return ku(this,"attr."+n,t,o.local?u:i)},Yc.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=ya.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Yc.style=function(n,t,e){function r(){this.style.removeProperty(n)}function i(t){return null==t?r:(t+="",function(){var r,i=ba.getComputedStyle(this,null).getPropertyValue(n);return i!==t&&(r=Sr(i,t),function(t){this.style.setProperty(n,r(t),e)})})}var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(t="");for(e in n)this.style(e,n[e],t);return this}e=""}return ku(this,"style."+n,t,i)},Yc.styleTween=function(n,t,e){function r(r,i){var u=t.call(this,r,i,ba.getComputedStyle(this,null).getPropertyValue(n));return u&&function(t){this.style.setProperty(n,u(t),e)}}return arguments.length<3&&(e=""),this.tween("style."+n,r)},Yc.text=function(n){return ku(this,"text",n,Au)},Yc.remove=function(){return this.each("end.transition",function(){var n;!this.__transition__&&(n=this.parentNode)&&n.removeChild(this)})},Yc.ease=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof n&&(n=ya.ease.apply(ya,arguments)),T(this,function(e){e.__transition__[t].ease=n}))},Yc.delay=function(n){var t=this.id;return T(this,"function"==typeof n?function(e,r,i){e.__transition__[t].delay=0|n.call(e,e.__data__,r,i)}:(n|=0,function(e){e.__transition__[t].delay=n}))},Yc.duration=function(n){var t=this.id;return T(this,"function"==typeof n?function(e,r,i){e.__transition__[t].duration=Math.max(1,0|n.call(e,e.__data__,r,i))}:(n=Math.max(1,0|n),function(e){e.__transition__[t].duration=n}))},Yc.each=function(n,t){var e=this.id;if(arguments.length<2){var r=Fc,i=Hc;Hc=e,T(this,function(t,r,i){Fc=t.__transition__[e],n.call(t,t.__data__,r,i)}),Fc=r,Hc=i}else T(this,function(r){var i=r.__transition__[e];(i.event||(i.event=ya.dispatch("start","end"))).on(n,t)});return this},Yc.transition=function(){for(var n,t,e,r,i=this.id,u=++Rc,a=[],o=0,c=this.length;c>o;o++){a.push(n=[]);for(var t=this[o],l=0,s=t.length;s>l;l++)(e=t[l])&&(r=Object.create(e.__transition__[i]),r.delay+=r.duration,Nu(e,l,u,r)),n.push(e)}return Eu(a,u)},ya.svg.axis=function(){function n(n){n.each(function(){var n,f=ya.select(this),h=null==l?e.ticks?e.ticks.apply(e,c):e.domain():l,g=null==t?e.tickFormat?e.tickFormat.apply(e,c):String:t,p=Cu(e,h,s),m=f.selectAll(".tick.minor").data(p,String),d=m.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-6),v=ya.transition(m.exit()).style("opacity",1e-6).remove(),y=ya.transition(m).style("opacity",1),M=f.selectAll(".tick.major").data(h,String),x=M.enter().insert("g",".domain").attr("class","tick major").style("opacity",1e-6),b=ya.transition(M.exit()).style("opacity",1e-6).remove(),_=ya.transition(M).style("opacity",1),w=Bi(e),S=f.selectAll(".domain").data([0]),E=(S.enter().append("path").attr("class","domain"),ya.transition(S)),k=e.copy(),A=this.__chart__||k;this.__chart__=k,x.append("line"),x.append("text");var N=x.select("line"),q=_.select("line"),T=M.select("text").text(g),C=x.select("text"),z=_.select("text");switch(r){case"bottom":n=qu,d.attr("y2",u),y.attr("x2",0).attr("y2",u),N.attr("y2",i),C.attr("y",Math.max(i,0)+o),q.attr("x2",0).attr("y2",i),z.attr("x",0).attr("y",Math.max(i,0)+o),T.attr("dy",".71em").style("text-anchor","middle"),E.attr("d","M"+w[0]+","+a+"V0H"+w[1]+"V"+a);break;case"top":n=qu,d.attr("y2",-u),y.attr("x2",0).attr("y2",-u),N.attr("y2",-i),C.attr("y",-(Math.max(i,0)+o)),q.attr("x2",0).attr("y2",-i),z.attr("x",0).attr("y",-(Math.max(i,0)+o)),T.attr("dy","0em").style("text-anchor","middle"),E.attr("d","M"+w[0]+","+-a+"V0H"+w[1]+"V"+-a);break;case"left":n=Tu,d.attr("x2",-u),y.attr("x2",-u).attr("y2",0),N.attr("x2",-i),C.attr("x",-(Math.max(i,0)+o)),q.attr("x2",-i).attr("y2",0),z.attr("x",-(Math.max(i,0)+o)).attr("y",0),T.attr("dy",".32em").style("text-anchor","end"),E.attr("d","M"+-a+","+w[0]+"H0V"+w[1]+"H"+-a);break;case"right":n=Tu,d.attr("x2",u),y.attr("x2",u).attr("y2",0),N.attr("x2",i),C.attr("x",Math.max(i,0)+o),q.attr("x2",i).attr("y2",0),z.attr("x",Math.max(i,0)+o).attr("y",0),T.attr("dy",".32em").style("text-anchor","start"),E.attr("d","M"+a+","+w[0]+"H0V"+w[1]+"H"+a)
}if(e.rangeBand){var D=k.rangeBand()/2,j=function(n){return k(n)+D};x.call(n,j),_.call(n,j)}else x.call(n,A),_.call(n,k),b.call(n,k),d.call(n,A),y.call(n,k),v.call(n,k)})}var t,e=ya.scale.linear(),r=Uc,i=6,u=6,a=6,o=3,c=[10],l=null,s=0;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Ic?t+"":Uc,n):r},n.ticks=function(){return arguments.length?(c=arguments,n):c},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t,e){if(!arguments.length)return i;var r=arguments.length-1;return i=+t,u=r>1?+e:i,a=r>0?+arguments[r]:i,n},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(t){return arguments.length?(s=+t,n):s},n};var Uc="bottom",Ic={top:1,right:1,bottom:1,left:1};ya.svg.brush=function(){function n(u){u.each(function(){var u,a=ya.select(this),s=a.selectAll(".background").data([0]),f=a.selectAll(".extent").data([0]),h=a.selectAll(".resize").data(l,String);a.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i),s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.enter().append("rect").attr("class","extent").style("cursor","move"),h.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Vc[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",n.empty()?"none":null),h.exit().remove(),o&&(u=Bi(o),s.attr("x",u[0]).attr("width",u[1]-u[0]),e(a)),c&&(u=Bi(c),s.attr("y",u[0]).attr("height",u[1]-u[0]),r(a)),t(a)})}function t(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)][0]+","+s[+/^s/.test(n)][1]+")"})}function e(n){n.select(".extent").attr("x",s[0][0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function r(n){n.select(".extent").attr("y",s[0][1]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function i(){function i(){var n=ya.event.changedTouches;return n?ya.touches(M,n)[0]:ya.mouse(M)}function l(){32==ya.event.keyCode&&(k||(v=null,N[0]-=s[1][0],N[1]-=s[1][1],k=2),g())}function h(){32==ya.event.keyCode&&2==k&&(N[0]+=s[1][0],N[1]+=s[1][1],k=0,g())}function p(){var n=i(),u=!1;y&&(n[0]+=y[0],n[1]+=y[1]),k||(ya.event.altKey?(v||(v=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]),N[0]=s[+(n[0]<v[0])][0],N[1]=s[+(n[1]<v[1])][1]):v=null),S&&m(n,o,0)&&(e(_),u=!0),E&&m(n,c,1)&&(r(_),u=!0),u&&(t(_),b({type:"brush",mode:k?"move":"resize"}))}function m(n,t,e){var r,i,a=Bi(t),o=a[0],c=a[1],l=N[e],h=s[1][e]-s[0][e];return k&&(o-=l,c-=h+l),r=f[e]?Math.max(o,Math.min(c,n[e])):n[e],k?i=(r+=l)+h:(v&&(l=Math.max(o,Math.min(c,2*v[e]-r))),r>l?(i=r,r=l):i=l),s[0][e]!==r||s[1][e]!==i?(u=null,s[0][e]=r,s[1][e]=i,!0):void 0}function d(){p(),_.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ya.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),b({type:"brushend"})}var v,y,M=this,x=ya.select(ya.event.target),b=a.of(M,arguments),_=ya.select(M),w=x.datum(),S=!/^(n|s)$/.test(w)&&o,E=!/^(e|w)$/.test(w)&&c,k=x.classed("extent"),A=H(),N=i(),q=ya.select(ba).on("keydown.brush",l).on("keyup.brush",h);if(ya.event.changedTouches?q.on("touchmove.brush",p).on("touchend.brush",d):q.on("mousemove.brush",p).on("mouseup.brush",d),k)N[0]=s[0][0]-N[0],N[1]=s[0][1]-N[1];else if(w){var T=+/w$/.test(w),C=+/^n/.test(w);y=[s[1-T][0]-N[0],s[1-C][1]-N[1]],N[0]=s[T][0],N[1]=s[C][1]}else ya.event.altKey&&(v=N.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),ya.select("body").style("cursor",x.style("cursor")),b({type:"brushstart"}),p()}var u,a=m(n,"brushstart","brush","brushend"),o=null,c=null,l=Xc[0],s=[[0,0],[0,0]],f=[!0,!0];return n.x=function(t){return arguments.length?(o=t,l=Xc[!o<<1|!c],n):o},n.y=function(t){return arguments.length?(c=t,l=Xc[!o<<1|!c],n):c},n.clamp=function(t){return arguments.length?(o&&c?f=[!!t[0],!!t[1]]:(o||c)&&(f[+!o]=!!t),n):o&&c?f:o||c?f[+!o]:null},n.extent=function(t){var e,r,i,a,l;return arguments.length?(u=[[0,0],[0,0]],o&&(e=t[0],r=t[1],c&&(e=e[0],r=r[0]),u[0][0]=e,u[1][0]=r,o.invert&&(e=o(e),r=o(r)),e>r&&(l=e,e=r,r=l),s[0][0]=0|e,s[1][0]=0|r),c&&(i=t[0],a=t[1],o&&(i=i[1],a=a[1]),u[0][1]=i,u[1][1]=a,c.invert&&(i=c(i),a=c(a)),i>a&&(l=i,i=a,a=l),s[0][1]=0|i,s[1][1]=0|a),n):(t=u||s,o&&(e=t[0][0],r=t[1][0],u||(e=s[0][0],r=s[1][0],o.invert&&(e=o.invert(e),r=o.invert(r)),e>r&&(l=e,e=r,r=l))),c&&(i=t[0][1],a=t[1][1],u||(i=s[0][1],a=s[1][1],c.invert&&(i=c.invert(i),a=c.invert(a)),i>a&&(l=i,i=a,a=l))),o&&c?[[e,i],[r,a]]:o?[e,r]:c&&[i,a])},n.clear=function(){return u=null,s[0][0]=s[0][1]=s[1][0]=s[1][1]=0,n},n.empty=function(){return o&&s[0][0]===s[1][0]||c&&s[0][1]===s[1][1]},ya.rebind(n,a,"on")};var Vc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];ya.time={};var Zc=Date,Bc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];zu.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){$c.setUTCDate.apply(this._,arguments)},setDay:function(){$c.setUTCDay.apply(this._,arguments)},setFullYear:function(){$c.setUTCFullYear.apply(this._,arguments)},setHours:function(){$c.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){$c.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){$c.setUTCMinutes.apply(this._,arguments)},setMonth:function(){$c.setUTCMonth.apply(this._,arguments)},setSeconds:function(){$c.setUTCSeconds.apply(this._,arguments)},setTime:function(){$c.setTime.apply(this._,arguments)}};var $c=Date.prototype,Wc="%a %b %e %X %Y",Jc="%m/%d/%Y",Gc="%H:%M:%S",Kc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Qc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],nl=["January","February","March","April","May","June","July","August","September","October","November","December"],tl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ya.time.year=Du(function(n){return n=ya.time.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ya.time.years=ya.time.year.range,ya.time.years.utc=ya.time.year.utc.range,ya.time.day=Du(function(n){var t=new Zc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ya.time.days=ya.time.day.range,ya.time.days.utc=ya.time.day.utc.range,ya.time.dayOfYear=function(n){var t=ya.time.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},Bc.forEach(function(n,t){n=n.toLowerCase(),t=7-t;var e=ya.time[n]=Du(function(n){return(n=ya.time.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ya.time.year(n).getDay();return Math.floor((ya.time.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ya.time[n+"s"]=e.range,ya.time[n+"s"].utc=e.utc.range,ya.time[n+"OfYear"]=function(n){var e=ya.time.year(n).getDay();return Math.floor((ya.time.dayOfYear(n)+(e+t)%7)/7)}}),ya.time.week=ya.time.sunday,ya.time.weeks=ya.time.sunday.range,ya.time.weeks.utc=ya.time.sunday.utc.range,ya.time.weekOfYear=ya.time.sundayOfYear,ya.time.format=function(n){function t(t){for(var r,i,u,a=[],o=-1,c=0;++o<e;)37===n.charCodeAt(o)&&(a.push(n.substring(c,o)),null!=(i=fl[r=n.charAt(++o)])&&(r=n.charAt(++o)),(u=hl[r])&&(r=u(t,null==i?"e"===r?" ":"0":i)),a.push(r),c=o+1);return a.push(n.substring(c,o)),a.join("")}var e=n.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=Lu(e,n,t,0);if(r!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var i=new Zc;return"j"in e?i.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H,e.M,e.S,e.L),i},t.toString=function(){return n},t};var el=Hu(Kc),rl=Fu(Kc),il=Hu(Qc),ul=Fu(Qc),al=Hu(nl),ol=Fu(nl),cl=Hu(tl),ll=Fu(tl),sl=/^%/,fl={"-":"",_:" ",0:"0"},hl={a:function(n){return Qc[n.getDay()]},A:function(n){return Kc[n.getDay()]},b:function(n){return tl[n.getMonth()]},B:function(n){return nl[n.getMonth()]},c:ya.time.format(Wc),d:function(n,t){return Pu(n.getDate(),t,2)},e:function(n,t){return Pu(n.getDate(),t,2)},H:function(n,t){return Pu(n.getHours(),t,2)},I:function(n,t){return Pu(n.getHours()%12||12,t,2)},j:function(n,t){return Pu(1+ya.time.dayOfYear(n),t,3)},L:function(n,t){return Pu(n.getMilliseconds(),t,3)},m:function(n,t){return Pu(n.getMonth()+1,t,2)},M:function(n,t){return Pu(n.getMinutes(),t,2)},p:function(n){return n.getHours()>=12?"PM":"AM"},S:function(n,t){return Pu(n.getSeconds(),t,2)},U:function(n,t){return Pu(ya.time.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Pu(ya.time.mondayOfYear(n),t,2)},x:ya.time.format(Jc),X:ya.time.format(Gc),y:function(n,t){return Pu(n.getFullYear()%100,t,2)},Y:function(n,t){return Pu(n.getFullYear()%1e4,t,4)},Z:aa,"%":function(){return"%"}},gl={a:Ou,A:Yu,b:Vu,B:Xu,c:Zu,d:Qu,e:Qu,H:ta,I:ta,j:na,L:ia,m:Ku,M:ea,p:ua,S:ra,U:Uu,w:Ru,W:Iu,x:Bu,X:$u,y:Ju,Y:Wu,"%":oa},pl=/^\s*\d+/,ml=ya.map({am:0,pm:1});ya.time.format.utc=function(n){function t(n){try{Zc=zu;var t=new Zc;return t._=n,e(t)}finally{Zc=Date}}var e=ya.time.format(n);return t.parse=function(n){try{Zc=zu;var t=e.parse(n);return t&&t._}finally{Zc=Date}},t.toString=e.toString,t};var dl=ya.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");ya.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ca:dl,ca.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},ca.toString=dl.toString,ya.time.second=Du(function(n){return new Zc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ya.time.seconds=ya.time.second.range,ya.time.seconds.utc=ya.time.second.utc.range,ya.time.minute=Du(function(n){return new Zc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ya.time.minutes=ya.time.minute.range,ya.time.minutes.utc=ya.time.minute.utc.range,ya.time.hour=Du(function(n){var t=n.getTimezoneOffset()/60;return new Zc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ya.time.hours=ya.time.hour.range,ya.time.hours.utc=ya.time.hour.utc.range,ya.time.month=Du(function(n){return n=ya.time.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ya.time.months=ya.time.month.range,ya.time.months.utc=ya.time.month.utc.range;var vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],yl=[[ya.time.second,1],[ya.time.second,5],[ya.time.second,15],[ya.time.second,30],[ya.time.minute,1],[ya.time.minute,5],[ya.time.minute,15],[ya.time.minute,30],[ya.time.hour,1],[ya.time.hour,3],[ya.time.hour,6],[ya.time.hour,12],[ya.time.day,1],[ya.time.day,2],[ya.time.week,1],[ya.time.month,1],[ya.time.month,3],[ya.time.year,1]],Ml=[[ya.time.format("%Y"),Xt],[ya.time.format("%B"),function(n){return n.getMonth()}],[ya.time.format("%b %d"),function(n){return 1!=n.getDate()}],[ya.time.format("%a %d"),function(n){return n.getDay()&&1!=n.getDate()}],[ya.time.format("%I %p"),function(n){return n.getHours()}],[ya.time.format("%I:%M"),function(n){return n.getMinutes()}],[ya.time.format(":%S"),function(n){return n.getSeconds()}],[ya.time.format(".%L"),function(n){return n.getMilliseconds()}]],xl=ya.scale.linear(),bl=fa(Ml);yl.year=function(n,t){return xl.domain(n.map(ga)).ticks(t).map(ha)},ya.time.scale=function(){return la(ya.scale.linear(),yl,bl)};var _l=yl.map(function(n){return[n[0].utc,n[1]]}),wl=[[ya.time.format.utc("%Y"),Xt],[ya.time.format.utc("%B"),function(n){return n.getUTCMonth()}],[ya.time.format.utc("%b %d"),function(n){return 1!=n.getUTCDate()}],[ya.time.format.utc("%a %d"),function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],[ya.time.format.utc("%I %p"),function(n){return n.getUTCHours()}],[ya.time.format.utc("%I:%M"),function(n){return n.getUTCMinutes()}],[ya.time.format.utc(":%S"),function(n){return n.getUTCSeconds()}],[ya.time.format.utc(".%L"),function(n){return n.getUTCMilliseconds()}]],Sl=fa(wl);return _l.year=function(n,t){return xl.domain(n.map(ma)).ticks(t).map(pa)},ya.time.scale.utc=function(){return la(ya.scale.linear(),_l,Sl)},ya.text=dt(function(n){return n.responseText}),ya.json=function(n,t){return vt(n,"application/json",da,t)},ya.html=function(n,t){return vt(n,"text/html",va,t)},ya.xml=dt(function(n){return n.responseXML}),ya}();"use strict";YUI.add("d3-statusbar",function(Y){var views=Y.namespace("juju.views"),utils=Y.namespace("juju.views.utils");views.StatusBar=function(){var key=function(d){return d.key};function StatusBar(options){this.options=Y.mix(options||{},{container:"body",target:"svg",width:250,fontSize:16,transitionTime:750,resize:true,labels:true,sort:function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}})}StatusBar.prototype.render=function(){this.node=d3.select(this.options.target);if(this.node.empty()){this.node=d3.select(this.options.container).append(this.options.target);this.node.append("g").classed("statusbar",true)}if(this.options.resize){this.node.attr({width:this.options.width,height:this.options.fontSize+2})}this.scale=d3.scale.linear().domain([0,100]).range([0,this.options.width]);return this};StatusBar.prototype.mapData=function(data){var total=0;var max_range=0;var result=[];var min_reserve=10;var reserved=0;var k;var start=0;for(k in data){if(data.hasOwnProperty(k)){total+=data[k];if(data[k]>max_range){max_range=data[k]}}}for(k in data){if(data.hasOwnProperty(k)){var v=data[k];if(v===0){continue}if(v/total*100<min_reserve){reserved+=min_reserve-v/total*100}var p=Math.max(min_reserve,v/total*100);result.push({key:k,percent:p,count:v})}}if(this.options.sort){result.sort(this.options.sort)}result.forEach(function(d){if(d.count===max_range){d.percent-=reserved}});result.forEach(function(d){d.start=start;start+=d.percent});result.forEach(function(d){if(d.count===max_range){d.percent+=100-start}});return result};StatusBar.prototype.update=function(data){var self=this;var result=this.mapData(data);var rects=this.node.selectAll("rect").data(result,key);var labels=this.node.selectAll("text").data(result,key);rects.enter().insert("rect","text").each(function(d){var node=d3.select(this);node.classed(d.key,true)}).attr({height:self.options.fontSize+2});rects.transition().duration(self.options.transitionTime).attr({width:function(d,i){return self.scale(d.percent)},x:function(d,i){return self.scale(d.start)}});rects.exit().transition().duration(self.options.transitionTime).attr({width:0}).remove();if(this.options.labels){labels.enter().append("text");labels.text(function(d){return utils.humanizeNumber(d.count)}).classed("label",true).style({"font-size":self.options.fontSize}).transition().duration(self.options.transitionTime).attr({x:function(d){return self.scale(d.start)+2},y:self.options.fontSize-1});labels.exit().remove();return this}};return StatusBar}()},"0.1.0",{requires:["juju-view-utils"]});"use strict";YUI.add("event-tracker",function(Y){var ns=Y.Event;ns.EventTracker=function(){this._initEventTracker()};ns.EventTracker.prototype={_initEventTracker:function(){this._events=[];this.__event=this.on("destroy",function(ev){this._detachEvents(true)},this)},_detachEvents:function(complete){Y.Array.each(this._events,function(ev){ev.detach()});if(complete){this.__event.detach()}},addEvent:function(handler){this._events.push(handler)}}},"0.1",{requires:["base","event"]});var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(view){"use strict";var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},URL=view.URL||view.webkitURL||view,save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=doc.createEvent("MouseEvents");event.initMouseEvent("click",true,false,view,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex},0)},force_saveable_type="application/octet-stream",fs_min_size=0,deletion_queue=[],process_deletion_queue=function(){var i=deletion_queue.length;while(i--){var file=deletion_queue[i];if(typeof file==="string"){URL.revokeObjectURL(file)}else{file.remove()}}deletion_queue.length=0},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},FileSaver=function(blob,name){var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,get_object_url=function(){var object_url=get_URL().createObjectURL(blob);deletion_queue.push(object_url);return object_url},dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_object_url(blob)}if(target_view){target_view.location.href=object_url}filesaver.readyState=filesaver.DONE;dispatch_all()},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_object_url(blob);save_link.href=object_url;save_link.download=name;click(save_link);filesaver.readyState=filesaver.DONE;dispatch_all();return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}else{target_view=view.open()}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable(function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable(function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable(function(file){file.createWriter(abortable(function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();deletion_queue.push(file);filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach(function(event){writer["on"+event]=filesaver["on"+event]});writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING}),fs_error)}),fs_error)};dir.getFile(name,{create:false},abortable(function(file){file.remove();save()}),abortable(function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}}))}),fs_error)}),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name){return new FileSaver(blob,name)};FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;view.addEventListener("unload",process_deletion_queue,false);return saveAs}(self);YUI.add("gallery-markdown",function(Y){(function(expose){var Markdown=expose.Markdown=function Markdown(dialect){switch(typeof dialect){case"undefined":this.dialect=Markdown.dialects.Gruber;break;case"object":this.dialect=dialect;break;default:if(dialect in Markdown.dialects){this.dialect=Markdown.dialects[dialect]}else{throw new Error("Unknown Markdown dialect '"+String(dialect)+"'")}break}this.em_state=[];this.strong_state=[];this.debug_indent=""};expose.parse=function(source,dialect){var md=new Markdown(dialect);return md.toTree(source)};expose.toHTML=function toHTML(source,dialect,options){var input=expose.toHTMLTree(source,dialect,options);return expose.renderJsonML(input)};expose.toHTMLTree=function toHTMLTree(input,dialect,options){if(typeof input==="string")input=this.parse(input,dialect);var attrs=extract_attr(input),refs={};if(attrs&&attrs.references){refs=attrs.references}var html=convert_tree_to_html(input,refs,options);merge_text_nodes(html);return html};function mk_block_toSource(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function mk_block_inspect(){var util=require("util");return"Markdown.mk_block( "+util.inspect(this.toString())+", "+util.inspect(this.trailing)+", "+util.inspect(this.lineNumber)+" )"}var mk_block=Markdown.mk_block=function(block,trail,line){if(arguments.length==1)trail="\n\n";var s=new String(block);s.trailing=trail;s.inspect=mk_block_inspect;s.toSource=mk_block_toSource;if(line!=undefined)s.lineNumber=line;return s};function count_lines(str){var n=0,i=-1;while((i=str.indexOf("\n",i+1))!==-1)n++;return n}Markdown.prototype.split_blocks=function splitBlocks(input,startLine){var re=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,blocks=[],m;var line_no=1;if((m=/^(\s*\n)/.exec(input))!=null){line_no+=count_lines(m[0]);re.lastIndex=m[0].length}while((m=re.exec(input))!==null){blocks.push(mk_block(m[1],m[2],line_no));line_no+=count_lines(m[0])}return blocks};Markdown.prototype.processBlock=function processBlock(block,next){var cbs=this.dialect.block,ord=cbs.__order__;if("__call__"in cbs){return cbs.__call__.call(this,block,next)}for(var i=0;i<ord.length;i++){var res=cbs[ord[i]].call(this,block,next);if(res){if(!isArray(res)||res.length>0&&!isArray(res[0]))this.debug(ord[i],"didn't return a proper array");return res}}return[]};Markdown.prototype.processInline=function processInline(block){return this.dialect.inline.__call__.call(this,String(block))};Markdown.prototype.toTree=function toTree(source,custom_root){var blocks=source instanceof Array?source:this.split_blocks(source);var old_tree=this.tree;try{this.tree=custom_root||this.tree||["markdown"];blocks:while(blocks.length){var b=this.processBlock(blocks.shift(),blocks);if(!b.length)continue blocks;this.tree.push.apply(this.tree,b)}return this.tree}finally{if(custom_root){this.tree=old_tree}}};Markdown.prototype.debug=function(){var args=Array.prototype.slice.call(arguments);args.unshift(this.debug_indent);if(typeof print!=="undefined")print.apply(print,args);if(typeof console!=="undefined"&&typeof console.log!=="undefined")console.log.apply(null,args)};Markdown.prototype.loop_re_over_block=function(re,block,cb){var m,b=block.valueOf();while(b.length&&(m=re.exec(b))!=null){b=b.substr(m[0].length);cb.call(this,m)}return b};Markdown.dialects={};Markdown.dialects.Gruber={block:{atxHeader:function atxHeader(block,next){var m=block.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!m)return undefined;var header=["header",{level:m[1].length}];Array.prototype.push.apply(header,this.processInline(m[2]));if(m[0].length<block.length)next.unshift(mk_block(block.substr(m[0].length),block.trailing,block.lineNumber+2));return[header]},setextHeader:function setextHeader(block,next){var m=block.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!m)return undefined;var level=m[2]==="="?1:2;var header=["header",{level:level},m[1]];if(m[0].length<block.length)next.unshift(mk_block(block.substr(m[0].length),block.trailing,block.lineNumber+2));return[header]},code:function code(block,next){var ret=[],re=/^(?: {0,3}\t| {4})(.*)\n?/,lines;if(!block.match(re))return undefined;block_search:do{var b=this.loop_re_over_block(re,block.valueOf(),function(m){ret.push(m[1])});if(b.length){next.unshift(mk_block(b,block.trailing));break block_search}else if(next.length){if(!next[0].match(re))break block_search;ret.push(block.trailing.replace(/[^\n]/g,"").substring(2));block=next.shift()}else{break block_search}}while(true);return[["code_block",ret.join("\n")]]},horizRule:function horizRule(block,next){var m=block.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!m){return undefined}var jsonml=[["hr"]];if(m[1]){jsonml.unshift.apply(jsonml,this.processBlock(m[1],[]))}if(m[3]){next.unshift(mk_block(m[3]))}return jsonml},lists:function(){var any_list="[*+-]|\\d+\\.",bullet_list=/[*+-]/,number_list=/\d+\./,is_list_re=new RegExp("^( {0,3})("+any_list+")[  ]+"),indent_re="(?: {0,3}\\t| {4})";function regex_for_depth(depth){return new RegExp("(?:^("+indent_re+"{0,"+depth+"} {0,3})("+any_list+")\\s+)|"+"(^"+indent_re+"{0,"+(depth-1)+"}[ ]{0,4})")}function expand_tab(input){return input.replace(/ {0,3}\t/g,"    ")}function add(li,loose,inline,nl){if(loose){li.push(["para"].concat(inline));return}var add_to=li[li.length-1]instanceof Array&&li[li.length-1][0]=="para"?li[li.length-1]:li;if(nl&&li.length>1)inline.unshift(nl);for(var i=0;i<inline.length;i++){var what=inline[i],is_str=typeof what=="string";if(is_str&&add_to.length>1&&typeof add_to[add_to.length-1]=="string"){add_to[add_to.length-1]+=what}else{add_to.push(what)}}}function get_contained_blocks(depth,blocks){var re=new RegExp("^("+indent_re+"{"+depth+"}.*?\\n?)*$"),replace=new RegExp("^"+indent_re+"{"+depth+"}","gm"),ret=[];while(blocks.length>0){if(re.exec(blocks[0])){var b=blocks.shift(),x=b.replace(replace,"");ret.push(mk_block(x,b.trailing,b.lineNumber))}break}return ret}function paragraphify(s,i,stack){var list=s.list;var last_li=list[list.length-1];if(last_li[1]instanceof Array&&last_li[1][0]=="para"){return}if(i+1==stack.length){last_li.push(["para"].concat(last_li.splice(1)))}else{var sublist=last_li.pop();last_li.push(["para"].concat(last_li.splice(1)),sublist)}}return function(block,next){var m=block.match(is_list_re);if(!m)return undefined;function make_list(m){var list=bullet_list.exec(m[2])?["bulletlist"]:["numberlist"];stack.push({list:list,indent:m[1]});return list}var stack=[],list=make_list(m),last_li,loose=false,ret=[stack[0].list],i;loose_search:while(true){var lines=block.split(/(?=\n)/);var li_accumulate="";tight_search:for(var line_no=0;line_no<lines.length;line_no++){var nl="",l=lines[line_no].replace(/^\n/,function(n){nl=n;return""});var line_re=regex_for_depth(stack.length);m=l.match(line_re);if(m[1]!==undefined){if(li_accumulate.length){add(last_li,loose,this.processInline(li_accumulate),nl);loose=false;li_accumulate=""}m[1]=expand_tab(m[1]);var wanted_depth=Math.floor(m[1].length/4)+1;if(wanted_depth>stack.length){list=make_list(m);last_li.push(list);last_li=list[1]=["listitem"]}else{var found=false;for(i=0;i<stack.length;i++){if(stack[i].indent!=m[1])continue;list=stack[i].list;stack.splice(i+1);found=true;break}if(!found){wanted_depth++;if(wanted_depth<=stack.length){stack.splice(wanted_depth);list=stack[wanted_depth-1].list}else{list=make_list(m);last_li.push(list)}}last_li=["listitem"];list.push(last_li)}nl=""}if(l.length>m[0].length){li_accumulate+=nl+l.substr(m[0].length)}}if(li_accumulate.length){add(last_li,loose,this.processInline(li_accumulate),nl);loose=false;li_accumulate=""}var contained=get_contained_blocks(stack.length,next);if(contained.length>0){forEach(stack,paragraphify,this);last_li.push.apply(last_li,this.toTree(contained,[]))}var next_block=next[0]&&next[0].valueOf()||"";if(next_block.match(is_list_re)||next_block.match(/^ /)){block=next.shift();var hr=this.dialect.block.horizRule(block,next);if(hr){ret.push.apply(ret,hr);break}forEach(stack,paragraphify,this);loose=true;continue loose_search}break}return ret}}(),blockquote:function blockquote(block,next){if(!block.match(/^>/m))return undefined;var jsonml=[];if(block[0]!=">"){var lines=block.split(/\n/),prev=[];while(lines.length&&lines[0][0]!=">"){prev.push(lines.shift())}block=lines.join("\n");jsonml.push.apply(jsonml,this.processBlock(prev.join("\n"),[]))}while(next.length&&next[0][0]==">"){var b=next.shift();block=new String(block+block.trailing+b);block.trailing=b.trailing}var input=block.replace(/^> ?/gm,""),old_tree=this.tree;jsonml.push(this.toTree(input,["blockquote"]));return jsonml},referenceDefn:function referenceDefn(block,next){var re=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!block.match(re))return undefined;if(!extract_attr(this.tree)){this.tree.splice(1,0,{})}var attrs=extract_attr(this.tree);if(attrs.references===undefined){attrs.references={}}var b=this.loop_re_over_block(re,block,function(m){if(m[2]&&m[2][0]=="<"&&m[2][m[2].length-1]==">")m[2]=m[2].substring(1,m[2].length-1);var ref=attrs.references[m[1].toLowerCase()]={href:m[2]};if(m[4]!==undefined)ref.title=m[4];else if(m[5]!==undefined)ref.title=m[5]});if(b.length)next.unshift(mk_block(b,block.trailing));return[]},para:function para(block,next){return[["para"].concat(this.processInline(block))]}}};Markdown.dialects.Gruber.inline={__oneElement__:function oneElement(text,patterns_or_re,previous_nodes){var m,res,lastIndex=0;patterns_or_re=patterns_or_re||this.dialect.inline.__patterns__;var re=new RegExp("([\\s\\S]*?)("+(patterns_or_re.source||patterns_or_re)+")");m=re.exec(text);if(!m){return[text.length,text]}else if(m[1]){return[m[1].length,m[1]]}var res;if(m[2]in this.dialect.inline){res=this.dialect.inline[m[2]].call(this,text.substr(m.index),m,previous_nodes||[])}res=res||[m[2].length,m[2]];return res},__call__:function inline(text,patterns){var out=[],res;function add(x){if(typeof x=="string"&&typeof out[out.length-1]=="string")out[out.length-1]+=x;else out.push(x)}while(text.length>0){res=this.dialect.inline.__oneElement__.call(this,text,patterns,out);text=text.substr(res.shift());forEach(res,add)}return out},"]":function(){},"}":function(){},"\\":function escaped(text){if(text.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/))return[2,text[1]];else return[1,"\\"]},"![":function image(text){var m=text.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(m){if(m[2]&&m[2][0]=="<"&&m[2][m[2].length-1]==">")m[2]=m[2].substring(1,m[2].length-1);m[2]=this.dialect.inline.__call__.call(this,m[2],/\\/)[0];var attrs={alt:m[1],href:m[2]||""};if(m[4]!==undefined)attrs.title=m[4];return[m[0].length,["img",attrs]]}m=text.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/);if(m){return[m[0].length,["img_ref",{alt:m[1],ref:m[2].toLowerCase(),original:m[0]}]]}return[2,"!["]},"[":function link(text){var orig=String(text);var res=Markdown.DialectHelpers.inline_until_char.call(this,text.substr(1),"]");if(!res)return[1,"["];var consumed=1+res[0],children=res[1],link,attrs;text=text.substr(consumed);var m=text.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(m){var url=m[1];consumed+=m[0].length;if(url&&url[0]=="<"&&url[url.length-1]==">")url=url.substring(1,url.length-1);if(!m[3]){var open_parens=1;for(var len=0;len<url.length;len++){switch(url[len]){case"(":open_parens++;break;case")":if(--open_parens==0){consumed-=url.length-len;url=url.substring(0,len)
}break}}}url=this.dialect.inline.__call__.call(this,url,/\\/)[0];attrs={href:url||""};if(m[3]!==undefined)attrs.title=m[3];link=["link",attrs].concat(children);return[consumed,link]}m=text.match(/^\s*\[(.*?)\]/);if(m){consumed+=m[0].length;attrs={ref:(m[1]||String(children)).toLowerCase(),original:orig.substr(0,consumed)};link=["link_ref",attrs].concat(children);return[consumed,link]}if(children.length==1&&typeof children[0]=="string"){attrs={ref:children[0].toLowerCase(),original:orig.substr(0,consumed)};link=["link_ref",attrs,children[0]];return[consumed,link]}return[1,"["]},"<":function autoLink(text){var m;if((m=text.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))!=null){if(m[3]){return[m[0].length,["link",{href:"mailto:"+m[3]},m[3]]]}else if(m[2]=="mailto"){return[m[0].length,["link",{href:m[1]},m[1].substr("mailto:".length)]]}else return[m[0].length,["link",{href:m[1]},m[1]]]}return[1,"<"]},"`":function inlineCode(text){var m=text.match(/(`+)(([\s\S]*?)\1)/);if(m&&m[2])return[m[1].length+m[2].length,["inlinecode",m[3]]];else{return[1,"`"]}},"  \n":function lineBreak(text){return[3,["linebreak"]]}};function strong_em(tag,md){var state_slot=tag+"_state",other_slot=tag=="strong"?"em_state":"strong_state";function CloseTag(len){this.len_after=len;this.name="close_"+md}return function(text,orig_match){if(this[state_slot][0]==md){this[state_slot].shift();return[text.length,new CloseTag(text.length-md.length)]}else{var other=this[other_slot].slice(),state=this[state_slot].slice();this[state_slot].unshift(md);var res=this.processInline(text.substr(md.length));var last=res[res.length-1];var check=this[state_slot].shift();if(last instanceof CloseTag){res.pop();var consumed=text.length-last.len_after;return[consumed,[tag].concat(res)]}else{this[other_slot]=other;this[state_slot]=state;return[md.length,md]}}}}Markdown.dialects.Gruber.inline["**"]=strong_em("strong","**");Markdown.dialects.Gruber.inline["__"]=strong_em("strong","__");Markdown.dialects.Gruber.inline["*"]=strong_em("em","*");Markdown.dialects.Gruber.inline["_"]=strong_em("em","_");Markdown.buildBlockOrder=function(d){var ord=[];for(var i in d){if(i=="__order__"||i=="__call__")continue;ord.push(i)}d.__order__=ord};Markdown.buildInlinePatterns=function(d){var patterns=[];for(var i in d){if(i.match(/^__.*__$/))continue;var l=i.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");patterns.push(i.length==1?l:"(?:"+l+")")}patterns=patterns.join("|");d.__patterns__=patterns;var fn=d.__call__;d.__call__=function(text,pattern){if(pattern!=undefined){return fn.call(this,text,pattern)}else{return fn.call(this,text,patterns)}}};Markdown.DialectHelpers={};Markdown.DialectHelpers.inline_until_char=function(text,want){var consumed=0,nodes=[];while(true){if(text[consumed]==want){consumed++;return[consumed,nodes]}if(consumed>=text.length){return null}res=this.dialect.inline.__oneElement__.call(this,text.substr(consumed));consumed+=res[0];nodes.push.apply(nodes,res.slice(1))}};Markdown.subclassDialect=function(d){function Block(){}Block.prototype=d.block;function Inline(){}Inline.prototype=d.inline;return{block:new Block,inline:new Inline}};Markdown.buildBlockOrder(Markdown.dialects.Gruber.block);Markdown.buildInlinePatterns(Markdown.dialects.Gruber.inline);Markdown.dialects.Maruku=Markdown.subclassDialect(Markdown.dialects.Gruber);Markdown.dialects.Maruku.processMetaHash=function processMetaHash(meta_string){var meta=split_meta_hash(meta_string),attr={};for(var i=0;i<meta.length;++i){if(/^#/.test(meta[i])){attr.id=meta[i].substring(1)}else if(/^\./.test(meta[i])){if(attr["class"]){attr["class"]=attr["class"]+meta[i].replace(/./," ")}else{attr["class"]=meta[i].substring(1)}}else if(/\=/.test(meta[i])){var s=meta[i].split(/\=/);attr[s[0]]=s[1]}}return attr};function split_meta_hash(meta_string){var meta=meta_string.split(""),parts=[""],in_quotes=false;while(meta.length){var letter=meta.shift();switch(letter){case" ":if(in_quotes){parts[parts.length-1]+=letter}else{parts.push("")}break;case"'":case'"':in_quotes=!in_quotes;break;case"\\":letter=meta.shift();default:parts[parts.length-1]+=letter;break}}return parts}Markdown.dialects.Maruku.block.document_meta=function document_meta(block,next){if(block.lineNumber>1)return undefined;if(!block.match(/^(?:\w+:.*\n)*\w+:.*$/))return undefined;if(!extract_attr(this.tree)){this.tree.splice(1,0,{})}var pairs=block.split(/\n/);for(p in pairs){var m=pairs[p].match(/(\w+):\s*(.*)$/),key=m[1].toLowerCase(),value=m[2];this.tree[1][key]=value}return[]};Markdown.dialects.Maruku.block.block_meta=function block_meta(block,next){var m=block.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!m)return undefined;var attr=this.dialect.processMetaHash(m[2]);var hash;if(m[1]===""){var node=this.tree[this.tree.length-1];hash=extract_attr(node);if(typeof node==="string")return undefined;if(!hash){hash={};node.splice(1,0,hash)}for(a in attr){hash[a]=attr[a]}return[]}var b=block.replace(/\n.*$/,""),result=this.processBlock(b,[]);hash=extract_attr(result[0]);if(!hash){hash={};result[0].splice(1,0,hash)}for(a in attr){hash[a]=attr[a]}return result};Markdown.dialects.Maruku.block.definition_list=function definition_list(block,next){var tight=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,list=["dl"],i;if(m=block.match(tight)){var blocks=[block];while(next.length&&tight.exec(next[0])){blocks.push(next.shift())}for(var b=0;b<blocks.length;++b){var m=blocks[b].match(tight),terms=m[1].replace(/\n$/,"").split(/\n/),defns=m[2].split(/\n:\s+/);for(i=0;i<terms.length;++i){list.push(["dt",terms[i]])}for(i=0;i<defns.length;++i){list.push(["dd"].concat(this.processInline(defns[i].replace(/(\n)\s+/,"$1"))))}}}else{return undefined}return[list]};Markdown.dialects.Maruku.inline["{:"]=function inline_meta(text,matches,out){if(!out.length){return[2,"{:"]}var before=out[out.length-1];if(typeof before==="string"){return[2,"{:"]}var m=text.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!m){return[2,"{:"]}var meta=this.dialect.processMetaHash(m[1]),attr=extract_attr(before);if(!attr){attr={};before.splice(1,0,attr)}for(var k in meta){attr[k]=meta[k]}return[m[0].length,""]};Markdown.buildBlockOrder(Markdown.dialects.Maruku.block);Markdown.buildInlinePatterns(Markdown.dialects.Maruku.inline);var isArray=Array.isArray||function(obj){return Object.prototype.toString.call(obj)=="[object Array]"};var forEach;if(Array.prototype.forEach){forEach=function(arr,cb,thisp){return arr.forEach(cb,thisp)}}else{forEach=function(arr,cb,thisp){for(var i=0;i<arr.length;i++){cb.call(thisp||arr,arr[i],i,arr)}}}function extract_attr(jsonml){return isArray(jsonml)&&jsonml.length>1&&typeof jsonml[1]==="object"&&!isArray(jsonml[1])?jsonml[1]:undefined}expose.renderJsonML=function(jsonml,options){options=options||{};options.root=options.root||false;var content=[];if(options.root){content.push(render_tree(jsonml))}else{jsonml.shift();if(jsonml.length&&typeof jsonml[0]==="object"&&!(jsonml[0]instanceof Array)){jsonml.shift()}while(jsonml.length){content.push(render_tree(jsonml.shift()))}}return content.join("\n\n")};function escapeHTML(text){return text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function render_tree(jsonml){if(typeof jsonml==="string"){return escapeHTML(jsonml)}var tag=jsonml.shift(),attributes={},content=[];if(jsonml.length&&typeof jsonml[0]==="object"&&!(jsonml[0]instanceof Array)){attributes=jsonml.shift()}while(jsonml.length){content.push(arguments.callee(jsonml.shift()))}var tag_attrs="";for(var a in attributes){tag_attrs+=" "+a+'="'+escapeHTML(attributes[a])+'"'}if(tag=="img"||tag=="br"||tag=="hr"){return"<"+tag+tag_attrs+"/>"}else{return"<"+tag+tag_attrs+">"+content.join("")+"</"+tag+">"}}function convert_tree_to_html(tree,references,options){var i;options=options||{};var jsonml=tree.slice(0);if(typeof options.preprocessTreeNode==="function"){jsonml=options.preprocessTreeNode(jsonml,references)}var attrs=extract_attr(jsonml);if(attrs){jsonml[1]={};for(i in attrs){jsonml[1][i]=attrs[i]}attrs=jsonml[1]}if(typeof jsonml==="string"){return jsonml}switch(jsonml[0]){case"header":jsonml[0]="h"+jsonml[1].level;delete jsonml[1].level;break;case"bulletlist":jsonml[0]="ul";break;case"numberlist":jsonml[0]="ol";break;case"listitem":jsonml[0]="li";break;case"para":jsonml[0]="p";break;case"markdown":jsonml[0]="html";if(attrs)delete attrs.references;break;case"code_block":jsonml[0]="pre";i=attrs?2:1;var code=["code"];code.push.apply(code,jsonml.splice(i));jsonml[i]=code;break;case"inlinecode":jsonml[0]="code";break;case"img":jsonml[1].src=jsonml[1].href;delete jsonml[1].href;break;case"linebreak":jsonml[0]="br";break;case"link":jsonml[0]="a";break;case"link_ref":jsonml[0]="a";var ref=references[attrs.ref];if(ref){delete attrs.ref;attrs.href=ref.href;if(ref.title){attrs.title=ref.title}delete attrs.original}else{return attrs.original}break;case"img_ref":jsonml[0]="img";var ref=references[attrs.ref];if(ref){delete attrs.ref;attrs.src=ref.href;if(ref.title){attrs.title=ref.title}delete attrs.original}else{return attrs.original}break}i=1;if(attrs){for(var key in jsonml[1]){i=2}if(i===1){jsonml.splice(i,1)}}for(;i<jsonml.length;++i){jsonml[i]=arguments.callee(jsonml[i],references,options)}return jsonml}function merge_text_nodes(jsonml){var i=extract_attr(jsonml)?2:1;while(i<jsonml.length){if(typeof jsonml[i]==="string"){if(i+1<jsonml.length&&typeof jsonml[i+1]==="string"){jsonml[i]+=jsonml.splice(i+1,1)[0]}else{++i}}else{arguments.callee(jsonml[i]);++i}}}})(function(){if(typeof Y!=="undefined"){return Y.namespace("Markdown")}else if(typeof exports==="undefined"){window.markdown={};return window.markdown}else{return exports}}())},"gallery-2012.07.18-13-22");YUI.add("gallery-timer",function(Y){var STATUS_RUNNING="running",STATUS_PAUSED="paused",STATUS_STOPPED="stopped",EVENT_START="start",EVENT_STOP="stop",EVENT_PAUSE="pause",EVENT_RESUME="resume",EVENT_TIMER="timer";Y.Timer=Y.Base.create("timer",Y.Base,[],{initializer:function(config){this.after("statusChange",this._afterStatusChange,this);this.publish(EVENT_START,{defaultFn:this._defStartFn});this.publish(EVENT_STOP,{defaultFn:this._defStopFn});this.publish(EVENT_PAUSE,{defaultFn:this._defPauseFn});this.publish(EVENT_RESUME,{defaultFn:this._defResumeFn})},start:function(){if(this.get("status")!==STATUS_RUNNING){this.fire(EVENT_START)}return this},stop:function(){if(this.get("status")===STATUS_RUNNING){this.fire(EVENT_STOP)}return this},pause:function(){if(this.get("status")===STATUS_RUNNING){this.fire(EVENT_PAUSE)}return this},resume:function(){if(this.get("status")===STATUS_PAUSED){this.fire(EVENT_RESUME)}return this},_timerObj:null,_remainingLength:null,_makeTimer:function(){var timerObj=this._timerObj,repeat=this.get("repeatCount");if(timerObj){timerObj.cancel();timerObj=null;this._timerObj=null}if(repeat===0||repeat>this.get("step")){timerObj=Y.later(this._remainingLength,this,this._timer)}this._timerObj=timerObj;this.set("timer",timerObj);this.set("start",(new Date).getTime());this.set("stop",this.get("start"))},_destroyTimer:function(){var timerObj=this._timerObj;if(timerObj){timerObj.cancel();timerObj=null;this._timerObj=null}this.set("timer",null);this.set("stop",(new Date).getTime());this.set("step",0);this._remainingLength=this._remainingLength-(this.get("stop")-this.get("start"))},_timer:function(){this.fire(EVENT_TIMER);var step=this.get("step"),repeat=this.get("repeatCount");this.set("step",++step);if(repeat>0&&repeat<=step){this._remainingLength=0;this.stop()}else{this._remainingLength=this.get("length");this._makeTimer()}this._executeCallback()},_afterStatusChange:function(e){switch(e.newVal){case STATUS_RUNNING:this._makeTimer();break;case STATUS_STOPPED:case STATUS_PAUSED:this._destroyTimer();break}},_defStartFn:function(e){var delay=this.get("startDelay");this._remainingLength=this.get("length");if(delay>0){Y.later(delay,this,function(){this.set("status",STATUS_RUNNING)})}else{this.set("status",STATUS_RUNNING)}},_defStopFn:function(e){this._remainingLength=0;this.set("status",STATUS_STOPPED)},_defPauseFn:function(e){this.set("status",STATUS_PAUSED)},_defResumeFn:function(e){this.set("status",STATUS_RUNNING)},_repeatCountValidator:function(val){return this.get("status")===STATUS_STOPPED},_executeCallback:function(){var callback=this.get("callback");if(Y.Lang.isFunction(callback)){this.get("callback")()}},_remainingGetter:function(){var status=this.get("status"),length=this._remainingLength,maxTime=(new Date).getTime();if(status===STATUS_STOPPED){return 0}else if(status===STATUS_PAUSED){return length}else{return length-(maxTime-this.get("start"))}}},{ATTRS:{callback:{value:null,validator:Y.Lang.isFunction},length:{value:3e3,setter:function(val){return parseInt(val,10)}},remaining:{readonly:true,getter:"_remainingGetter"},repeatCount:{validator:"repeatCountValidator",setter:function(val){return parseInt(val,10)},value:0,lazyAdd:false},start:{readonly:true},startDelay:{value:0},status:{value:STATUS_STOPPED,readonly:true},step:{value:0,readonly:true},stop:{readonly:true},timer:{readonly:true}},STATUS:{RUNNING:STATUS_RUNNING,PAUSED:STATUS_PAUSED,STOPPED:STATUS_STOPPED},EVENTS:{START:EVENT_START,STOP:EVENT_STOP,PAUSE:EVENT_PAUSE,RESUME:EVENT_RESUME,TIMER:EVENT_TIMER}})},"gallery-2012.07.25-21-36",{requires:["base-build","event-custom"]});var jsyaml=window.jsyaml=function(){require=function(e,t,r){function n(r,a){if(!t[r]){if(!e[r]){var o=typeof require=="function"&&require;if(!a&&o)return o(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+r+"'")}var s=t[r]={exports:{}};e[r][0].call(s.exports,function(t){var i=e[r][1][t];return n(i?i:t)},s,s.exports)}return t[r].exports}var i=typeof require=="function"&&require;for(var a=0;a<r.length;a++)n(r[a]);return n}({"V0zL+M":[function(e,t,r){t.exports=e("./lib/js-yaml.js")},{"./lib/js-yaml.js":2}],2:[function(e,t,r){"use strict";var n=e("./js-yaml/loader");var i=e("./js-yaml/dumper");function a(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}t.exports.NIL=e("./js-yaml/common").NIL;t.exports.Type=e("./js-yaml/type");t.exports.Schema=e("./js-yaml/schema");t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe");t.exports.JSON_SCHEMA=e("./js-yaml/schema/json");t.exports.CORE_SCHEMA=e("./js-yaml/schema/core");t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe");t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full");t.exports.load=n.load;t.exports.loadAll=n.loadAll;t.exports.safeLoad=n.safeLoad;t.exports.safeLoadAll=n.safeLoadAll;t.exports.dump=i.dump;t.exports.safeDump=i.safeDump;t.exports.YAMLException=e("./js-yaml/exception");t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe");t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe");t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full");t.exports.scan=a("scan");t.exports.parse=a("parse");t.exports.compose=a("compose");t.exports.addConstructor=a("addConstructor");e("./js-yaml/require")},{"./js-yaml/common":3,"./js-yaml/dumper":4,"./js-yaml/exception":5,"./js-yaml/loader":6,"./js-yaml/require":8,"./js-yaml/schema":9,"./js-yaml/schema/core":10,"./js-yaml/schema/default_full":11,"./js-yaml/schema/default_safe":12,"./js-yaml/schema/failsafe":13,"./js-yaml/schema/json":14,"./js-yaml/type":15}],3:[function(e,t,r){"use strict";var n={};function i(e){return undefined===e||null===e}function a(e){return"object"===typeof e&&null!==e}function o(e){if(Array.isArray(e)){return e}else if(i(e)){return[]}else{return[e]}}function s(e,t){var r,n,i,a;if(t){a=Object.keys(t);for(r=0,n=a.length;r<n;r+=1){i=a[r];e[i]=t[i]}}return e}function l(e,t){var r="",n;for(n=0;n<t;n+=1){r+=e}return r}t.exports.NIL=n;t.exports.isNothing=i;t.exports.isObject=a;t.exports.toArray=o;t.exports.repeat=l;t.exports.extend=s},{}],4:[function(e,t,r){!function(){"use strict";var r=e("./common");var n=r.NIL;var i=e("./exception");var a=e("./schema/default_full");var o=e("./schema/default_safe");var s=Object.prototype.hasOwnProperty;var l=9;var u=10;var f=13;var c=32;var p=33;var d=34;var h=35;var m=37;var y=38;var g=39;var v=42;var b=44;var w=45;var x=58;var E=62;var S=63;var k=64;var A=91;var I=93;var L=96;var C=123;var O=124;var N=125;var j={};j[0]="\\0";j[7]="\\a";j[8]="\\b";j[9]="\\t";j[10]="\\n";j[11]="\\v";j[12]="\\f";j[13]="\\r";j[27]="\\e";j[34]='\\"';j[92]="\\\\";j[133]="\\N";j[160]="\\_";j[8232]="\\L";j[8233]="\\P";function _(e){var t=typeof e;if(null===e){return"null"}else if("number"===t){return 0===e%1?"integer":"float"}else if("object"===t&&Array.isArray(e)){return"array"}else{return t}}function F(e,t){var r,n,i,a,o,l,u;if(null===t){return{}}r={};n=Object.keys(t);for(i=0,a=n.length;i<a;i+=1){o=n[i];l=String(t[o]);if("!!"===o.slice(0,2)){o="tag:yaml.org,2002:"+o.slice(2)}u=e.compiledTypeMap[o];if(u&&u.dumper){if(s.call(u.dumper.styleAliases,l)){l=u.dumper.styleAliases[l]}}r[o]=l}return r}function P(e){var t,n,a;t=e.toString(16).toUpperCase();if(e<=255){n="x";a=2}else if(e<=65535){n="u";a=4}else if(e<=4294967295){n="U";a=8}else{throw new i("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+n+r.repeat("0",a-t.length)+t}function U(e,t){t=t||{};var o=t["schema"]||a,U=Math.max(1,t["indent"]||2),D=t["skipInvalid"]||false,T=r.isNothing(t["flowLevel"])?-1:t["flowLevel"],M=F(o,t["styles"]||null),B=o.compiledImplicit,R=o.compiledExplicit,q,W,G;function V(e){return"\n"+r.repeat(" ",U*e)}function H(e){var t,r,i;for(t=0,r=B.length;t<r;t+=1){i=B[t];if(null!==i.loader&&n!==i.loader.resolver(e,true)){return true}}return false}function Y(e){var t,r,n,i,a;G="";t=false;r=0;if(0===e.length||c===e.charCodeAt(0)||c===e.charCodeAt(e.length-1)){t=true}for(n=0,i=e.length;n<i;n+=1){a=e.charCodeAt(n);if(!t){if(l===a||u===a||f===a||b===a||A===a||I===a||C===a||N===a||h===a||y===a||v===a||p===a||O===a||E===a||g===a||d===a||m===a||k===a||L===a||S===a||x===a||w===a){t=true}}if(j[a]||!(32<=a&&a<=126||133===a||160<=a&&a<=55295||57344<=a&&a<=65533||65536<=a&&a<=1114111)){G+=e.slice(r,n);G+=j[a]||P(a);r=n+1;t=true}}if(r<n){G+=e.slice(r,n)}if(!t&&H(G)){t=true}if(t){G='"'+G+'"'}}function K(e,t){var r="",n=W,i,a;for(i=0,a=t.length;i<a;i+=1){if(Z(e,t[i],false,false)){if(0!==i){r+=", "}r+=G}}W=n;G="["+r+"]"}function J(e,t,r){var n="",i=W,a,o;for(a=0,o=t.length;a<o;a+=1){if(Z(e+1,t[a],true,true)){if(!r||0!==a){n+=V(e)}n+="- "+G}}W=i;G=n||"[]"}function z(e,t){var r="",n=W,i=Object.keys(t),a,o,s,l,u;for(a=0,o=i.length;a<o;a+=1){u="";if(0!==a){u+=", "}s=i[a];l=t[s];if(!Z(e,s,false,false)){continue}if(G.length>1024){u+="? "}u+=G+": ";if(!Z(e,l,false,false)){continue}u+=G;r+=u}W=n;G="{"+r+"}"}function $(e,t,r){var n="",i=W,a=Object.keys(t),o,s,l,u,f,c;for(o=0,s=a.length;o<s;o+=1){c="";if(!r||0!==o){c+=V(e)}l=a[o];u=t[l];if(!Z(e+1,l,true,true)){continue}f=null!==W&&"?"!==W&&G.length<=1024;if(f){c+="? "}c+=G;if(f){c+=V(e)}if(!Z(e+1,u,true,f)){continue}c+=": "+G;n+=c}W=i;G=n||"{}"}function X(e,t){var r,a,o,l,u,f;a=t?R:B;q=_(e);for(o=0,l=a.length;o<l;o+=1){u=a[o];if(null!==u.dumper&&(null===u.dumper.kind||q===u.dumper.kind)&&(null===u.dumper.instanceOf||e instanceof u.dumper.instanceOf)&&(null===u.dumper.predicate||u.dumper.predicate(e))){W=t?u.tag:"?";if(null!==u.dumper.representer){f=M[u.tag]||u.dumper.defaultStyle;if("function"===typeof u.dumper.representer){r=u.dumper.representer(e,f)}else if(s.call(u.dumper.representer,f)){r=u.dumper.representer[f](e,f)}else{throw new i("!<"+u.tag+'> tag resolver accepts not "'+f+'" style')}if(n!==r){q=_(r);G=r}else{if(t){throw new i("cannot represent an object of !<"+u.tag+"> type")}else{continue}}}return true}}return false}function Z(e,t,r,n){W=null;G=t;if(!X(t,false)){X(t,true)}if(r){r=0>T||T>e}if(null!==W&&"?"!==W||2!==U&&e>0){n=false}if("object"===q){if(r&&0!==Object.keys(G).length){$(e,G,n)}else{z(e,G)}}else if("array"===q){if(r&&0!==G.length){J(e,G,n)}else{K(e,G)}}else if("string"===q){if("?"!==W){Y(G)}}else if(D){return false}else{throw new i("unacceptabe kind of an object to dump ("+q+")")}if(null!==W&&"?"!==W){G="!<"+W+"> "+G}return true}if(Z(0,e,true,true)){return G+"\n"}else{return""}}function D(e,t){return U(e,r.extend({schema:o},t))}t.exports.dump=U;t.exports.safeDump=D}()},{"./common":3,"./exception":5,"./schema/default_full":11,"./schema/default_safe":12}],5:[function(e,t,r){"use strict";function n(e,t){this.name="YAMLException";this.reason=e;this.mark=t;this.message=this.toString(false)}n.prototype.toString=function i(e){var t;t="JS-YAML: "+(this.reason||"(unknown reason)");if(!e&&this.mark){t+=" "+this.mark.toString()}return t};t.exports=n},{}],6:[function(e,t,r){"use strict";var n=e("./common");var i=e("./exception");var a=e("./mark");var o=n.NIL;var s=e("./schema/default_safe");var l=e("./schema/default_full");var u=Object.prototype.hasOwnProperty;var f="string";var c="array";var p="object";var d=1;var h=2;var m=3;var y=4;var g=1;var v=2;var b=3;var w=9;var x=10;var E=13;var S=32;var k=33;var A=34;var I=35;var L=37;var C=38;var O=39;var N=42;var j=43;var _=44;var F=45;var P=46;var U=47;var D=48;var T=49;var M=57;var B=58;var R=60;var q=62;var W=63;var G=64;var V=65;var H=70;var Y=76;var K=78;var J=80;var z=85;var $=91;var X=92;var Z=93;var Q=95;var et=96;var tt=97;var rt=98;var nt=101;var it=102;var at=110;var ot=114;var st=116;var lt=117;var ut=118;var ft=120;var ct=123;var pt=124;var dt=125;var ht={};ht[D]="\0";ht[tt]="";ht[rt]="\b";ht[st]=" ";ht[w]=" ";ht[at]="\n";ht[ut]="";ht[it]="\f";ht[ot]="\r";ht[nt]="";ht[S]=" ";ht[A]='"';ht[U]="/";ht[X]="\\";ht[K]="";ht[Q]=" ";ht[Y]="\u2028";ht[J]="\u2029";var mt={};mt[ft]=2;mt[lt]=4;mt[z]=8;var yt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uD800-\uDFFF\uFFFE\uFFFF]/;var gt=/[\x85\u2028\u2029]/;var vt=/[,\[\]\{\}]/;var bt=/^(?:!|!!|![a-z\-]+!)$/i;var wt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function xt(e,t,r){r=r||{};var s=r["filename"]||null,U=r["schema"]||l,Y=r["resolve"]||true,K=r["validate"]||true,J=r["strict"]||false,z=r["legacy"]||false,Q={},rt=U.compiledImplicit,nt=U.compiledTypeMap,at=e.length,ot=0,st=0,lt=0,ut=0,ft=e.charCodeAt(ot),xt,Et,St,kt,At,It,Lt,Ct;function Ot(t){return new i(t,new a(s,e,ot,st,ot-lt))}function Nt(e){throw Ot(e)}function jt(e){var t=Ot(e);if(J){throw t}else{console.warn(t.toString())}}Q["YAML"]=function Xt(e,t){var r,n,i;if(null!==xt){Nt("duplication of %YAML directive")}if(1!==t.length){Nt("YAML directive accepts exactly one argument")}r=/^([0-9]+)\.([0-9]+)$/.exec(t[0]);if(null===r){Nt("ill-formed argument of the YAML directive")}n=parseInt(r[1],10);i=parseInt(r[2],10);if(1!==n){Nt("unacceptable YAML version of the document")}xt=t[0];Et=i<2;if(1!==i&&2!==i){jt("unsupported YAML version of the document")}};Q["TAG"]=function Zt(e,t){var r,n;if(2!==t.length){Nt("TAG directive accepts exactly two arguments")}r=t[0];n=t[1];if(!bt.test(r)){Nt("ill-formed tag handle (first argument) of the TAG directive")}if(u.call(St,r)){Nt('there is a previously declared suffix for "'+r+'" tag handle')}if(!wt.test(n)){Nt("ill-formed tag prefix (second argument) of the TAG directive")}St[r]=n};function _t(t,r,n){var i,a,o,s;if(t<r){s=e.slice(t,r);if(n&&K){for(i=0,a=s.length;i<a;i+=1){o=s.charCodeAt(i);if(!(9===o||32<=o&&o<=1114111)){Nt("expected valid JSON character")}}}Ct+=s}}function Ft(e,t){var r,i,a,o;if(!n.isObject(t)){Nt("cannot merge mappings; the provided source object is unacceptable")}r=Object.keys(t);for(a=0,o=r.length;a<o;a+=1){i=r[a];if(!u.call(e,i)){e[i]=t[i]}}}function Pt(e,t,r,n){var i,a;r=String(r);if(null===e){e={}}if("tag:yaml.org,2002:merge"===t){if(Array.isArray(n)){for(i=0,a=n.length;i<a;i+=1){Ft(e,n[i])}}else{Ft(e,n)}}else{e[r]=n}return e}function Ut(){if(x===ft){ot+=1}else if(E===ft){if(x===e.charCodeAt(ot+1)){ot+=2}else{ot+=1}}else{Nt("a line break is expected")}st+=1;lt=ot;ft=e.charCodeAt(ot)}function Dt(t,r){var n=0;while(ot<at){while(S===ft||w===ft){ft=e.charCodeAt(++ot)}if(t&&I===ft){do{ft=e.charCodeAt(++ot)}while(ot<at&&x!==ft&&E!==ft)}if(x===ft||E===ft){Ut();n+=1;ut=0;while(S===ft){ut+=1;ft=e.charCodeAt(++ot)}if(ut<r){jt("deficient indentation")}}else{break}}return n}function Tt(){var t,r;if(ot===lt&&(F===ft||P===ft)&&e.charCodeAt(ot+1)===ft&&e.charCodeAt(ot+2)===ft){t=ot+3;r=e.charCodeAt(t);if(t>=at||S===r||w===r||x===r||E===r){return true}}return false}function Mt(e){if(1===e){Ct+=" "}else if(e>1){Ct+=n.repeat("\n",e-1)}}function Bt(t,r){var n,i,a,o,s,l,u,c,p=Lt,d=Ct;if(S===ft||w===ft||x===ft||E===ft||_===ft||$===ft||Z===ft||ct===ft||dt===ft||I===ft||C===ft||N===ft||k===ft||pt===ft||q===ft||O===ft||A===ft||L===ft||G===ft||et===ft){return false}if(W===ft||F===ft){i=e.charCodeAt(ot+1);if(S===i||w===i||x===i||E===i||r&&(_===i||$===i||Z===i||ct===i||dt===i)){return false}}Lt=f;Ct="";a=o=ot;s=false;while(ot<at){if(B===ft){i=e.charCodeAt(ot+1);if(S===i||w===i||x===i||E===i||r&&(_===i||$===i||Z===i||ct===i||dt===i)){break}}else if(I===ft){n=e.charCodeAt(ot-1);if(S===n||w===n||x===n||E===n){break}}else if(ot===lt&&Tt()||r&&(_===ft||$===ft||Z===ft||ct===ft||dt===ft)){break}else if(x===ft||E===ft){l=st;u=lt;c=ut;Dt(false,-1);if(ut>=t){s=true;continue}else{ot=o;st=l;lt=u;ut=c;ft=e.charCodeAt(ot);break}}if(s){_t(a,o,false);Mt(st-l);a=o=ot;s=false}if(S!==ft&&w!==ft){o=ot+1}ft=e.charCodeAt(++ot)}_t(a,o,false);if(Ct){return true}else{Lt=p;Ct=d;return false}}function Rt(t){var r,n;if(O!==ft){return false}Lt=f;Ct="";ft=e.charCodeAt(++ot);r=n=ot;while(ot<at){if(O===ft){_t(r,ot,true);ft=e.charCodeAt(++ot);if(O===ft){r=n=ot;ft=e.charCodeAt(++ot)}else{return true}}else if(x===ft||E===ft){_t(r,n,true);Mt(Dt(false,t));r=n=ot;ft=e.charCodeAt(ot)}else if(ot===lt&&Tt()){Nt("unexpected end of the document within a single quoted scalar")}else{ft=e.charCodeAt(++ot);n=ot}}Nt("unexpected end of the stream within a single quoted scalar")}function qt(t){var r,n,i,a,o,s;if(A!==ft){return false}Lt=f;Ct="";ft=e.charCodeAt(++ot);r=n=ot;while(ot<at){if(A===ft){_t(r,ot,true);ft=e.charCodeAt(++ot);return true}else if(X===ft){_t(r,ot,true);ft=e.charCodeAt(++ot);if(x===ft||E===ft){Dt(false,t)}else if(ht[ft]){Ct+=ht[ft];ft=e.charCodeAt(++ot)}else if(mt[ft]){i=mt[ft];s=0;for(a=1;a<=i;a+=1){o=(i-a)*4;ft=e.charCodeAt(++ot);if(D<=ft&&ft<=M){s|=ft-D<<o}else if(V<=ft&&ft<=H){s|=ft-V+10<<o}else if(tt<=ft&&ft<=it){s|=ft-tt+10<<o}else{Nt("expected hexadecimal character")}}Ct+=String.fromCharCode(s);ft=e.charCodeAt(++ot)}else{Nt("unknown escape sequence")}r=n=ot}else if(x===ft||E===ft){_t(r,n,true);Mt(Dt(false,t));r=n=ot;ft=e.charCodeAt(ot)}else if(ot===lt&&Tt()){Nt("unexpected end of the document within a double quoted scalar")}else{ft=e.charCodeAt(++ot);n=ot}}Nt("unexpected end of the stream within a double quoted scalar")}function Wt(t){var r=true,n,i=At,a,o,s,l,u,f,h,m,y;switch(ft){case $:s=Z;f=false;a=[];break;case ct:s=dt;f=true;a={};break;default:return false}if(null!==It){kt[It]=a}ft=e.charCodeAt(++ot);while(ot<at){Dt(true,t);if(ft===s){ft=e.charCodeAt(++ot);At=i;Lt=f?p:c;Ct=a;return true}else if(!r){Nt("missed comma between flow collection entries")}m=h=y=null;l=u=false;if(W===ft){o=e.charCodeAt(ot+1);if(S===o||w===o||x===o||E===o){l=u=true;ot+=1;ft=o;Dt(true,t)}}n=st;zt(t,d,false,true);m=At;h=Ct;if((u||st===n)&&B===ft){l=true;ft=e.charCodeAt(++ot);Dt(true,t);zt(t,d,false,true);y=Ct}if(f){Pt(a,m,h,y)}else if(l){a.push(Pt(null,m,h,y))}else{a.push(h)}Dt(true,t);if(_===ft){r=true;ft=e.charCodeAt(++ot)}else{r=false}}Nt("unexpected end of the stream within a flow collection")}function Gt(t){var r,i,a=g,o=false,s=t,l=-1;switch(ft){case pt:i=false;break;case q:i=true;break;default:return false}Lt=f;Ct="";while(ot<at){ft=e.charCodeAt(++ot);if(j===ft||F===ft){if(g===a){a=j===ft?b:v}else{Nt("repeat of a chomping mode identifier")}}else if(D<=ft&&ft<=M){if(D===ft){Nt("bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!o){s=t+(ft-T);o=true}else{Nt("repeat of an indentation width identifier")}}else{break}}if(S===ft||w===ft){do{ft=e.charCodeAt(++ot)}while(S===ft||w===ft);if(I===ft){do{ft=e.charCodeAt(++ot)}while(ot<at&&x!==ft&&E!==ft)}}while(ot<at){Ut();ut=0;while((!o||ut<s)&&S===ft){ut+=1;ft=e.charCodeAt(++ot)}if(!o&&ut>s){s=ut}if(x===ft||E===ft){l+=1;continue}if(ut<s){if(b===a){Ct+=n.repeat("\n",l+1)}else if(g===a){Ct+="\n"}break}o=true;if(i){if(S===ft||w===ft){Ct+=n.repeat("\n",l+1);l=1}else if(0===l){Ct+=" ";l=0}else{Ct+=n.repeat("\n",l);l=0}}else{Ct+=n.repeat("\n",l+1);l=0}r=ot;do{ft=e.charCodeAt(++ot)}while(ot<at&&x!==ft&&E!==ft);_t(r,ot,false)}return true}function Vt(t){var r,n=At,i=[],a,o=false;if(null!==It){kt[It]=i}while(ot<at){if(F!==ft){break}a=e.charCodeAt(ot+1);if(S!==a&&w!==a&&x!==a&&E!==a){break}o=true;ot+=1;ft=a;if(Dt(true,-1)){if(ut<=t){i.push(null);continue}}r=st;zt(t,m,false,true);i.push(Ct);Dt(true,-1);if((st===r||ut>t)&&ot<at){Nt("bad indentation of a sequence entry")}else if(ut<t){break}}if(o){At=n;Lt=c;Ct=i;return true}else{return false}}function Ht(t){var r,n,i,a=At,o={},s=null,l=null,u=null,f=false,c=false;if(null!==It){kt[It]=o}while(ot<at){r=e.charCodeAt(ot+1);i=st;if((W===ft||B===ft)&&(S===r||w===r||x===r||E===r)){if(W===ft){if(f){Pt(o,s,l,null);s=l=u=null}c=true;f=true;n=true}else if(f){f=false;n=true}else{Nt("incomplete explicit mapping pair; a key node is missed")}ot+=1;ft=r}else if(zt(t,h,false,true)){if(st===i){while(S===ft||w===ft){ft=e.charCodeAt(++ot)}if(B===ft){ft=e.charCodeAt(++ot);if(S!==ft&&w!==ft&&x!==ft&&E!==ft){Nt("a whitespace character is expected after the key-value separator within a block mapping")}if(f){Pt(o,s,l,null);s=l=u=null}c=true;f=false;n=false;s=At;l=Ct}else if(c){Nt("can not read an implicit mapping pair; a colon is missed")}else{At=a;return true}}else if(c){Nt("can not read a block mapping entry; a multiline key may not be an implicit key")}else{At=a;return true}}else{break}if(st===i||ut>t){if(zt(t,y,true,n)){if(f){l=Ct}else{u=Ct}}if(!f){Pt(o,s,l,u);s=l=u=null}Dt(true,-1)}if(ut>t&&ot<at){Nt("bad indentation of a mapping entry")}else if(ut<t){break}}if(f){Pt(o,s,l,null)}if(c){At=a;Lt=p;Ct=o}return c}function Yt(){var t,r=false,n=false,i,a;if(k!==ft){return false}if(null!==At){Nt("duplication of a tag property")}ft=e.charCodeAt(++ot);if(R===ft){r=true;ft=e.charCodeAt(++ot)}else if(k===ft){n=true;i="!!";ft=e.charCodeAt(++ot)}else{i="!"}t=ot;if(r){do{ft=e.charCodeAt(++ot)}while(ot<at&&q!==ft);if(ot<at){a=e.slice(t,ot);ft=e.charCodeAt(++ot)}else{Nt("unexpected end of the stream within a verbatim tag")}}else{while(ot<at&&S!==ft&&w!==ft&&x!==ft&&E!==ft){if(k===ft){if(!n){i=e.slice(t-1,ot+1);if(K&&!bt.test(i)){Nt("named tag handle cannot contain such characters")}n=true;t=ot+1}else{Nt("tag suffix cannot contain exclamation marks")}}ft=e.charCodeAt(++ot)}a=e.slice(t,ot);if(K&&vt.test(a)){Nt("tag suffix cannot contain flow indicator characters")}}if(K&&a&&!wt.test(a)){Nt("tag name cannot contain such characters: "+a)}if(r){At=a}else if(u.call(St,i)){At=St[i]+a}else if("!"===i){At="!"+a}else if("!!"===i){At="tag:yaml.org,2002:"+a}else{Nt('undeclared tag handle "'+i+'"')}return true}function Kt(){var t;if(C!==ft){return false}if(null!==It){Nt("duplication of an anchor property")}ft=e.charCodeAt(++ot);t=ot;while(ot<at&&S!==ft&&w!==ft&&x!==ft&&E!==ft&&_!==ft&&$!==ft&&Z!==ft&&ct!==ft&&dt!==ft){ft=e.charCodeAt(++ot)}if(ot===t){Nt("name of an anchor node must contain at least one character")}It=e.slice(t,ot);return true}function Jt(){var t,r;if(N!==ft){return false}ft=e.charCodeAt(++ot);t=ot;while(ot<at&&S!==ft&&w!==ft&&x!==ft&&E!==ft&&_!==ft&&$!==ft&&Z!==ft&&ct!==ft&&dt!==ft){ft=e.charCodeAt(++ot)}if(ot===t){Nt("name of an alias node must contain at least one character")}r=e.slice(t,ot);if(!kt.hasOwnProperty(r)){Nt('unidentified alias "'+r+'"')}Ct=kt[r];Dt(true,-1);return true}function zt(e,t,r,n){var i,a,s,l=false,f=true,c=false,p,g,v,b,w,x,E;At=null;It=null;Lt=null;Ct=null;i=a=s=y===t||m===t;if(r){if(Dt(true,-1)){l=true;if(ut===e){f=false}else if(ut>e){f=true}else{return false}}}if(f){while(Yt()||Kt()){if(Dt(true,-1)){l=true;if(ut>e){f=true;s=i}else if(ut===e){f=false;s=i}else{return true}}else{s=false
}}}if(s){s=l||n}if(f||y===t){if(d===t||h===t){w=e}else{w=e+1}x=ot-lt;if(f){if(s&&(Vt(x)||Ht(x))||Wt(w)){c=true}else{if(a&&Gt(w)||Rt(w)||qt(w)){c=true}else if(Jt()){c=true;if(null!==At||null!==It){Nt("alias node should not have any properties")}}else if(Bt(w,d===t)){c=true;if(null===At){At="?"}}if(null!==It){kt[It]=Ct}}}else{c=s&&Vt(x)}}if(null!==At&&"!"!==At){if("?"===At){if(Y){for(p=0,g=rt.length;p<g;p+=1){v=rt[p];E=v.loader.resolver(Ct,false);if(o!==E){At=v.tag;Ct=E;break}}}}else if(u.call(nt,At)){b=nt[At].loader;if(null!==Ct&&b.kind!==Lt){Nt("unacceptable node kind for !<"+At+'> tag; it should be "'+b.kind+'", not "'+Lt+'"')}if(b.resolver){E=b.resolver(Ct,true);if(o!==E){Ct=E}else{Nt("cannot resolve a node with !<"+At+"> explicit tag")}}}else{jt("unknown tag !<"+At+">")}}return null!==At||null!==It||c}function $t(){var r=ot,n,i,a,o=false;xt=null;Et=z;St={};kt={};while(ot<at){Dt(true,-1);if(ut>0||L!==ft){break}o=true;ft=e.charCodeAt(++ot);n=ot;while(ot<at&&S!==ft&&w!==ft&&x!==ft&&E!==ft){ft=e.charCodeAt(++ot)}i=e.slice(n,ot);a=[];if(i.length<1){Nt("directive name must not be less than one character in length")}while(ot<at){while(S===ft||w===ft){ft=e.charCodeAt(++ot)}if(I===ft){do{ft=e.charCodeAt(++ot)}while(ot<at&&x!==ft&&E!==ft);break}if(x===ft||E===ft){break}n=ot;while(ot<at&&S!==ft&&w!==ft&&x!==ft&&E!==ft){ft=e.charCodeAt(++ot)}a.push(e.slice(n,ot))}if(ot<at){Ut()}if(u.call(Q,i)){Q[i](i,a)}else{jt('unknown document directive "'+i+'"')}}Dt(true,-1);if(0===ut&&F===ft&&F===e.charCodeAt(ot+1)&&F===e.charCodeAt(ot+2)){ot+=3;ft=e.charCodeAt(ot);Dt(true,-1)}else if(o){Nt("directives end mark is expected")}zt(ut-1,y,false,true);Dt(true,-1);if(K&&Et&&gt.test(e.slice(r,ot))){jt("non-ASCII line breaks are interpreted as content")}t(Ct);if(ot===lt&&Tt()){if(P===ft){ot+=3;ft=e.charCodeAt(ot);Dt(true,-1)}return}if(ot<at){Nt("end of the stream or a document separator is expected")}else{return}}if(K&&yt.test(e)){Nt("the stream contains non-printable characters")}while(S===ft){ut+=1;ft=e.charCodeAt(++ot)}while(ot<at){$t()}}function Et(e,t){var r=null,n=false;function a(e){if(!n){r=e;n=true}else{throw new i("expected a single document in the stream, but found more")}}xt(e,a,t);return r}function St(e,t,r){xt(e,t,n.extend({schema:s},r))}function kt(e,t){return Et(e,n.extend({schema:s},t))}t.exports.loadAll=xt;t.exports.load=Et;t.exports.safeLoadAll=St;t.exports.safeLoad=kt},{"./common":3,"./exception":5,"./mark":7,"./schema/default_full":11,"./schema/default_safe":12}],7:[function(e,t,r){"use strict";var n=e("./common");function i(e,t,r,n,i){this.name=e;this.buffer=t;this.position=r;this.line=n;this.column=i}i.prototype.getSnippet=function a(e,t){var r,i,a,o,s;if(!this.buffer){return null}e=e||4;t=t||75;r="";i=this.position;while(i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1))){i-=1;if(this.position-i>t/2-1){r=" ... ";i+=5;break}}a="";o=this.position;while(o<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o))){o+=1;if(o-this.position>t/2-1){a=" ... ";o-=5;break}}s=this.buffer.slice(i,o);return n.repeat(" ",e)+r+s+a+"\n"+n.repeat(" ",e+this.position-i+r.length)+"^"};i.prototype.toString=function o(e){var t,r="";if(this.name){r+='in "'+this.name+'" '}r+="at line "+(this.line+1)+", column "+(this.column+1);if(!e){t=this.getSnippet();if(t){r+=":\n"+t}}return r};t.exports=i},{"./common":3}],8:[function(e,t,r){"use strict";var n=e("fs");var i=e("./loader");function a(e,t){var r=n.readFileSync(t,"utf8");e.exports=i.safeLoad(r,{filename:t})}if(undefined!==e.extensions){e.extensions[".yml"]=a;e.extensions[".yaml"]=a}t.exports=e},{"./loader":6,fs:34}],9:[function(e,t,r){"use strict";var n=e("./common");var i=e("./exception");var a=e("./type");function o(e,t,r){var n=[];e.include.forEach(function(e){r=o(e,t,r)});e[t].forEach(function(e){r.forEach(function(t,r){if(t.tag===e.tag){n.push(r)}});r.push(e)});return r.filter(function(e,t){return-1===n.indexOf(t)})}function s(){var e={},t,r;function n(t){e[t.tag]=t}for(t=0,r=arguments.length;t<r;t+=1){arguments[t].forEach(n)}return e}function l(e){this.include=e.include||[];this.implicit=e.implicit||[];this.explicit=e.explicit||[];this.implicit.forEach(function(e){if(null!==e.loader&&"string"!==e.loader.kind){throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}});this.compiledImplicit=o(this,"implicit",[]);this.compiledExplicit=o(this,"explicit",[]);this.compiledTypeMap=s(this.compiledImplicit,this.compiledExplicit)}l.DEFAULT=null;l.create=function u(){var e,t;switch(arguments.length){case 1:e=l.DEFAULT;t=arguments[0];break;case 2:e=arguments[0];t=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}e=n.toArray(e);t=n.toArray(t);if(!e.every(function(e){return e instanceof l})){throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.")}if(!t.every(function(e){return e instanceof a})){throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.")}return new l({include:e,explicit:t})};t.exports=l},{"./common":3,"./exception":5,"./type":15}],10:[function(e,t,r){"use strict";var n=e("../schema");t.exports=new n({include:[e("./json")]})},{"../schema":9,"./json":14}],11:[function(e,t,r){"use strict";var n=e("../schema");t.exports=n.DEFAULT=new n({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":9,"../type/js/function":20,"../type/js/regexp":21,"../type/js/undefined":22,"./default_safe":12}],12:[function(e,t,r){"use strict";var n=e("../schema");t.exports=new n({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":9,"../type/binary":16,"../type/merge":24,"../type/omap":26,"../type/pairs":27,"../type/set":29,"../type/timestamp":31,"./core":10}],13:[function(e,t,r){"use strict";var n=e("../schema");t.exports=new n({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":9,"../type/map":23,"../type/seq":28,"../type/str":30}],14:[function(e,t,r){"use strict";var n=e("../schema");t.exports=new n({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":9,"../type/bool":17,"../type/float":18,"../type/int":19,"../type/null":25,"./failsafe":13}],15:[function(e,t,r){"use strict";var n=e("./exception");function i(e,t){t=t||{};this.tag=e;this.loader=t["loader"]||null;this.dumper=t["dumper"]||null;if(null===this.loader&&null===this.dumper){throw new n('Incomplete YAML type definition. "loader" or "dumper" setting must be specified.')}if(null!==this.loader){this.loader=new i.Loader(this.loader)}if(null!==this.dumper){this.dumper=new i.Dumper(this.dumper)}}i.Loader=function o(e){e=e||{};this.kind=e["kind"]||null;this.resolver=e["resolver"]||null;if("string"!==this.kind&&"array"!==this.kind&&"object"!==this.kind){throw new n('Unacceptable "kind" setting of a type loader.')}};function a(e){var t={};if(null!==e){Object.keys(e).forEach(function(r){e[r].forEach(function(e){t[String(e)]=r})})}return t}i.Dumper=function s(e){e=e||{};this.kind=e["kind"]||null;this.defaultStyle=e["defaultStyle"]||null;this.instanceOf=e["instanceOf"]||null;this.predicate=e["predicate"]||null;this.representer=e["representer"]||null;this.styleAliases=a(e["styleAliases"]||null);if("undefined"!==this.kind&&"null"!==this.kind&&"boolean"!==this.kind&&"integer"!==this.kind&&"float"!==this.kind&&"string"!==this.kind&&"array"!==this.kind&&"object"!==this.kind&&"function"!==this.kind){throw new n('Unacceptable "kind" setting of a type dumper.')}};t.exports=i},{"./exception":5}],16:[function(e,t,r){!function(){"use strict";var r=e("buffer").Buffer;var n=e("../common");var i=n.NIL;var a=e("../type");var o="=";var s=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");function u(e){var t,n,a=0,l=[],u,f;u=0;f=0;for(a=0;a<e.length;a+=1){n=e.charCodeAt(a);t=s[n&127];if(10!==n&&13!==n){if(-1===t){return i}f=f<<6|t;u+=6;if(u>=8){u-=8;if(o!==e.charAt(a)){l.push(f>>u&255)}f&=(1<<u)-1}}}if(u){return i}else{return new r(l)}}function f(e){var t="",r,n,i;for(r=0,n=e.length-2;r<n;r+=3){t+=l[e[r+0]>>2];t+=l[((e[r+0]&3)<<4)+(e[r+1]>>4)];t+=l[((e[r+1]&15)<<2)+(e[r+2]>>6)];t+=l[e[r+2]&63]}i=e.length%3;if(0!==i){r=e.length-i;t+=l[e[r+0]>>2];if(2===i){t+=l[((e[r+0]&3)<<4)+(e[r+1]>>4)];t+=l[(e[r+1]&15)<<2];t+=o}else{t+=l[(e[r+0]&3)<<4];t+=o+o}}return t}t.exports=new a("tag:yaml.org,2002:binary",{loader:{kind:"string",resolver:u},dumper:{kind:"object",instanceOf:r,representer:f}})}()},{"../common":3,"../type":15,buffer:37}],17:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a={"true":true,True:true,TRUE:true,"false":false,False:false,FALSE:false};var o={"true":true,True:true,TRUE:true,"false":false,False:false,FALSE:false,y:true,Y:true,yes:true,Yes:true,YES:true,n:false,N:false,no:false,No:false,NO:false,on:true,On:true,ON:true,off:false,Off:false,OFF:false};function s(e,t){if(t){if(o.hasOwnProperty(e)){return o[e]}else{return n}}else{if(a.hasOwnProperty(e)){return a[e]}else{return n}}}t.exports=new i("tag:yaml.org,2002:bool",{loader:{kind:"string",resolver:s},dumper:{kind:"boolean",defaultStyle:"lowercase",representer:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}}}})},{"../common":3,"../type":15}],18:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?"+"|\\.[0-9_]+(?:[eE][-+][0-9]+)?"+"|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*"+"|[-+]?\\.(?:inf|Inf|INF)"+"|\\.(?:nan|NaN|NAN))$");function o(e){var t,r,i,o;if(!a.test(e)){return n}t=e.replace(/_/g,"").toLowerCase();r="-"===t[0]?-1:1;o=[];if(0<="+-".indexOf(t[0])){t=t.slice(1)}if(".inf"===t){return 1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(".nan"===t){return NaN}else if(0<=t.indexOf(":")){t.split(":").forEach(function(e){o.unshift(parseFloat(e,10))});t=0;i=1;o.forEach(function(e){t+=e*i;i*=60});return r*t}else{return r*parseFloat(t,10)}}function s(e,t){if(isNaN(e)){switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===e){switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===e){switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else{return e.toString(10)}}t.exports=new i("tag:yaml.org,2002:float",{loader:{kind:"string",resolver:o},dumper:{kind:"float",defaultStyle:"lowercase",representer:s}})},{"../common":3,"../type":15}],19:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a=new RegExp("^(?:[-+]?0b[0-1_]+"+"|[-+]?0[0-7_]+"+"|[-+]?(?:0|[1-9][0-9_]*)"+"|[-+]?0x[0-9a-fA-F_]+"+"|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$");function o(e){var t,r,i,o;if(!a.test(e)){return n}t=e.replace(/_/g,"");r="-"===t[0]?-1:1;o=[];if(0<="+-".indexOf(t[0])){t=t.slice(1)}if("0"===t){return 0}else if(/^0b/.test(t)){return r*parseInt(t.slice(2),2)}else if(/^0x/.test(t)){return r*parseInt(t,16)}else if("0"===t[0]){return r*parseInt(t,8)}else if(0<=t.indexOf(":")){t.split(":").forEach(function(e){o.unshift(parseInt(e,10))});t=0;i=1;o.forEach(function(e){t+=e*i;i*=60});return r*t}else{return r*parseInt(t,10)}}t.exports=new i("tag:yaml.org,2002:int",{loader:{kind:"string",resolver:o},dumper:{kind:"integer",defaultStyle:"decimal",representer:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}})},{"../common":3,"../type":15}],20:[function(e,t,r){"use strict";var n=e("esprima");var i=e("../../common").NIL;var a=e("../../type");function o(e){try{var t="("+e+")",r=n.parse(t,{range:true}),a=[],o;if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type){return i}r.body[0].expression.params.forEach(function(e){a.push(e.name)});o=r.body[0].expression.body.range;return new Function(a,t.slice(o[0]+1,o[1]-1))}catch(s){return i}}function s(e){return e.toString()}t.exports=new a("tag:yaml.org,2002:js/function",{loader:{kind:"string",resolver:o},dumper:{kind:"function",representer:s}})},{"../../common":3,"../../type":15,esprima:40}],21:[function(e,t,r){!function(){"use strict";var r=e("../../common").NIL;var n=e("../../type");function i(e){var t=e,n=/\/([gim]*)$/.exec(e),i;if("/"===t[0]&&n&&4>=n[0].length){t=t.slice(1,t.length-n[0].length);i=n[1]}try{return new RegExp(t,i)}catch(a){return r}}function a(e){var t="/"+e.source+"/";if(e.global){t+="g"}if(e.multiline){t+="m"}if(e.ignoreCase){t+="i"}return t}t.exports=new n("tag:yaml.org,2002:js/regexp",{loader:{kind:"string",resolver:i},dumper:{kind:"object",instanceOf:RegExp,representer:a}})}()},{"../../common":3,"../../type":15}],22:[function(e,t,r){"use strict";var n=e("../../type");function i(){var e;return e}function a(){return""}t.exports=new n("tag:yaml.org,2002:js/undefined",{loader:{kind:"string",resolver:i},dumper:{kind:"undefined",representer:a}})},{"../../type":15}],23:[function(e,t,r){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:map",{loader:{kind:"object"}})},{"../type":15}],24:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");function a(e){return"<<"===e?e:n}t.exports=new i("tag:yaml.org,2002:merge",{loader:{kind:"string",resolver:a}})},{"../common":3,"../type":15}],25:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a={"~":true,"null":true,Null:true,NULL:true};function o(e){return a[e]?null:n}t.exports=new i("tag:yaml.org,2002:null",{loader:{kind:"string",resolver:o},dumper:{kind:"null",defaultStyle:"lowercase",representer:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}}}})},{"../common":3,"../type":15}],26:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a=Object.prototype.hasOwnProperty;var o=Object.prototype.toString;function s(e){var t=[],r,i,s,l,u;for(r=0,i=e.length;r<i;r+=1){s=e[r];u=false;if("[object Object]"!==o.call(s)){return n}for(l in s){if(a.call(s,l)){if(!u){u=true}else{return n}}}if(!u){return n}if(-1===t.indexOf(l)){t.push(l)}else{return n}}return e}t.exports=new i("tag:yaml.org,2002:omap",{loader:{kind:"array",resolver:s}})},{"../common":3,"../type":15}],27:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a=Object.prototype.toString;function o(e){var t,r,i,o,s;s=new Array(e.length);for(t=0,r=e.length;t<r;t+=1){i=e[t];if("[object Object]"!==a.call(i)){return n}o=Object.keys(i);if(1!==o.length){return n}s[t]=[o[0],i[o[0]]]}return s}t.exports=new i("tag:yaml.org,2002:pairs",{loader:{kind:"array",resolver:o}})},{"../common":3,"../type":15}],28:[function(e,t,r){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:seq",{loader:{kind:"array"}})},{"../type":15}],29:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a=Object.prototype.hasOwnProperty;function o(e){var t;for(t in e){if(a.call(e,t)){if(null!==e[t]){return n}}}return e}t.exports=new i("tag:yaml.org,2002:set",{loader:{kind:"object",resolver:o}})},{"../common":3,"../type":15}],30:[function(e,t,r){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:str",{loader:{kind:"string"}})},{"../type":15}],31:[function(e,t,r){"use strict";var n=e("../common").NIL;var i=e("../type");var a=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9]?)"+"-([0-9][0-9]?)"+"(?:(?:[Tt]|[ \\t]+)"+"([0-9][0-9]?)"+":([0-9][0-9])"+":([0-9][0-9])"+"(?:\\.([0-9]*))?"+"(?:[ \\t]*(Z|([-+])([0-9][0-9]?)"+"(?::([0-9][0-9]))?))?)?$");function o(e){var t,r,i,o,s,l,u,f=0,c=null,p,d,h;t=a.exec(e);if(null===t){return n}r=+t[1];i=+t[2]-1;o=+t[3];if(!t[4]){return new Date(Date.UTC(r,i,o))}s=+t[4];l=+t[5];u=+t[6];if(t[7]){f=t[7].slice(0,3);while(f.length<3){f+="0"}f=+f}if(t[9]){p=+t[10];d=+(t[11]||0);c=(p*60+d)*6e4;if("-"===t[9]){c=-c}}h=new Date(Date.UTC(r,i,o,s,l,u,f));if(c){h.setTime(h.getTime()-c)}return h}function s(e){return e.toISOString()}t.exports=new i("tag:yaml.org,2002:timestamp",{loader:{kind:"string",resolver:o},dumper:{kind:"object",instanceOf:Date,representer:s}})},{"../common":3,"../type":15}],32:[function(e,t,r){!function(){var r=e("util");var n=e("buffer").Buffer;var i=Array.prototype.slice;function a(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t.push(r)}}return t}var o=t.exports=f;o.AssertionError=function g(e){this.name="AssertionError";this.message=e.message;this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;var t=e.stackStartFunction||u;if(Error.captureStackTrace){Error.captureStackTrace(this,t)}};r.inherits(o.AssertionError,Error);function s(e,t){if(t===undefined){return""+t}if(typeof t==="number"&&(isNaN(t)||!isFinite(t))){return t.toString()}if(typeof t==="function"||t instanceof RegExp){return t.toString()}return t}function l(e,t){if(typeof e=="string"){return e.length<t?e:e.slice(0,t)}else{return e}}o.AssertionError.prototype.toString=function(){if(this.message){return[this.name+":",this.message].join(" ")}else{return[this.name+":",l(JSON.stringify(this.actual,s),128),this.operator,l(JSON.stringify(this.expected,s),128)].join(" ")}};o.AssertionError.__proto__=Error.prototype;function u(e,t,r,n,i){throw new o.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}o.fail=u;function f(e,t){if(!!!e)u(e,true,t,"==",o.ok)}o.ok=f;o.equal=function v(e,t,r){if(e!=t)u(e,t,r,"==",o.equal)};o.notEqual=function b(e,t,r){if(e==t){u(e,t,r,"!=",o.notEqual)}};o.deepEqual=function w(e,t,r){if(!c(e,t)){u(e,t,r,"deepEqual",o.deepEqual)}};function c(e,t){if(e===t){return true}else if(n.isBuffer(e)&&n.isBuffer(t)){if(e.length!=t.length)return false;for(var r=0;r<e.length;r++){if(e[r]!==t[r])return false}return true}else if(e instanceof Date&&t instanceof Date){return e.getTime()===t.getTime()}else if(typeof e!="object"&&typeof t!="object"){return e==t}else{return h(e,t)}}function p(e){return e===null||e===undefined}function d(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function h(e,t){if(p(e)||p(t))return false;if(e.prototype!==t.prototype)return false;if(d(e)){if(!d(t)){return false}e=i.call(e);t=i.call(t);return c(e,t)}try{var r=a(e),n=a(t),o,s}catch(l){return false}if(r.length!=n.length)return false;r.sort();n.sort();for(s=r.length-1;s>=0;s--){if(r[s]!=n[s])return false}for(s=r.length-1;s>=0;s--){o=r[s];if(!c(e[o],t[o]))return false}return true}o.notDeepEqual=function x(e,t,r){if(c(e,t)){u(e,t,r,"notDeepEqual",o.notDeepEqual)}};o.strictEqual=function E(e,t,r){if(e!==t){u(e,t,r,"===",o.strictEqual)}};o.notStrictEqual=function S(e,t,r){if(e===t){u(e,t,r,"!==",o.notStrictEqual)}};function m(e,t){if(!e||!t){return false}if(t instanceof RegExp){return t.test(e)}else if(e instanceof t){return true}else if(t.call({},e)===true){return true}return false}function y(e,t,r,n){var i;if(typeof r==="string"){n=r;r=null}try{t()}catch(a){i=a}n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:".");if(e&&!i){u("Missing expected exception"+n)}if(!e&&m(i,r)){u("Got unwanted exception"+n)}if(e&&i&&r&&!m(i,r)||!e&&i){throw i}}o.throws=function(e,t,r){y.apply(this,[true].concat(i.call(arguments)))};o.doesNotThrow=function(e,t,r){y.apply(this,[false].concat(i.call(arguments)))};o.ifError=function(e){if(e){throw e}}}()},{buffer:37,util:35}],33:[function(e,t,r){!function(e){if(!e.EventEmitter)e.EventEmitter=function(){};var t=r.EventEmitter=e.EventEmitter;var n=typeof Array.isArray==="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"};function i(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++){if(t===e[r])return r}return-1}var a=10;t.prototype.setMaxListeners=function(e){if(!this._events)this._events={};this._events.maxListeners=e};t.prototype.emit=function(e){if(e==="error"){if(!this._events||!this._events.error||n(this._events.error)&&!this._events.error.length){if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}}if(!this._events)return false;var t=this._events[e];if(!t)return false;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);t.apply(this,r)}return true}else if(n(t)){var r=Array.prototype.slice.call(arguments,1);var i=t.slice();for(var a=0,o=i.length;a<o;a++){i[a].apply(this,r)}return true}else{return false}};t.prototype.addListener=function(e,t){if("function"!==typeof t){throw new Error("addListener only takes instances of Function")}if(!this._events)this._events={};this.emit("newListener",e,t);if(!this._events[e]){this._events[e]=t}else if(n(this._events[e])){if(!this._events[e].warned){var r;if(this._events.maxListeners!==undefined){r=this._events.maxListeners}else{r=a}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);console.trace()}}this._events[e].push(t)}else{this._events[e]=[this._events[e],t]}return this};t.prototype.on=t.prototype.addListener;t.prototype.once=function(e,t){var r=this;r.on(e,function n(){r.removeListener(e,n);t.apply(this,arguments)});return this};t.prototype.removeListener=function(e,t){if("function"!==typeof t){throw new Error("removeListener only takes instances of Function")}if(!this._events||!this._events[e])return this;var r=this._events[e];if(n(r)){var a=i(r,t);if(a<0)return this;r.splice(a,1);if(r.length==0)delete this._events[e]}else if(this._events[e]===t){delete this._events[e]}return this};t.prototype.removeAllListeners=function(e){if(arguments.length===0){this._events={};return this}if(e&&this._events&&this._events[e])this._events[e]=null;return this};t.prototype.listeners=function(e){if(!this._events)this._events={};if(!this._events[e])this._events[e]=[];if(!n(this._events[e])){this._events[e]=[this._events[e]]}return this._events[e]}}(e("__browserify_process"))},{__browserify_process:39}],34:[function(e,t,r){},{}],35:[function(e,t,r){var n=e("events");r.isArray=i;r.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"};r.isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"};r.print=function(){};r.puts=function(){};r.debug=function(){};r.inspect=function(e,t,n,s){var l=[];var u=function(e,t){var r={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};var n={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];if(n){return"["+r[n][0]+"m"+e+"["+r[n][1]+"m"}else{return e}};if(!s){u=function(e,t){return e}}function p(e,n){if(e&&typeof e.inspect==="function"&&e!==r&&!(e.constructor&&e.constructor.prototype===e)){return e.inspect(n)}switch(typeof e){case"undefined":return u("undefined","undefined");case"string":var s="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return u(s,"string");case"number":return u(""+e,"number");case"boolean":return u(""+e,"boolean")}if(e===null){return u("null","null")}var d=f(e);var h=t?c(e):d;if(typeof e==="function"&&h.length===0){if(a(e)){return u(""+e,"regexp")}else{var m=e.name?": "+e.name:"";return u("[Function"+m+"]","special")}}if(o(e)&&h.length===0){return u(e.toUTCString(),"date")}var y,g,v;if(i(e)){g="Array";v=["[","]"]}else{g="Object";v=["{","}"]}if(typeof e==="function"){var b=e.name?": "+e.name:"";y=a(e)?" "+e:" [Function"+b+"]"}else{y=""}if(o(e)){y=" "+e.toUTCString()}if(h.length===0){return v[0]+y+v[1]}if(n<0){if(a(e)){return u(""+e,"regexp")}else{return u("[Object]","special")}}l.push(e);var w=h.map(function(t){var r,a;if(e.__lookupGetter__){if(e.__lookupGetter__(t)){if(e.__lookupSetter__(t)){a=u("[Getter/Setter]","special")}else{a=u("[Getter]","special")}}else{if(e.__lookupSetter__(t)){a=u("[Setter]","special")}}}if(d.indexOf(t)<0){r="["+t+"]"}if(!a){if(l.indexOf(e[t])<0){if(n===null){a=p(e[t])}else{a=p(e[t],n-1)}if(a.indexOf("\n")>-1){if(i(e)){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=u("[Circular]","special")}}if(typeof r==="undefined"){if(g==="Array"&&t.match(/^\d+$/)){return a}r=JSON.stringify(""+t);if(r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){r=r.substr(1,r.length-2);r=u(r,"name")}else{r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");r=u(r,"string")}}return r+": "+a});l.pop();var x=0;var E=w.reduce(function(e,t){x++;if(t.indexOf("\n")>=0)x++;return e+t.length+1},0);if(E>50){w=v[0]+(y===""?"":y+"\n ")+" "+w.join(",\n  ")+" "+v[1]}else{w=v[0]+y+" "+w.join(", ")+" "+v[1]}return w}return p(e,typeof n==="undefined"?2:n)};function i(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&i(e.__proto__)}function a(e){return e instanceof RegExp||typeof e==="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function o(e){if(e instanceof Date)return true;if(typeof e!=="object")return false;var t=Date.prototype&&c(Date.prototype);var r=e.__proto__&&c(e.__proto__);return JSON.stringify(r)===JSON.stringify(t)}function s(e){return e<10?"0"+e.toString(10):e.toString(10)}var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function u(){var e=new Date;var t=[s(e.getHours()),s(e.getMinutes()),s(e.getSeconds())].join(":");return[e.getDate(),l[e.getMonth()],t].join(" ")}r.log=function(e){};r.pump=null;var f=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};var c=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e){if(Object.hasOwnProperty.call(e,r))t.push(r)}return t};var p=Object.create||function(e,t){var r;if(e===null){r={__proto__:null}}else{if(typeof e!=="object"){throw new TypeError("typeof prototype["+typeof e+"] != 'object'")}var n=function(){};n.prototype=e;r=new n;r.__proto__=e}if(typeof t!=="undefined"&&Object.defineProperties){Object.defineProperties(r,t)}return r};r.inherits=function(e,t){e.super_=t;e.prototype=p(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})};var d=/%[sdj%]/g;r.format=function(e){if(typeof e!=="string"){var t=[];for(var n=0;n<arguments.length;n++){t.push(r.inspect(arguments[n]))}return t.join(" ")}var n=1;var i=arguments;var a=i.length;var o=String(e).replace(d,function(e){if(e==="%%")return"%";if(n>=a)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":return JSON.stringify(i[n++]);default:return e}});for(var s=i[n];n<a;s=i[++n]){if(s===null||typeof s!=="object"){o+=" "+s}else{o+=" "+r.inspect(s)}}return o}},{events:33}],36:[function(e,t,r){r.readIEEE754=function(e,t,r,n,i){var a,o,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?0:i-1,p=r?1:-1,d=e[t+c];c+=p;a=d&(1<<-f)-1;d>>=-f;f+=s;for(;f>0;a=a*256+e[t+c],c+=p,f-=8);o=a&(1<<-f)-1;a>>=-f;f+=n;for(;f>0;o=o*256+e[t+c],c+=p,f-=8);if(a===0){a=1-u}else if(a===l){return o?NaN:(d?-1:1)*Infinity}else{o=o+Math.pow(2,n);a=a-u}return(d?-1:1)*o*Math.pow(2,a-n)};r.writeIEEE754=function(e,t,r,n,i,a){var o,s,l,u=a*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?a-1:0,h=n?-1:1,m=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){s=isNaN(t)?1:0;o=f}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(l=Math.pow(2,-o))<1){o--;l*=2}if(o+c>=1){t+=p/l}else{t+=p*Math.pow(2,1-c)}if(t*l>=2){o++;l/=2}if(o+c>=f){s=0;o=f}else if(o+c>=1){s=(t*l-1)*Math.pow(2,i);o=o+c}else{s=t*Math.pow(2,c-1)*Math.pow(2,i);o=0}}for(;i>=8;e[r+d]=s&255,d+=h,s/=256,i-=8);o=o<<i|s;u+=i;for(;u>0;e[r+d]=o&255,d+=h,o/=256,u-=8);e[r+d-h]|=m*128}},{}],37:[function(e,t,r){!function(){var t=e("assert");r.Buffer=n;r.SlowBuffer=n;n.poolSize=8192;r.INSPECT_MAX_BYTES=50;function n(e,t,r){if(!(this instanceof n)){return new n(e,t,r)}this.parent=this;this.offset=0;var a;if(typeof r==="number"){this.length=i(t);this.offset=r}else{switch(a=typeof e){case"number":this.length=i(e);break;case"string":this.length=n.byteLength(e,t);break;case"object":this.length=i(e.length);break;default:throw new Error("First argument needs to be a number, "+"array or string.")}if(o(e)){for(var s=0;s<this.length;s++){if(e instanceof n){this[s]=e.readUInt8(s)}else{this[s]=e[s]}}}else if(a=="string"){this.length=this.write(e,0,t)}else if(a==="number"){for(var s=0;s<this.length;s++){this[s]=0}}}}n.prototype.get=function C(e){if(e<0||e>=this.length)throw new Error("oob");return this[e]};n.prototype.set=function O(e,t){if(e<0||e>=this.length)throw new Error("oob");return this[e]=t};n.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return l(e).length;case"ascii":case"binary":return e.length;case"base64":return f(e).length;default:throw new Error("Unknown encoding")}};n.prototype.utf8Write=function(e,t,r){var i,a;return n._charsWritten=c(l(e),this,t,r)};n.prototype.asciiWrite=function(e,t,r){var i,a;return n._charsWritten=c(u(e),this,t,r)};n.prototype.binaryWrite=n.prototype.asciiWrite;n.prototype.base64Write=function(e,t,r){var i,a;return n._charsWritten=c(f(e),this,t,r)};n.prototype.base64Slice=function(t,r){var n=Array.prototype.slice.apply(this,arguments);return e("base64-js").fromByteArray(n)};n.prototype.utf8Slice=function(){var e=Array.prototype.slice.apply(this,arguments);var t="";var r="";var n=0;while(n<e.length){if(e[n]<=127){t+=p(r)+String.fromCharCode(e[n]);r=""}else r+="%"+e[n].toString(16);n++}return t+p(r)};n.prototype.asciiSlice=function(){var e=Array.prototype.slice.apply(this,arguments);var t="";for(var r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t};n.prototype.binarySlice=n.prototype.asciiSlice;n.prototype.inspect=function(){var e=[],t=this.length;for(var n=0;n<t;n++){e[n]=s(this[n]);if(n==r.INSPECT_MAX_BYTES){e[n+1]="...";break}}return"<Buffer "+e.join(" ")+">"};n.prototype.hexSlice=function(e,t){var r=this.length;if(!e||e<0)e=0;if(!t||t<0||t>r)t=r;var n="";for(var i=e;i<t;i++){n+=s(this[i])}return n};n.prototype.toString=function(e,t,r){e=String(e||"utf8").toLowerCase();t=+t||0;if(typeof r=="undefined")r=this.length;if(+r==t){return""}switch(e){case"hex":return this.hexSlice(t,r);case"utf8":case"utf-8":return this.utf8Slice(t,r);case"ascii":return this.asciiSlice(t,r);case"binary":return this.binarySlice(t,r);case"base64":return this.base64Slice(t,r);case"ucs2":case"ucs-2":return this.ucs2Slice(t,r);default:throw new Error("Unknown encoding")}};n.prototype.hexWrite=function(e,t,r){t=+t||0;var i=this.length-t;if(!r){r=i}else{r=+r;if(r>i){r=i}}var a=e.length;if(a%2){throw new Error("Invalid hex string")}if(r>a/2){r=a/2}for(var o=0;o<r;o++){var s=parseInt(e.substr(o*2,2),16);if(isNaN(s))throw new Error("Invalid hex string");this[t+o]=s}n._charsWritten=o*2;return o};
n.prototype.write=function(e,t,r,n){if(isFinite(t)){if(!isFinite(r)){n=r;r=undefined}}else{var i=n;n=t;t=r;r=i}t=+t||0;var a=this.length-t;if(!r){r=a}else{r=+r;if(r>a){r=a}}n=String(n||"utf8").toLowerCase();switch(n){case"hex":return this.hexWrite(e,t,r);case"utf8":case"utf-8":return this.utf8Write(e,t,r);case"ascii":return this.asciiWrite(e,t,r);case"binary":return this.binaryWrite(e,t,r);case"base64":return this.base64Write(e,t,r);case"ucs2":case"ucs-2":return this.ucs2Write(e,t,r);default:throw new Error("Unknown encoding")}};n.prototype.slice=function(e,t){if(t===undefined)t=this.length;if(t>this.length){throw new Error("oob")}if(e>t){throw new Error("oob")}return new n(this,t-e,+e)};n.prototype.copy=function(e,r,n,i){var a=this;n||(n=0);if(i===undefined||isNaN(i)){i=this.length}r||(r=0);if(i<n)throw new Error("sourceEnd < sourceStart");if(i===n)return 0;if(e.length==0||a.length==0)return 0;if(r<0||r>=e.length){throw new Error("targetStart out of bounds")}if(n<0||n>=a.length){throw new Error("sourceStart out of bounds")}if(i<0||i>a.length){throw new Error("sourceEnd out of bounds")}if(i>this.length){i=this.length}if(e.length-r<i-n){i=e.length-r+n}var o=[];for(var s=n;s<i;s++){t.ok(typeof this[s]!=="undefined","copying undefined buffer bytes!");o.push(this[s])}for(var s=r;s<r+o.length;s++){e[s]=o[s-r]}};n.prototype.fill=function N(e,t,r){e||(e=0);t||(t=0);r||(r=this.length);if(typeof e==="string"){e=e.charCodeAt(0)}if(!(typeof e==="number")||isNaN(e)){throw new Error("value is not a number")}if(r<t)throw new Error("end < start");if(r===t)return 0;if(this.length==0)return 0;if(t<0||t>=this.length){throw new Error("start out of bounds")}if(r<0||r>this.length){throw new Error("end out of bounds")}for(var n=t;n<r;n++){this[n]=e}};n.isBuffer=function j(e){return e instanceof n||e instanceof n};n.concat=function(e,t){if(!a(e)){throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.")}if(e.length===0){return new n(0)}else if(e.length===1){return e[0]}if(typeof t!=="number"){t=0;for(var r=0;r<e.length;r++){var i=e[r];t+=i.length}}var o=new n(t);var s=0;for(var r=0;r<e.length;r++){var i=e[r];i.copy(o,s);s+=i.length}return o};function i(e){e=~~Math.ceil(+e);return e<0?0:e}function a(e){return(Array.isArray||function(e){return{}.toString.apply(e)=="[object Array]"})(e)}function o(e){return a(e)||n.isBuffer(e)||e&&typeof e==="object"&&typeof e.length==="number"}function s(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function l(e){var t=[];for(var r=0;r<e.length;r++)if(e.charCodeAt(r)<=127)t.push(e.charCodeAt(r));else{var n=encodeURIComponent(e.charAt(r)).substr(1).split("%");for(var i=0;i<n.length;i++)t.push(parseInt(n[i],16))}return t}function u(e){var t=[];for(var r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return t}function f(t){return e("base64-js").toByteArray(t)}function c(e,t,r,n){var i,a=0;while(a<n){if(a+r>=t.length||a>=e.length)break;t[a+r]=e[a];a++}return a}function p(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}n.prototype.readUInt8=function(e,r){var n=this;if(!r){t.ok(e!==undefined&&e!==null,"missing offset");t.ok(e<n.length,"Trying to read beyond buffer length")}if(e>=n.length)return;return n[e]};function d(e,r,n,i){var a=0;if(!i){t.ok(typeof n==="boolean","missing or invalid endian");t.ok(r!==undefined&&r!==null,"missing offset");t.ok(r+1<e.length,"Trying to read beyond buffer length")}if(r>=e.length)return 0;if(n){a=e[r]<<8;if(r+1<e.length){a|=e[r+1]}}else{a=e[r];if(r+1<e.length){a|=e[r+1]<<8}}return a}n.prototype.readUInt16LE=function(e,t){return d(this,e,false,t)};n.prototype.readUInt16BE=function(e,t){return d(this,e,true,t)};function h(e,r,n,i){var a=0;if(!i){t.ok(typeof n==="boolean","missing or invalid endian");t.ok(r!==undefined&&r!==null,"missing offset");t.ok(r+3<e.length,"Trying to read beyond buffer length")}if(r>=e.length)return 0;if(n){if(r+1<e.length)a=e[r+1]<<16;if(r+2<e.length)a|=e[r+2]<<8;if(r+3<e.length)a|=e[r+3];a=a+(e[r]<<24>>>0)}else{if(r+2<e.length)a=e[r+2]<<16;if(r+1<e.length)a|=e[r+1]<<8;a|=e[r];if(r+3<e.length)a=a+(e[r+3]<<24>>>0)}return a}n.prototype.readUInt32LE=function(e,t){return h(this,e,false,t)};n.prototype.readUInt32BE=function(e,t){return h(this,e,true,t)};n.prototype.readInt8=function(e,r){var n=this;var i;if(!r){t.ok(e!==undefined&&e!==null,"missing offset");t.ok(e<n.length,"Trying to read beyond buffer length")}if(e>=n.length)return;i=n[e]&128;if(!i){return n[e]}return(255-n[e]+1)*-1};function m(e,r,n,i){var a,o;if(!i){t.ok(typeof n==="boolean","missing or invalid endian");t.ok(r!==undefined&&r!==null,"missing offset");t.ok(r+1<e.length,"Trying to read beyond buffer length")}o=d(e,r,n,i);a=o&32768;if(!a){return o}return(65535-o+1)*-1}n.prototype.readInt16LE=function(e,t){return m(this,e,false,t)};n.prototype.readInt16BE=function(e,t){return m(this,e,true,t)};function y(e,r,n,i){var a,o;if(!i){t.ok(typeof n==="boolean","missing or invalid endian");t.ok(r!==undefined&&r!==null,"missing offset");t.ok(r+3<e.length,"Trying to read beyond buffer length")}o=h(e,r,n,i);a=o&2147483648;if(!a){return o}return(4294967295-o+1)*-1}n.prototype.readInt32LE=function(e,t){return y(this,e,false,t)};n.prototype.readInt32BE=function(e,t){return y(this,e,true,t)};function g(r,n,i,a){if(!a){t.ok(typeof i==="boolean","missing or invalid endian");t.ok(n+3<r.length,"Trying to read beyond buffer length")}return e("./buffer_ieee754").readIEEE754(r,n,i,23,4)}n.prototype.readFloatLE=function(e,t){return g(this,e,false,t)};n.prototype.readFloatBE=function(e,t){return g(this,e,true,t)};function v(r,n,i,a){if(!a){t.ok(typeof i==="boolean","missing or invalid endian");t.ok(n+7<r.length,"Trying to read beyond buffer length")}return e("./buffer_ieee754").readIEEE754(r,n,i,52,8)}n.prototype.readDoubleLE=function(e,t){return v(this,e,false,t)};n.prototype.readDoubleBE=function(e,t){return v(this,e,true,t)};function b(e,r){t.ok(typeof e=="number","cannot write a non-number as a number");t.ok(e>=0,"specified a negative value for writing an unsigned value");t.ok(e<=r,"value is larger than maximum value for type");t.ok(Math.floor(e)===e,"value has a fractional component")}n.prototype.writeUInt8=function(e,r,n){var i=this;if(!n){t.ok(e!==undefined&&e!==null,"missing value");t.ok(r!==undefined&&r!==null,"missing offset");t.ok(r<i.length,"trying to write beyond buffer length");b(e,255)}if(r<i.length){i[r]=e}};function w(e,r,n,i,a){if(!a){t.ok(r!==undefined&&r!==null,"missing value");t.ok(typeof i==="boolean","missing or invalid endian");t.ok(n!==undefined&&n!==null,"missing offset");t.ok(n+1<e.length,"trying to write beyond buffer length");b(r,65535)}for(var o=0;o<Math.min(e.length-n,2);o++){e[n+o]=(r&255<<8*(i?1-o:o))>>>(i?1-o:o)*8}}n.prototype.writeUInt16LE=function(e,t,r){w(this,e,t,false,r)};n.prototype.writeUInt16BE=function(e,t,r){w(this,e,t,true,r)};function x(e,r,n,i,a){if(!a){t.ok(r!==undefined&&r!==null,"missing value");t.ok(typeof i==="boolean","missing or invalid endian");t.ok(n!==undefined&&n!==null,"missing offset");t.ok(n+3<e.length,"trying to write beyond buffer length");b(r,4294967295)}for(var o=0;o<Math.min(e.length-n,4);o++){e[n+o]=r>>>(i?3-o:o)*8&255}}n.prototype.writeUInt32LE=function(e,t,r){x(this,e,t,false,r)};n.prototype.writeUInt32BE=function(e,t,r){x(this,e,t,true,r)};function E(e,r,n){t.ok(typeof e=="number","cannot write a non-number as a number");t.ok(e<=r,"value larger than maximum allowed value");t.ok(e>=n,"value smaller than minimum allowed value");t.ok(Math.floor(e)===e,"value has a fractional component")}function S(e,r,n){t.ok(typeof e=="number","cannot write a non-number as a number");t.ok(e<=r,"value larger than maximum allowed value");t.ok(e>=n,"value smaller than minimum allowed value")}n.prototype.writeInt8=function(e,r,n){var i=this;if(!n){t.ok(e!==undefined&&e!==null,"missing value");t.ok(r!==undefined&&r!==null,"missing offset");t.ok(r<i.length,"Trying to write beyond buffer length");E(e,127,-128)}if(e>=0){i.writeUInt8(e,r,n)}else{i.writeUInt8(255+e+1,r,n)}};function k(e,r,n,i,a){if(!a){t.ok(r!==undefined&&r!==null,"missing value");t.ok(typeof i==="boolean","missing or invalid endian");t.ok(n!==undefined&&n!==null,"missing offset");t.ok(n+1<e.length,"Trying to write beyond buffer length");E(r,32767,-32768)}if(r>=0){w(e,r,n,i,a)}else{w(e,65535+r+1,n,i,a)}}n.prototype.writeInt16LE=function(e,t,r){k(this,e,t,false,r)};n.prototype.writeInt16BE=function(e,t,r){k(this,e,t,true,r)};function A(e,r,n,i,a){if(!a){t.ok(r!==undefined&&r!==null,"missing value");t.ok(typeof i==="boolean","missing or invalid endian");t.ok(n!==undefined&&n!==null,"missing offset");t.ok(n+3<e.length,"Trying to write beyond buffer length");E(r,2147483647,-2147483648)}if(r>=0){x(e,r,n,i,a)}else{x(e,4294967295+r+1,n,i,a)}}n.prototype.writeInt32LE=function(e,t,r){A(this,e,t,false,r)};n.prototype.writeInt32BE=function(e,t,r){A(this,e,t,true,r)};function I(r,n,i,a,o){if(!o){t.ok(n!==undefined&&n!==null,"missing value");t.ok(typeof a==="boolean","missing or invalid endian");t.ok(i!==undefined&&i!==null,"missing offset");t.ok(i+3<r.length,"Trying to write beyond buffer length");S(n,3.4028234663852886e38,-3.4028234663852886e38)}e("./buffer_ieee754").writeIEEE754(r,n,i,a,23,4)}n.prototype.writeFloatLE=function(e,t,r){I(this,e,t,false,r)};n.prototype.writeFloatBE=function(e,t,r){I(this,e,t,true,r)};function L(r,n,i,a,o){if(!o){t.ok(n!==undefined&&n!==null,"missing value");t.ok(typeof a==="boolean","missing or invalid endian");t.ok(i!==undefined&&i!==null,"missing offset");t.ok(i+7<r.length,"Trying to write beyond buffer length");S(n,1.7976931348623157e308,-1.7976931348623157e308)}e("./buffer_ieee754").writeIEEE754(r,n,i,a,52,8)}n.prototype.writeDoubleLE=function(e,t,r){L(this,e,t,false,r)};n.prototype.writeDoubleBE=function(e,t,r){L(this,e,t,true,r)}}()},{"./buffer_ieee754":36,assert:32,"base64-js":38}],38:[function(e,t,r){!function(e){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function n(e){var t,n,i,a,o,s;if(e.length%4>0){throw"Invalid string. Length must be a multiple of 4"}o=e.indexOf("=");o=o>0?e.length-o:0;s=[];i=o>0?e.length-4:e.length;for(t=0,n=0;t<i;t+=4,n+=3){a=r.indexOf(e[t])<<18|r.indexOf(e[t+1])<<12|r.indexOf(e[t+2])<<6|r.indexOf(e[t+3]);s.push((a&16711680)>>16);s.push((a&65280)>>8);s.push(a&255)}if(o===2){a=r.indexOf(e[t])<<2|r.indexOf(e[t+1])>>4;s.push(a&255)}else if(o===1){a=r.indexOf(e[t])<<10|r.indexOf(e[t+1])<<4|r.indexOf(e[t+2])>>2;s.push(a>>8&255);s.push(a&255)}return s}function i(e){var t,n=e.length%3,i="",a,o;function s(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[e&63]}for(t=0,o=e.length-n;t<o;t+=3){a=(e[t]<<16)+(e[t+1]<<8)+e[t+2];i+=s(a)}switch(n){case 1:a=e[e.length-1];i+=r[a>>2];i+=r[a<<4&63];i+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1];i+=r[a>>10];i+=r[a>>4&63];i+=r[a<<2&63];i+="=";break}return i}t.exports.toByteArray=n;t.exports.fromByteArray=i}()},{}],39:[function(e,t,r){var n=t.exports={};n.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}if(t){var r=[];window.addEventListener("message",function(e){if(e.source===window&&e.data==="process-tick"){e.stopPropagation();if(r.length>0){var t=r.shift();t()}}},true);return function n(e){r.push(e);window.postMessage("process-tick","*")}}return function i(e){setTimeout(e,0)}}();n.title="browser";n.browser=true;n.env={};n.argv=[];n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],40:[function(e,t,r){!function(){!function(e,t){"use strict";if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof r!=="undefined"){t(r)}else{t(e.esprima={})}}(this,function(e){"use strict";var t,r,n,i,a,o,s,l,u,f,c,p,d,h,m;t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8};r={};r[t.BooleanLiteral]="Boolean";r[t.EOF]="<end>";r[t.Identifier]="Identifier";r[t.Keyword]="Keyword";r[t.NullLiteral]="Null";r[t.NumericLiteral]="Numeric";r[t.Punctuator]="Punctuator";r[t.StringLiteral]="String";n={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};i={Data:1,Get:2,Set:4};a={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};o={NonAsciiIdentifierStart:new RegExp("[---- ------------ ------ -    - -------------------- --------------- ----- --- --------------------- ------ ----------- ---- ---- -- ---  --------- ---- --------- ---------- ---------- --- ----- ------------------ ---------- ----- --  -  -  - ----- ----- ---- ----- ---------------------------]"),NonAsciiIdentifierPart:new RegExp("[---- --------------- -------- - - -------------------------------- ----------------------------- ---------- -------- --------------------- -------- ------ ------------ ---- ---- -- --- - -  -   ---- -------- - --------------- ---------- ------------ --- ----- -------- ----------- ---------------- -- --- --- ------ --- ----- -------------------- ------------]")};function y(e,t){if(!e){throw new Error("ASSERT: "+t)}}function g(e,t){return s.slice(e,t)}if(typeof"esprima"[0]==="undefined"){g=function xr(e,t){return s.slice(e,t).join("")}}function v(e){return"0123456789".indexOf(e)>=0}function b(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function w(e){return"01234567".indexOf(e)>=0}function x(e){return e===" "||e===" "||e===""||e==="\f"||e===" "||e.charCodeAt(0)>=5760&&" ".indexOf(e)>=0}function E(e){return e==="\n"||e==="\r"||e==="\u2028"||e==="\u2029"}function S(e){return e==="$"||e==="_"||e==="\\"||e>="a"&&e<="z"||e>="A"&&e<="Z"||e.charCodeAt(0)>=128&&o.NonAsciiIdentifierStart.test(e)}function k(e){return e==="$"||e==="_"||e==="\\"||e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e.charCodeAt(0)>=128&&o.NonAsciiIdentifierPart.test(e)}function A(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return true}return false}function I(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true}return false}function L(e){return e==="eval"||e==="arguments"}function C(e){var t=false;switch(e.length){case 2:t=e==="if"||e==="in"||e==="do";break;case 3:t=e==="var"||e==="for"||e==="new"||e==="try";break;case 4:t=e==="this"||e==="else"||e==="case"||e==="void"||e==="with";break;case 5:t=e==="while"||e==="break"||e==="catch"||e==="throw";break;case 6:t=e==="return"||e==="typeof"||e==="delete"||e==="switch";break;case 7:t=e==="default"||e==="finally";break;case 8:t=e==="function"||e==="continue"||e==="debugger";break;case 10:t=e==="instanceof";break}if(t){return true}switch(e){case"const":return true;case"yield":case"let":return true}if(l&&I(e)){return true}return A(e)}function O(){var e,t,r;t=false;r=false;while(u<p){e=s[u];if(r){e=s[u++];if(E(e)){r=false;if(e==="\r"&&s[u]==="\n"){++u}++f;c=u}}else if(t){if(E(e)){if(e==="\r"&&s[u+1]==="\n"){++u}++f;++u;c=u;if(u>=p){q({},a.UnexpectedToken,"ILLEGAL")}}else{e=s[u++];if(u>=p){q({},a.UnexpectedToken,"ILLEGAL")}if(e==="*"){e=s[u];if(e==="/"){++u;t=false}}}}else if(e==="/"){e=s[u+1];if(e==="/"){u+=2;r=true}else if(e==="*"){u+=2;t=true;if(u>=p){q({},a.UnexpectedToken,"ILLEGAL")}}else{break}}else if(x(e)){++u}else if(E(e)){++u;if(e==="\r"&&s[u]==="\n"){++u}++f;c=u}else{break}}}function N(e){var t,r,n,i=0;r=e==="u"?4:2;for(t=0;t<r;++t){if(u<p&&b(s[u])){n=s[u++];i=i*16+"0123456789abcdef".indexOf(n.toLowerCase())}else{return""}}return String.fromCharCode(i)}function j(){var e,r,n,i;e=s[u];if(!S(e)){return}r=u;if(e==="\\"){++u;if(s[u]!=="u"){return}++u;i=u;e=N("u");if(e){if(e==="\\"||!S(e)){return}n=e}else{u=i;n="u"}}else{n=s[u++]}while(u<p){e=s[u];if(!k(e)){break}if(e==="\\"){++u;if(s[u]!=="u"){return}++u;i=u;e=N("u");if(e){if(e==="\\"||!k(e)){return}n+=e}else{u=i;n+="u"}}else{n+=s[u++]}}if(n.length===1){return{type:t.Identifier,value:n,lineNumber:f,lineStart:c,range:[r,u]}}if(C(n)){return{type:t.Keyword,value:n,lineNumber:f,lineStart:c,range:[r,u]}}if(n==="null"){return{type:t.NullLiteral,value:n,lineNumber:f,lineStart:c,range:[r,u]}}if(n==="true"||n==="false"){return{type:t.BooleanLiteral,value:n,lineNumber:f,lineStart:c,range:[r,u]}}return{type:t.Identifier,value:n,lineNumber:f,lineStart:c,range:[r,u]}}function _(){var e=u,r=s[u],n,i,a;if(r===";"||r==="{"||r==="}"){++u;return{type:t.Punctuator,value:r,lineNumber:f,lineStart:c,range:[e,u]}}if(r===","||r==="("||r===")"){++u;return{type:t.Punctuator,value:r,lineNumber:f,lineStart:c,range:[e,u]}}n=s[u+1];if(r==="."&&!v(n)){return{type:t.Punctuator,value:s[u++],lineNumber:f,lineStart:c,range:[e,u]}}i=s[u+2];a=s[u+3];if(r===">"&&n===">"&&i===">"){if(a==="="){u+=4;return{type:t.Punctuator,value:">>>=",lineNumber:f,lineStart:c,range:[e,u]}}}if(r==="="&&n==="="&&i==="="){u+=3;return{type:t.Punctuator,value:"===",lineNumber:f,lineStart:c,range:[e,u]}}if(r==="!"&&n==="="&&i==="="){u+=3;return{type:t.Punctuator,value:"!==",lineNumber:f,lineStart:c,range:[e,u]}}if(r===">"&&n===">"&&i===">"){u+=3;return{type:t.Punctuator,value:">>>",lineNumber:f,lineStart:c,range:[e,u]}}if(r==="<"&&n==="<"&&i==="="){u+=3;return{type:t.Punctuator,value:"<<=",lineNumber:f,lineStart:c,range:[e,u]}}if(r===">"&&n===">"&&i==="="){u+=3;return{type:t.Punctuator,value:">>=",lineNumber:f,lineStart:c,range:[e,u]}}if(n==="="){if("<>=!+-*%&|^/".indexOf(r)>=0){u+=2;return{type:t.Punctuator,value:r+n,lineNumber:f,lineStart:c,range:[e,u]}}}if(r===n&&"+-<>&|".indexOf(r)>=0){if("+-<>&|".indexOf(n)>=0){u+=2;return{type:t.Punctuator,value:r+n,lineNumber:f,lineStart:c,range:[e,u]}}}if("[]<>+-*%&|^!~?:=/".indexOf(r)>=0){return{type:t.Punctuator,value:s[u++],lineNumber:f,lineStart:c,range:[e,u]}}}function F(){var e,r,n;n=s[u];y(v(n)||n===".","Numeric literal must start with a decimal digit or a decimal point");r=u;e="";if(n!=="."){e=s[u++];n=s[u];if(e==="0"){if(n==="x"||n==="X"){e+=s[u++];while(u<p){n=s[u];if(!b(n)){break}e+=s[u++]}if(e.length<=2){q({},a.UnexpectedToken,"ILLEGAL")}if(u<p){n=s[u];if(S(n)){q({},a.UnexpectedToken,"ILLEGAL")}}return{type:t.NumericLiteral,value:parseInt(e,16),lineNumber:f,lineStart:c,range:[r,u]}}else if(w(n)){e+=s[u++];while(u<p){n=s[u];if(!w(n)){break}e+=s[u++]}if(u<p){n=s[u];if(S(n)||v(n)){q({},a.UnexpectedToken,"ILLEGAL")}}return{type:t.NumericLiteral,value:parseInt(e,8),octal:true,lineNumber:f,lineStart:c,range:[r,u]}}if(v(n)){q({},a.UnexpectedToken,"ILLEGAL")}}while(u<p){n=s[u];if(!v(n)){break}e+=s[u++]}}if(n==="."){e+=s[u++];while(u<p){n=s[u];if(!v(n)){break}e+=s[u++]}}if(n==="e"||n==="E"){e+=s[u++];n=s[u];if(n==="+"||n==="-"){e+=s[u++]}n=s[u];if(v(n)){e+=s[u++];while(u<p){n=s[u];if(!v(n)){break}e+=s[u++]}}else{n="character "+n;if(u>=p){n="<end>"}q({},a.UnexpectedToken,"ILLEGAL")}}if(u<p){n=s[u];if(S(n)){q({},a.UnexpectedToken,"ILLEGAL")}}return{type:t.NumericLiteral,value:parseFloat(e),lineNumber:f,lineStart:c,range:[r,u]}}function P(){var e="",r,n,i,o,l,d,h=false;r=s[u];y(r==="'"||r==='"',"String literal must starts with a quote");n=u;++u;while(u<p){i=s[u++];if(i===r){r="";break}else if(i==="\\"){i=s[u++];if(!E(i)){switch(i){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+=" ";break;case"u":case"x":d=u;l=N(i);if(l){e+=l}else{u=d;e+=i}break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;default:if(w(i)){o="01234567".indexOf(i);if(o!==0){h=true}if(u<p&&w(s[u])){h=true;o=o*8+"01234567".indexOf(s[u++]);if("0123".indexOf(i)>=0&&u<p&&w(s[u])){o=o*8+"01234567".indexOf(s[u++])}}e+=String.fromCharCode(o)}else{e+=i}break}}else{++f;if(i==="\r"&&s[u]==="\n"){++u}}}else if(E(i)){break}else{e+=i}}if(r!==""){q({},a.UnexpectedToken,"ILLEGAL")}return{type:t.StringLiteral,value:e,octal:h,lineNumber:f,lineStart:c,range:[n,u]}}function U(){var e,t,r,n,i,o,l=false,f,c=false;d=null;O();r=u;t=s[u];y(t==="/","Regular expression literal must start with a slash");e=s[u++];while(u<p){t=s[u++];e+=t;if(l){if(t==="]"){l=false}}else{if(t==="\\"){t=s[u++];if(E(t)){q({},a.UnterminatedRegExp)}e+=t}else if(t==="/"){c=true;break}else if(t==="["){l=true}else if(E(t)){q({},a.UnterminatedRegExp)}}}if(!c){q({},a.UnterminatedRegExp)}n=e.substr(1,e.length-2);i="";while(u<p){t=s[u];if(!k(t)){break}++u;if(t==="\\"&&u<p){t=s[u];if(t==="u"){++u;f=u;t=N("u");if(t){i+=t;e+="\\u";for(;f<u;++f){e+=s[f]}}else{u=f;i+="u";e+="\\u"}}else{e+="\\"}}else{i+=t;e+=t}}try{o=new RegExp(n,i)}catch(h){q({},a.InvalidRegExp)}return{literal:e,value:o,range:[r,u]}}function D(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function T(){var e,r;O();if(u>=p){return{type:t.EOF,lineNumber:f,lineStart:c,range:[u,u]}}r=_();if(typeof r!=="undefined"){return r}e=s[u];if(e==="'"||e==='"'){return P()}if(e==="."||v(e)){return F()}r=j();if(typeof r!=="undefined"){return r}q({},a.UnexpectedToken,"ILLEGAL")}function M(){var e;if(d){u=d.range[1];f=d.lineNumber;c=d.lineStart;e=d;d=null;return e}d=null;return T()}function B(){var e,t,r;if(d!==null){return d}e=u;t=f;r=c;d=T();u=e;f=t;c=r;return d}function R(){var e,t,r,n;e=u;t=f;r=c;O();n=f!==t;u=e;f=t;c=r;return n}function q(e,t){var r,n=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return n[t]||""});if(typeof e.lineNumber==="number"){r=new Error("Line "+e.lineNumber+": "+i);r.index=e.range[0];r.lineNumber=e.lineNumber;r.column=e.range[0]-c+1}else{r=new Error("Line "+f+": "+i);r.index=u;r.lineNumber=f;r.column=u-c+1}throw r}function W(){try{q.apply(null,arguments)}catch(e){if(m.errors){m.errors.push(e)}else{throw e}}}function G(e){if(e.type===t.EOF){q(e,a.UnexpectedEOS)}if(e.type===t.NumericLiteral){q(e,a.UnexpectedNumber)}if(e.type===t.StringLiteral){q(e,a.UnexpectedString)}if(e.type===t.Identifier){q(e,a.UnexpectedIdentifier)}if(e.type===t.Keyword){if(A(e.value)){q(e,a.UnexpectedReserved)}else if(l&&I(e.value)){W(e,a.StrictReservedWord);return}q(e,a.UnexpectedToken,e.value)}q(e,a.UnexpectedToken,e.value)}function V(e){var r=M();if(r.type!==t.Punctuator||r.value!==e){G(r)}}function H(e){var r=M();if(r.type!==t.Keyword||r.value!==e){G(r)}}function Y(e){var r=B();return r.type===t.Punctuator&&r.value===e}function K(e){var r=B();return r.type===t.Keyword&&r.value===e}function J(){var e=B(),r=e.value;if(e.type!==t.Punctuator){return false}return r==="="||r==="*="||r==="/="||r==="%="||r==="+="||r==="-="||r==="<<="||r===">>="||r===">>>="||r==="&="||r==="^="||r==="|="}function z(){var e,r;if(s[u]===";"){M();return}r=f;O();if(f!==r){return}if(Y(";")){M();return}e=B();if(e.type!==t.EOF&&!Y("}")){G(e)}}function $(e){return e.type===n.Identifier||e.type===n.MemberExpression}function X(){var e=[];V("[");while(!Y("]")){if(Y(",")){M();e.push(null)}else{e.push(kt());if(!Y("]")){V(",")}}}V("]");return{type:n.ArrayExpression,elements:e}}function Z(e,t){var r,i;r=l;i=Xt();if(t&&l&&L(e[0].name)){W(t,a.StrictParamName)}l=r;return{type:n.FunctionExpression,id:null,params:e,defaults:[],body:i,rest:null,generator:false,expression:false}}function Q(){var e=M();if(e.type===t.StringLiteral||e.type===t.NumericLiteral){if(l&&e.octal){W(e,a.StrictOctalLiteral)}return ur(e)}return{type:n.Identifier,name:e.value}}function et(){var e,r,i,o;e=B();if(e.type===t.Identifier){i=Q();if(e.value==="get"&&!Y(":")){r=Q();V("(");V(")");return{type:n.Property,key:r,value:Z([]),kind:"get"}}else if(e.value==="set"&&!Y(":")){r=Q();V("(");e=B();if(e.type!==t.Identifier){V(")");W(e,a.UnexpectedToken,e.value);return{type:n.Property,key:r,value:Z([]),kind:"set"}}else{o=[Ct()];V(")");return{type:n.Property,key:r,value:Z(o,e),kind:"set"}}}else{V(":");return{type:n.Property,key:i,value:kt(),kind:"init"}}}else if(e.type===t.EOF||e.type===t.Punctuator){G(e)}else{r=Q();V(":");return{type:n.Property,key:r,value:kt(),kind:"init"}}}function tt(){var e=[],t,r,o,s={},u=String;V("{");while(!Y("}")){t=et();if(t.key.type===n.Identifier){r=t.key.name}else{r=u(t.key.value)}o=t.kind==="init"?i.Data:t.kind==="get"?i.Get:i.Set;if(Object.prototype.hasOwnProperty.call(s,r)){if(s[r]===i.Data){if(l&&o===i.Data){W({},a.StrictDuplicateProperty)}else if(o!==i.Data){W({},a.AccessorDataProperty)}}else{if(o===i.Data){W({},a.AccessorDataProperty)}else if(s[r]&o){W({},a.AccessorGetSet)}}s[r]|=o}else{s[r]=o}e.push(t);if(!Y("}")){V(",")}}V("}");return{type:n.ObjectExpression,properties:e}}function rt(){var e;V("(");e=At();V(")");return e}function nt(){var e=B(),r=e.type;if(r===t.Identifier){return{type:n.Identifier,name:M().value}}if(r===t.StringLiteral||r===t.NumericLiteral){if(l&&e.octal){W(e,a.StrictOctalLiteral)}return ur(M())}if(r===t.Keyword){if(K("this")){M();return{type:n.ThisExpression}}if(K("function")){return Qt()}}if(r===t.BooleanLiteral){M();e.value=e.value==="true";return ur(e)}if(r===t.NullLiteral){M();e.value=null;return ur(e)}if(Y("[")){return X()}if(Y("{")){return tt()}if(Y("(")){return rt()}if(Y("/")||Y("/=")){return ur(U())}return G(M())}function it(){var e=[];V("(");if(!Y(")")){while(u<p){e.push(kt());if(Y(")")){break}V(",")}}V(")");return e}function at(){var e=M();if(!D(e)){G(e)}return{type:n.Identifier,name:e.value}}function ot(){V(".");return at()}function st(){var e;V("[");e=At();V("]");return e}function lt(){var e;H("new");e={type:n.NewExpression,callee:ft(),arguments:[]};if(Y("(")){e["arguments"]=it()}return e}function ut(){var e;e=K("new")?lt():nt();while(Y(".")||Y("[")||Y("(")){if(Y("(")){e={type:n.CallExpression,callee:e,arguments:it()}}else if(Y("[")){e={type:n.MemberExpression,computed:true,object:e,property:st()}}else{e={type:n.MemberExpression,computed:false,object:e,property:ot()}}}return e}function ft(){var e;e=K("new")?lt():nt();while(Y(".")||Y("[")){if(Y("[")){e={type:n.MemberExpression,computed:true,object:e,property:st()}}else{e={type:n.MemberExpression,computed:false,object:e,property:ot()}}}return e}function ct(){var e=ut(),r;r=B();if(r.type!==t.Punctuator){return e}if((Y("++")||Y("--"))&&!R()){if(l&&e.type===n.Identifier&&L(e.name)){W({},a.StrictLHSPostfix)}if(!$(e)){q({},a.InvalidLHSInAssignment)}e={type:n.UpdateExpression,operator:M().value,argument:e,prefix:false}}return e}function pt(){var e,r;e=B();if(e.type!==t.Punctuator&&e.type!==t.Keyword){return ct()}if(Y("++")||Y("--")){e=M();r=pt();if(l&&r.type===n.Identifier&&L(r.name)){W({},a.StrictLHSPrefix)}if(!$(r)){q({},a.InvalidLHSInAssignment)}r={type:n.UpdateExpression,operator:e.value,argument:r,prefix:true};return r}if(Y("+")||Y("-")||Y("~")||Y("!")){r={type:n.UnaryExpression,operator:M().value,argument:pt(),prefix:true};return r}if(K("delete")||K("void")||K("typeof")){r={type:n.UnaryExpression,operator:M().value,argument:pt(),prefix:true};if(l&&r.operator==="delete"&&r.argument.type===n.Identifier){W({},a.StrictDelete)}return r}return ct()}function dt(){var e=pt();while(Y("*")||Y("/")||Y("%")){e={type:n.BinaryExpression,operator:M().value,left:e,right:pt()}}return e}function ht(){var e=dt();while(Y("+")||Y("-")){e={type:n.BinaryExpression,operator:M().value,left:e,right:dt()}}return e}function mt(){var e=ht();while(Y("<<")||Y(">>")||Y(">>>")){e={type:n.BinaryExpression,operator:M().value,left:e,right:ht()}}return e}function yt(){var e,t;t=h.allowIn;h.allowIn=true;e=mt();while(Y("<")||Y(">")||Y("<=")||Y(">=")||t&&K("in")||K("instanceof")){e={type:n.BinaryExpression,operator:M().value,left:e,right:mt()}
}h.allowIn=t;return e}function gt(){var e=yt();while(Y("==")||Y("!=")||Y("===")||Y("!==")){e={type:n.BinaryExpression,operator:M().value,left:e,right:yt()}}return e}function vt(){var e=gt();while(Y("&")){M();e={type:n.BinaryExpression,operator:"&",left:e,right:gt()}}return e}function bt(){var e=vt();while(Y("^")){M();e={type:n.BinaryExpression,operator:"^",left:e,right:vt()}}return e}function wt(){var e=bt();while(Y("|")){M();e={type:n.BinaryExpression,operator:"|",left:e,right:bt()}}return e}function xt(){var e=wt();while(Y("&&")){M();e={type:n.LogicalExpression,operator:"&&",left:e,right:wt()}}return e}function Et(){var e=xt();while(Y("||")){M();e={type:n.LogicalExpression,operator:"||",left:e,right:xt()}}return e}function St(){var e,t,r;e=Et();if(Y("?")){M();t=h.allowIn;h.allowIn=true;r=kt();h.allowIn=t;V(":");e={type:n.ConditionalExpression,test:e,consequent:r,alternate:kt()}}return e}function kt(){var e,t;e=B();t=St();if(J()){if(!$(t)){q({},a.InvalidLHSInAssignment)}if(l&&t.type===n.Identifier&&L(t.name)){W(e,a.StrictLHSAssignment)}t={type:n.AssignmentExpression,operator:M().value,left:t,right:kt()}}return t}function At(){var e=kt();if(Y(",")){e={type:n.SequenceExpression,expressions:[e]};while(u<p){if(!Y(",")){break}M();e.expressions.push(kt())}}return e}function It(){var e=[],t;while(u<p){if(Y("}")){break}t=er();if(typeof t==="undefined"){break}e.push(t)}return e}function Lt(){var e;V("{");e=It();V("}");return{type:n.BlockStatement,body:e}}function Ct(){var e=M();if(e.type!==t.Identifier){G(e)}return{type:n.Identifier,name:e.value}}function Ot(e){var t=Ct(),r=null;if(l&&L(t.name)){W({},a.StrictVarName)}if(e==="const"){V("=");r=kt()}else if(Y("=")){M();r=kt()}return{type:n.VariableDeclarator,id:t,init:r}}function Nt(e){var t=[];do{t.push(Ot(e));if(!Y(",")){break}M()}while(u<p);return t}function jt(){var e;H("var");e=Nt();z();return{type:n.VariableDeclaration,declarations:e,kind:"var"}}function _t(e){var t;H(e);t=Nt(e);z();return{type:n.VariableDeclaration,declarations:t,kind:e}}function Ft(){V(";");return{type:n.EmptyStatement}}function Pt(){var e=At();z();return{type:n.ExpressionStatement,expression:e}}function Ut(){var e,t,r;H("if");V("(");e=At();V(")");t=$t();if(K("else")){M();r=$t()}else{r=null}return{type:n.IfStatement,test:e,consequent:t,alternate:r}}function Dt(){var e,t,r;H("do");r=h.inIteration;h.inIteration=true;e=$t();h.inIteration=r;H("while");V("(");t=At();V(")");if(Y(";")){M()}return{type:n.DoWhileStatement,body:e,test:t}}function Tt(){var e,t,r;H("while");V("(");e=At();V(")");r=h.inIteration;h.inIteration=true;t=$t();h.inIteration=r;return{type:n.WhileStatement,test:e,body:t}}function Mt(){var e=M();return{type:n.VariableDeclaration,declarations:Nt(),kind:e.value}}function Bt(){var e,t,r,i,o,s,l;e=t=r=null;H("for");V("(");if(Y(";")){M()}else{if(K("var")||K("let")){h.allowIn=false;e=Mt();h.allowIn=true;if(e.declarations.length===1&&K("in")){M();i=e;o=At();e=null}}else{h.allowIn=false;e=At();h.allowIn=true;if(K("in")){if(!$(e)){q({},a.InvalidLHSInForIn)}M();i=e;o=At();e=null}}if(typeof i==="undefined"){V(";")}}if(typeof i==="undefined"){if(!Y(";")){t=At()}V(";");if(!Y(")")){r=At()}}V(")");l=h.inIteration;h.inIteration=true;s=$t();h.inIteration=l;if(typeof i==="undefined"){return{type:n.ForStatement,init:e,test:t,update:r,body:s}}return{type:n.ForInStatement,left:i,right:o,body:s,each:false}}function Rt(){var e,r=null;H("continue");if(s[u]===";"){M();if(!h.inIteration){q({},a.IllegalContinue)}return{type:n.ContinueStatement,label:null}}if(R()){if(!h.inIteration){q({},a.IllegalContinue)}return{type:n.ContinueStatement,label:null}}e=B();if(e.type===t.Identifier){r=Ct();if(!Object.prototype.hasOwnProperty.call(h.labelSet,r.name)){q({},a.UnknownLabel,r.name)}}z();if(r===null&&!h.inIteration){q({},a.IllegalContinue)}return{type:n.ContinueStatement,label:r}}function qt(){var e,r=null;H("break");if(s[u]===";"){M();if(!(h.inIteration||h.inSwitch)){q({},a.IllegalBreak)}return{type:n.BreakStatement,label:null}}if(R()){if(!(h.inIteration||h.inSwitch)){q({},a.IllegalBreak)}return{type:n.BreakStatement,label:null}}e=B();if(e.type===t.Identifier){r=Ct();if(!Object.prototype.hasOwnProperty.call(h.labelSet,r.name)){q({},a.UnknownLabel,r.name)}}z();if(r===null&&!(h.inIteration||h.inSwitch)){q({},a.IllegalBreak)}return{type:n.BreakStatement,label:r}}function Wt(){var e,r=null;H("return");if(!h.inFunctionBody){W({},a.IllegalReturn)}if(s[u]===" "){if(S(s[u+1])){r=At();z();return{type:n.ReturnStatement,argument:r}}}if(R()){return{type:n.ReturnStatement,argument:null}}if(!Y(";")){e=B();if(!Y("}")&&e.type!==t.EOF){r=At()}}z();return{type:n.ReturnStatement,argument:r}}function Gt(){var e,t;if(l){W({},a.StrictModeWith)}H("with");V("(");e=At();V(")");t=$t();return{type:n.WithStatement,object:e,body:t}}function Vt(){var e,t=[],r;if(K("default")){M();e=null}else{H("case");e=At()}V(":");while(u<p){if(Y("}")||K("default")||K("case")){break}r=$t();if(typeof r==="undefined"){break}t.push(r)}return{type:n.SwitchCase,test:e,consequent:t}}function Ht(){var e,t,r,i,o;H("switch");V("(");e=At();V(")");V("{");if(Y("}")){M();return{type:n.SwitchStatement,discriminant:e}}t=[];i=h.inSwitch;h.inSwitch=true;o=false;while(u<p){if(Y("}")){break}r=Vt();if(r.test===null){if(o){q({},a.MultipleDefaultsInSwitch)}o=true}t.push(r)}h.inSwitch=i;V("}");return{type:n.SwitchStatement,discriminant:e,cases:t}}function Yt(){var e;H("throw");if(R()){q({},a.NewlineAfterThrow)}e=At();z();return{type:n.ThrowStatement,argument:e}}function Kt(){var e;H("catch");V("(");if(Y(")")){G(B())}e=Ct();if(l&&L(e.name)){W({},a.StrictCatchVariable)}V(")");return{type:n.CatchClause,param:e,body:Lt()}}function Jt(){var e,t=[],r=null;H("try");e=Lt();if(K("catch")){t.push(Kt())}if(K("finally")){M();r=Lt()}if(t.length===0&&!r){q({},a.NoCatchOrFinally)}return{type:n.TryStatement,block:e,guardedHandlers:[],handlers:t,finalizer:r}}function zt(){H("debugger");z();return{type:n.DebuggerStatement}}function $t(){var e=B(),r,i;if(e.type===t.EOF){G(e)}if(e.type===t.Punctuator){switch(e.value){case";":return Ft();case"{":return Lt();case"(":return Pt();default:break}}if(e.type===t.Keyword){switch(e.value){case"break":return qt();case"continue":return Rt();case"debugger":return zt();case"do":return Dt();case"for":return Bt();case"function":return Zt();case"if":return Ut();case"return":return Wt();case"switch":return Ht();case"throw":return Yt();case"try":return Jt();case"var":return jt();case"while":return Tt();case"with":return Gt();default:break}}r=At();if(r.type===n.Identifier&&Y(":")){M();if(Object.prototype.hasOwnProperty.call(h.labelSet,r.name)){q({},a.Redeclaration,"Label",r.name)}h.labelSet[r.name]=true;i=$t();delete h.labelSet[r.name];return{type:n.LabeledStatement,label:r,body:i}}z();return{type:n.ExpressionStatement,expression:r}}function Xt(){var e,r=[],i,o,s,f,c,d,m;V("{");while(u<p){i=B();if(i.type!==t.StringLiteral){break}e=er();r.push(e);if(e.expression.type!==n.Literal){break}o=g(i.range[0]+1,i.range[1]-1);if(o==="use strict"){l=true;if(s){W(s,a.StrictOctalLiteral)}}else{if(!s&&i.octal){s=i}}}f=h.labelSet;c=h.inIteration;d=h.inSwitch;m=h.inFunctionBody;h.labelSet={};h.inIteration=false;h.inSwitch=false;h.inFunctionBody=true;while(u<p){if(Y("}")){break}e=er();if(typeof e==="undefined"){break}r.push(e)}V("}");h.labelSet=f;h.inIteration=c;h.inSwitch=d;h.inFunctionBody=m;return{type:n.BlockStatement,body:r}}function Zt(){var e,t,r=[],i,o,s,f,c,d,h;H("function");o=B();e=Ct();if(l){if(L(o.value)){W(o,a.StrictFunctionName)}}else{if(L(o.value)){f=o;c=a.StrictFunctionName}else if(I(o.value)){f=o;c=a.StrictReservedWord}}V("(");if(!Y(")")){h={};while(u<p){o=B();t=Ct();if(l){if(L(o.value)){s=o;c=a.StrictParamName}if(Object.prototype.hasOwnProperty.call(h,o.value)){s=o;c=a.StrictParamDupe}}else if(!f){if(L(o.value)){f=o;c=a.StrictParamName}else if(I(o.value)){f=o;c=a.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(h,o.value)){f=o;c=a.StrictParamDupe}}r.push(t);h[t.name]=true;if(Y(")")){break}V(",")}}V(")");d=l;i=Xt();if(l&&f){q(f,c)}if(l&&s){W(s,c)}l=d;return{type:n.FunctionDeclaration,id:e,params:r,defaults:[],body:i,rest:null,generator:false,expression:false}}function Qt(){var e,t=null,r,i,o,s,f=[],c,d,h;H("function");if(!Y("(")){e=B();t=Ct();if(l){if(L(e.value)){W(e,a.StrictFunctionName)}}else{if(L(e.value)){i=e;o=a.StrictFunctionName}else if(I(e.value)){i=e;o=a.StrictReservedWord}}}V("(");if(!Y(")")){h={};while(u<p){e=B();s=Ct();if(l){if(L(e.value)){r=e;o=a.StrictParamName}if(Object.prototype.hasOwnProperty.call(h,e.value)){r=e;o=a.StrictParamDupe}}else if(!i){if(L(e.value)){i=e;o=a.StrictParamName}else if(I(e.value)){i=e;o=a.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(h,e.value)){i=e;o=a.StrictParamDupe}}f.push(s);h[s.name]=true;if(Y(")")){break}V(",")}}V(")");d=l;c=Xt();if(l&&i){q(i,o)}if(l&&r){W(r,o)}l=d;return{type:n.FunctionExpression,id:t,params:f,defaults:[],body:c,rest:null,generator:false,expression:false}}function er(){var e=B();if(e.type===t.Keyword){switch(e.value){case"const":case"let":return _t(e.value);case"function":return Zt();default:return $t()}}if(e.type!==t.EOF){return $t()}}function tr(){var e,r=[],i,o,s;while(u<p){i=B();if(i.type!==t.StringLiteral){break}e=er();r.push(e);if(e.expression.type!==n.Literal){break}o=g(i.range[0]+1,i.range[1]-1);if(o==="use strict"){l=true;if(s){W(s,a.StrictOctalLiteral)}}else{if(!s&&i.octal){s=i}}}while(u<p){e=er();if(typeof e==="undefined"){break}r.push(e)}return r}function rr(){var e;l=false;e={type:n.Program,body:tr()};return e}function nr(e,t,r,n,i){y(typeof r==="number","Comment must have valid position");if(m.comments.length>0){if(m.comments[m.comments.length-1].range[1]>r){return}}m.comments.push({type:e,value:t,range:[r,n],loc:i})}function ir(){var e,t,r,n,i,o;e="";i=false;o=false;while(u<p){t=s[u];if(o){t=s[u++];if(E(t)){r.end={line:f,column:u-c-1};o=false;nr("Line",e,n,u-1,r);if(t==="\r"&&s[u]==="\n"){++u}++f;c=u;e=""}else if(u>=p){o=false;e+=t;r.end={line:f,column:p-c};nr("Line",e,n,p,r)}else{e+=t}}else if(i){if(E(t)){if(t==="\r"&&s[u+1]==="\n"){++u;e+="\r\n"}else{e+=t}++f;++u;c=u;if(u>=p){q({},a.UnexpectedToken,"ILLEGAL")}}else{t=s[u++];if(u>=p){q({},a.UnexpectedToken,"ILLEGAL")}e+=t;if(t==="*"){t=s[u];if(t==="/"){e=e.substr(0,e.length-1);i=false;++u;r.end={line:f,column:u-c};nr("Block",e,n,u,r);e=""}}}}else if(t==="/"){t=s[u+1];if(t==="/"){r={start:{line:f,column:u-c}};n=u;u+=2;o=true;if(u>=p){r.end={line:f,column:u-c};o=false;nr("Line",e,n,u,r)}}else if(t==="*"){n=u;u+=2;i=true;r={start:{line:f,column:u-c-2}};if(u>=p){q({},a.UnexpectedToken,"ILLEGAL")}}else{break}}else if(x(t)){++u}else if(E(t)){++u;if(t==="\r"&&s[u]==="\n"){++u}++f;c=u}else{break}}}function ar(){var e,t,r,n=[];for(e=0;e<m.comments.length;++e){t=m.comments[e];r={type:t.type,value:t.value};if(m.range){r.range=t.range}if(m.loc){r.loc=t.loc}n.push(r)}m.comments=n}function or(){var e,n,i,a,o;O();e=u;n={start:{line:f,column:u-c}};i=m.advance();n.end={line:f,column:u-c};if(i.type!==t.EOF){a=[i.range[0],i.range[1]];o=g(i.range[0],i.range[1]);m.tokens.push({type:r[i.type],value:o,range:a,loc:n})}return i}function sr(){var e,t,r,n;O();e=u;t={start:{line:f,column:u-c}};r=m.scanRegExp();t.end={line:f,column:u-c};if(m.tokens.length>0){n=m.tokens[m.tokens.length-1];if(n.range[0]===e&&n.type==="Punctuator"){if(n.value==="/"||n.value==="/="){m.tokens.pop()}}}m.tokens.push({type:"RegularExpression",value:r.literal,range:[e,u],loc:t});return r}function lr(){var e,t,r,n=[];for(e=0;e<m.tokens.length;++e){t=m.tokens[e];r={type:t.type,value:t.value};if(m.range){r.range=t.range}if(m.loc){r.loc=t.loc}n.push(r)}m.tokens=n}function ur(e){return{type:n.Literal,value:e.value}}function fr(e){return{type:n.Literal,value:e.value,raw:g(e.range[0],e.range[1])}}function cr(){var e={};e.range=[u,u];e.loc={start:{line:f,column:u-c},end:{line:f,column:u-c}};e.end=function(){this.range[1]=u;this.loc.end.line=f;this.loc.end.column=u-c};e.applyGroup=function(e){if(m.range){e.groupRange=[this.range[0],this.range[1]]}if(m.loc){e.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}}}};e.apply=function(e){if(m.range){e.range=[this.range[0],this.range[1]]}if(m.loc){e.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}}}};return e}function pr(){var e,t;O();e=cr();V("(");t=At();V(")");e.end();e.applyGroup(t);return t}function dr(){var e,t;O();e=cr();t=K("new")?lt():nt();while(Y(".")||Y("[")){if(Y("[")){t={type:n.MemberExpression,computed:true,object:t,property:st()};e.end();e.apply(t)}else{t={type:n.MemberExpression,computed:false,object:t,property:ot()};e.end();e.apply(t)}}return t}function hr(){var e,t;O();e=cr();t=K("new")?lt():nt();while(Y(".")||Y("[")||Y("(")){if(Y("(")){t={type:n.CallExpression,callee:t,arguments:it()};e.end();e.apply(t)}else if(Y("[")){t={type:n.MemberExpression,computed:true,object:t,property:st()};e.end();e.apply(t)}else{t={type:n.MemberExpression,computed:false,object:t,property:ot()};e.end();e.apply(t)}}return t}function mr(e){var t,r,n;t=Object.prototype.toString.apply(e)==="[object Array]"?[]:{};for(r in e){if(e.hasOwnProperty(r)&&r!=="groupRange"&&r!=="groupLoc"){n=e[r];if(n===null||typeof n!=="object"||n instanceof RegExp){t[r]=n}else{t[r]=mr(n)}}}return t}function yr(e,t){return function(r){function i(e){return e.type===n.LogicalExpression||e.type===n.BinaryExpression}function a(r){var n,o;if(i(r.left)){a(r.left)}if(i(r.right)){a(r.right)}if(e){if(r.left.groupRange||r.right.groupRange){n=r.left.groupRange?r.left.groupRange[0]:r.left.range[0];o=r.right.groupRange?r.right.groupRange[1]:r.right.range[1];r.range=[n,o]}else if(typeof r.range==="undefined"){n=r.left.range[0];o=r.right.range[1];r.range=[n,o]}}if(t){if(r.left.groupLoc||r.right.groupLoc){n=r.left.groupLoc?r.left.groupLoc.start:r.left.loc.start;o=r.right.groupLoc?r.right.groupLoc.end:r.right.loc.end;r.loc={start:n,end:o}}else if(typeof r.loc==="undefined"){r.loc={start:r.left.loc.start,end:r.right.loc.end}}}}return function(){var n,o;O();n=cr();o=r.apply(null,arguments);n.end();if(e&&typeof o.range==="undefined"){n.apply(o)}if(t&&typeof o.loc==="undefined"){n.apply(o)}if(i(o)){a(o)}return o}}}function gr(){var e;if(m.comments){m.skipComment=O;O=ir}if(m.raw){m.createLiteral=ur;ur=fr}if(m.range||m.loc){m.parseGroupExpression=rt;m.parseLeftHandSideExpression=ft;m.parseLeftHandSideExpressionAllowCall=ut;rt=pr;ft=dr;ut=hr;e=yr(m.range,m.loc);m.parseAdditiveExpression=ht;m.parseAssignmentExpression=kt;m.parseBitwiseANDExpression=vt;m.parseBitwiseORExpression=wt;m.parseBitwiseXORExpression=bt;m.parseBlock=Lt;m.parseFunctionSourceElements=Xt;m.parseCatchClause=Kt;m.parseComputedMember=st;m.parseConditionalExpression=St;m.parseConstLetDeclaration=_t;m.parseEqualityExpression=gt;m.parseExpression=At;m.parseForVariableDeclaration=Mt;m.parseFunctionDeclaration=Zt;m.parseFunctionExpression=Qt;m.parseLogicalANDExpression=xt;m.parseLogicalORExpression=Et;m.parseMultiplicativeExpression=dt;m.parseNewExpression=lt;m.parseNonComputedProperty=at;m.parseObjectProperty=et;m.parseObjectPropertyKey=Q;m.parsePostfixExpression=ct;m.parsePrimaryExpression=nt;m.parseProgram=rr;m.parsePropertyFunction=Z;m.parseRelationalExpression=yt;m.parseStatement=$t;m.parseShiftExpression=mt;m.parseSwitchCase=Vt;m.parseUnaryExpression=pt;m.parseVariableDeclaration=Ot;m.parseVariableIdentifier=Ct;ht=e(m.parseAdditiveExpression);kt=e(m.parseAssignmentExpression);vt=e(m.parseBitwiseANDExpression);wt=e(m.parseBitwiseORExpression);bt=e(m.parseBitwiseXORExpression);Lt=e(m.parseBlock);Xt=e(m.parseFunctionSourceElements);Kt=e(m.parseCatchClause);st=e(m.parseComputedMember);St=e(m.parseConditionalExpression);_t=e(m.parseConstLetDeclaration);gt=e(m.parseEqualityExpression);At=e(m.parseExpression);Mt=e(m.parseForVariableDeclaration);Zt=e(m.parseFunctionDeclaration);Qt=e(m.parseFunctionExpression);ft=e(ft);xt=e(m.parseLogicalANDExpression);Et=e(m.parseLogicalORExpression);dt=e(m.parseMultiplicativeExpression);lt=e(m.parseNewExpression);at=e(m.parseNonComputedProperty);et=e(m.parseObjectProperty);Q=e(m.parseObjectPropertyKey);ct=e(m.parsePostfixExpression);nt=e(m.parsePrimaryExpression);rr=e(m.parseProgram);Z=e(m.parsePropertyFunction);yt=e(m.parseRelationalExpression);$t=e(m.parseStatement);mt=e(m.parseShiftExpression);Vt=e(m.parseSwitchCase);pt=e(m.parseUnaryExpression);Ot=e(m.parseVariableDeclaration);Ct=e(m.parseVariableIdentifier)}if(typeof m.tokens!=="undefined"){m.advance=T;m.scanRegExp=U;T=or;U=sr}}function vr(){if(typeof m.skipComment==="function"){O=m.skipComment}if(m.raw){ur=m.createLiteral}if(m.range||m.loc){ht=m.parseAdditiveExpression;kt=m.parseAssignmentExpression;vt=m.parseBitwiseANDExpression;wt=m.parseBitwiseORExpression;bt=m.parseBitwiseXORExpression;Lt=m.parseBlock;Xt=m.parseFunctionSourceElements;Kt=m.parseCatchClause;st=m.parseComputedMember;St=m.parseConditionalExpression;_t=m.parseConstLetDeclaration;gt=m.parseEqualityExpression;At=m.parseExpression;Mt=m.parseForVariableDeclaration;Zt=m.parseFunctionDeclaration;Qt=m.parseFunctionExpression;rt=m.parseGroupExpression;ft=m.parseLeftHandSideExpression;ut=m.parseLeftHandSideExpressionAllowCall;xt=m.parseLogicalANDExpression;Et=m.parseLogicalORExpression;dt=m.parseMultiplicativeExpression;lt=m.parseNewExpression;at=m.parseNonComputedProperty;et=m.parseObjectProperty;Q=m.parseObjectPropertyKey;nt=m.parsePrimaryExpression;ct=m.parsePostfixExpression;rr=m.parseProgram;Z=m.parsePropertyFunction;yt=m.parseRelationalExpression;$t=m.parseStatement;mt=m.parseShiftExpression;Vt=m.parseSwitchCase;pt=m.parseUnaryExpression;Ot=m.parseVariableDeclaration;Ct=m.parseVariableIdentifier}if(typeof m.scanRegExp==="function"){T=m.advance;U=m.scanRegExp}}function br(e){var t=e.length,r=[],n;for(n=0;n<t;++n){r[n]=e.charAt(n)}return r}function wr(e,t){var r,n;n=String;if(typeof e!=="string"&&!(e instanceof String)){e=n(e)}s=e;u=0;f=s.length>0?1:0;c=0;p=s.length;d=null;h={allowIn:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false};m={};if(typeof t!=="undefined"){m.range=typeof t.range==="boolean"&&t.range;m.loc=typeof t.loc==="boolean"&&t.loc;m.raw=typeof t.raw==="boolean"&&t.raw;if(typeof t.tokens==="boolean"&&t.tokens){m.tokens=[]}if(typeof t.comment==="boolean"&&t.comment){m.comments=[]}if(typeof t.tolerant==="boolean"&&t.tolerant){m.errors=[]}}if(p>0){if(typeof s[0]==="undefined"){if(e instanceof String){s=e.valueOf()}if(typeof s[0]==="undefined"){s=br(e)}}}gr();try{r=rr();if(typeof m.comments!=="undefined"){ar();r.comments=m.comments}if(typeof m.tokens!=="undefined"){lr();r.tokens=m.tokens}if(typeof m.errors!=="undefined"){r.errors=m.errors}if(m.range||m.loc){r.body=mr(r.body)}}catch(i){throw i}finally{vr();m={}}return r}e.version="1.0.3";e.parse=wr;e.Syntax=function(){var e,t={};if(typeof Object.create==="function"){t=Object.create(null)}for(e in n){if(n.hasOwnProperty(e)){t[e]=n[e]}}if(typeof Object.freeze==="function"){Object.freeze(t)}return t}()})}()},{}],"./index":[function(e,t,r){t.exports=e("V0zL+M")},{}]},{},[]);return require("./index")}();"use strict";YUI.add("ns-routing-app-extension",function(Y){Y.Router._parseQuery=Y.QueryString.parse;function _trim(s,char,leading,trailing){if(Y.Lang.isArray(s)&&s.length===1){s=s[0]}while(leading&&s&&s.indexOf(char)===0){s=s.slice(1,s.length)}while(trailing&&s&&s.lastIndexOf(char)===s.length-1){s=s.slice(0,s.length-1)}return s}function trim(s,char){return _trim(s,char,true,true)}function rtrim(s,char){return _trim(s,char,false,true)}function ltrim(s,char){return _trim(s,char,true,false)}function pairs(o){var result=[],keys=Y.Object.keys(o).sort();Y.each(keys,function(k){result.push([k,o[k]])});return result}var Routes=function(){function Routes(){return Object.create(this,{defaultNamespacePresent:{enumerable:false,writable:true},hash:{enumerable:false,writable:true},search:{enumerable:false,writable:true},pairs:{enumable:false,value:function(){return pairs(this)}}})}return Routes}();var _Router={_fragment:/\/?(:\w+\:)/,_regexUrlOrigin:/^(?:[^\/#?:]+:\/\/|\/\/)[^\/]*/,defaultNamespace:"default",getQS:function(url){var qs=url.split("?")[1];if(qs){var hashIndex=qs.indexOf("#");if(hashIndex!==-1){qs=qs.substr(0,hashIndex)}}return qs},getHash:function(url){var match=url.match("(#)(.[^?/]*)?");if(!match){return undefined}return match[2]},split:function(url){var result={href:url};var origin=this._regexUrlOrigin.exec(url);result.hash=this.getHash(url);result.search=this.getQS(url);if(origin){result.origin=origin=origin[0];result.pathname=url.substr(origin.length)}else{result.pathname=url}if(result.search){result.pathname=result.pathname.replace("?"+result.search,"")}if(result.hash){result.pathname=result.pathname.replace("#"+result.hash,"")}return result},parse:function(url,combineFlags){combineFlags=Y.mix(this.combineFlags||{},combineFlags,true);var result=new Routes;var parts=this.split(url);url=parts.pathname;result.hash=parts.hash;result.search=parts.search;parts=url.split(this._fragment);if(parts[0]){parts[0]=rtrim(parts[0],"/")+"/";result[this.defaultNamespace]=parts[0];result.defaultNamespacePresent=true}else{result[this.defaultNamespace]="/"}for(var i=1;i<parts.length;i+=2){var ns=trim(parts[i],":"),val="/";if(i+1>parts.length){console.log("URL namespace without path")}else{val=parts[i+1]}if(result[ns]!==undefined){if(combineFlags===true||combineFlags&&combineFlags[ns]===true){result[ns]=[result[ns]]}else{console.log("URL has more than one reference to same namespace")}}if(ns===this.defaultNamespace){result.defaultNamespacePresent=true}var cleanURL=rtrim(val,"/")+"/";if(Y.Lang.isArray(result[ns])){result[ns].push(cleanURL)}else{result[ns]=cleanURL}}return result},url:function(components,options){var base=Y.mix({},components);var url="/";options=options||{};function slash(u){if(u.lastIndexOf("/")!==u.length-1){u+="/"}return u}if(base[this.defaultNamespace]){url+=trim(base[this.defaultNamespace],"/");delete base[this.defaultNamespace]}var keys=Y.Object.keys(base).sort();Y.each(keys,function(ns){url=slash(url);var bases;if(Y.Lang.isArray(base[ns])){bases=base[ns]}else{bases=[base[ns]]}Y.Array.each(bases,function(frag){if(!(frag==="/"&&options.excludeRootPaths)){url+=":"+ns+":"+frag}})});url=slash(url);if(components.search){url+="?"+components.search}if(components.hash){url+="#"+components.hash}return url},combine:function(orig,incoming,combineFlags){var url;combineFlags=Y.mix(this.combineFlags||{},combineFlags,true);if(Y.Lang.isString(orig)){orig=this.parse(orig)}if(Y.Lang.isString(incoming)){incoming=this.parse(incoming)}if(!incoming.defaultNamespacePresent){delete incoming[this.defaultNamespace]}var output=new Routes;Y.each(orig,function(v,k){if(v&&!Y.Lang.isArray(v)){v=[v]}output[k]=v});Y.Array.each(Y.Object.keys(incoming),function(ns){var current=output[ns];var merge=combineFlags===true||combineFlags&&combineFlags[ns]===true;if(!current){current=[]}var next=incoming[ns];if(!Y.Lang.isArray(next)){next=[next]}Y.Array.each(next,function(u){if(merge){output[ns].push(u)}else{output[ns]=[u]}})});output.hash=incoming.hash;output.search=incoming.search;url=this.url(output,{excludeRootPaths:true});return url}};function NSRouter(){this.nsRouter=Y.namespace("juju").Router(this.defaultNamespace)}NSRouter.ATTRS={};NSRouter.prototype={defaultNamespace:"",_routeStateTracker:function(req,res,next){var seen=this._routeSeen,callbackId=req.callbackId;if(callbackId&&seen[callbackId]){next("route")}next();seen[callbackId]=true},_navigate:function(url,options){var result;if(options&&options.overrideAllNamespaces){result=url;delete options.overrideAllNamespaces}else{var loc=Y.getLocation();result=this.nsRouter.combine(loc.pathname,url)}if(Y.App.prototype._navigate.call(this,result,options)){return true}return false},_dispatch:function(path,url,src){var self=this,routes,callbacks=[],namespaces=[],matches,req,res,parts;self._dispatching=self._dispatched=true;parts=this.nsRouter.split(path);namespaces=this.nsRouter.parse(parts.pathname);this._routeSeen={};Y.each(namespaces,function(fragmentSet,namespace){if(!Y.Lang.isArray(fragmentSet)){fragmentSet=[fragmentSet]}Y.each(fragmentSet,function(fragment){routes=self.match(fragment,namespace);if(!routes||!routes.length){self._dispatching=false;return self}req=self._getRequest(fragment,url,src);res=self._getResponse(req);req.next=function(err){var subApp,callback,route,callingContext;if(err){if(err==="route"){callbacks=[];req.next()}else{Y.error(err)}}else if(callback=callbacks.shift()){if(typeof callback==="string"){subApp=self.get("subApps")[namespace];if(subApp&&typeof subApp[callback]==="function"){callback=subApp[callback];callingContext=subApp;subApp.verifyRendered()}else if(typeof self[callback]==="function"){callback=self[callback];callingContext=self}else{console.error("Callback function `",callback,"` does not exist under the namespace `",namespace,"` at the path `",path,"`.")}}req.pendingCallbacks=callbacks.length;req.callbackId=Y.stamp(callback,true);callback.call(callingContext,req,res,req.next)}else if(route=routes.shift()){callbacks=route.callbacks.concat();matches=route.regex.exec(fragment);if(matches.length===route.keys.length+1){req.params=Y.Array.hash(route.keys,matches.slice(1))}else{req.params=matches.concat()}req.pendingRoutes=routes.length;req.next()}};req.next()})});self._dispatching=false;return self._dequeue()},match:function(path,namespace){var defaultNS=this.defaultNamespace;if(!namespace){namespace=defaultNS}return Y.Array.filter(this._routes,function(route){var routeNS=route.namespace||defaultNS;if(path.search(route.regex)>-1){if(routeNS===namespace){return true}}return false},this)},_setRoutes:function(routes){this._routes=[];Y.Array.each(routes,function(route){var callbacks=route.callbacks||route.callback;if(!Y.Lang.isArray(callbacks)){callbacks=[callbacks]}Y.Array.each(callbacks,function(cb){Y.stamp(cb)});if(callbacks[0]!=="_routeStateTracker"){callbacks.unshift("_routeStateTracker")}route.callbacks=callbacks.concat();this.route(route.path,route.callbacks,route)},this);return this._routes.concat()},route:function(path,callbacks,options){callbacks=Y.Array(callbacks);var keys=[];var routeData=Y.mix({callbacks:callbacks,keys:keys,path:path,regex:this._getRegex(path,keys),callback:callbacks[0]},options);this._routes.push(routeData);return this}};Y.namespace("juju").Router=function(defaultNamespace,combineFlags){var r=Object.create(_Router);r.defaultNamespace=defaultNamespace;r.combineFlags=combineFlags;return r};Y.namespace("juju").NSRouter=NSRouter},"0.1.0",{requires:["querystring-parse","oop","router"]});YUI.add("prettify",function(Y){!function(){var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;(function(){function S(a){function d(e){var b=e.charCodeAt(0);if(b!==92)return b;var a=e.charAt(1);return(b=r[a])?b:"0"<=a&&a<="7"?parseInt(e.substring(1),8):a==="u"||a==="x"?parseInt(e.substring(2),16):e.charCodeAt(1)}function g(e){if(e<32)return(e<16?"\\x0":"\\x")+e.toString(16);e=String.fromCharCode(e);return e==="\\"||e==="-"||e==="]"||e==="^"?"\\"+e:e}function b(e){var b=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],a=b[0]==="^",c=["["];a&&c.push("^");for(var a=a?1:0,f=b.length;a<f;++a){var h=b[a];if(/\\[bdsw]/i.test(h))c.push(h);else{var h=d(h),l;a+2<f&&"-"===b[a+1]?(l=d(b[a+2]),a+=2):l=h;e.push([h,l]);l<65||h>122||(l<65||h>90||e.push([Math.max(65,h)|32,Math.min(l,90)|32]),l<97||h>122||e.push([Math.max(97,h)&-33,Math.min(l,122)&-33]))}}e.sort(function(e,a){return e[0]-a[0]||a[1]-e[1]});b=[];f=[];for(a=0;a<e.length;++a)h=e[a],h[0]<=f[1]+1?f[1]=Math.max(f[1],h[1]):b.push(f=h);for(a=0;a<b.length;++a)h=b[a],c.push(g(h[0])),h[1]>h[0]&&(h[1]+1>h[0]&&c.push("-"),c.push(g(h[1])));c.push("]");return c.join("")}function s(e){for(var a=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),c=a.length,d=[],f=0,h=0;f<c;++f){var l=a[f];l==="("?++h:"\\"===l.charAt(0)&&(l=+l.substring(1))&&(l<=h?d[l]=-1:a[f]=g(l))}for(f=1;f<d.length;++f)-1===d[f]&&(d[f]=++x);for(h=f=0;f<c;++f)l=a[f],l==="("?(++h,d[h]||(a[f]="(?:")):"\\"===l.charAt(0)&&(l=+l.substring(1))&&l<=h&&(a[f]="\\"+d[l]);for(f=0;f<c;++f)"^"===a[f]&&"^"!==a[f+1]&&(a[f]="");if(e.ignoreCase&&m)for(f=0;f<c;++f)l=a[f],e=l.charAt(0),l.length>=2&&e==="["?a[f]=b(l):e!=="\\"&&(a[f]=l.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return a.join("")}for(var x=0,m=!1,j=!1,k=0,c=a.length;k<c;++k){var i=a[k];if(i.ignoreCase)j=!0;else if(/[a-z]/i.test(i.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){m=!0;j=!1;break}}for(var r={b:8,t:9,n:10,v:11,f:12,r:13},n=[],k=0,c=a.length;k<c;++k){i=a[k];if(i.global||i.multiline)throw Error(""+i);n.push("(?:"+s(i)+")")}return RegExp(n.join("|"),j?"gi":"g")}function T(a,d){function g(a){var c=a.nodeType;if(c==1){if(!b.test(a.className)){for(c=a.firstChild;c;c=c.nextSibling)g(c);c=a.nodeName.toLowerCase();if("br"===c||"li"===c)s[j]="\n",m[j<<1]=x++,m[j++<<1|1]=a}}else if(c==3||c==4)c=a.nodeValue,c.length&&(c=d?c.replace(/\r\n?/g,"\n"):c.replace(/[\t\n\r ]+/g," "),s[j]=c,m[j<<1]=x,x+=c.length,m[j++<<1|1]=a)}var b=/(?:^|\s)nocode(?:\s|$)/,s=[],x=0,m=[],j=0;g(a);return{a:s.join("").replace(/\n$/,""),d:m}}function H(a,d,g,b){d&&(a={a:d,e:a},g(a),b.push.apply(b,a.g))}function U(a){for(var d=void 0,g=a.firstChild;g;g=g.nextSibling)var b=g.nodeType,d=b===1?d?a:g:b===3?V.test(g.nodeValue)?a:d:d;return d===a?void 0:d}function C(a,d){function g(a){for(var j=a.e,k=[j,"pln"],c=0,i=a.a.match(s)||[],r={},n=0,e=i.length;n<e;++n){var z=i[n],w=r[z],t=void 0,f;if(typeof w==="string")f=!1;else{var h=b[z.charAt(0)];if(h)t=z.match(h[1]),w=h[0];else{for(f=0;f<x;++f)if(h=d[f],t=z.match(h[1])){w=h[0];break}t||(w="pln")}if((f=w.length>=5&&"lang-"===w.substring(0,5))&&!(t&&typeof t[1]==="string"))f=!1,w="src";f||(r[z]=w)}h=c;c+=z.length;if(f){f=t[1];var l=z.indexOf(f),B=l+f.length;t[2]&&(B=z.length-t[2].length,l=B-f.length);w=w.substring(5);H(j+h,z.substring(0,l),g,k);H(j+h+l,f,I(w,f),k);H(j+h+B,z.substring(B),g,k)}else k.push(j+h,w)}a.g=k}var b={},s;(function(){for(var g=a.concat(d),j=[],k={},c=0,i=g.length;c<i;++c){var r=g[c],n=r[3];if(n)for(var e=n.length;--e>=0;)b[n.charAt(e)]=r;r=r[1];n=""+r;k.hasOwnProperty(n)||(j.push(r),k[n]=q)}j.push(/[\S\s]/);s=S(j)})();var x=d.length;return g}function v(a){var d=[],g=[];a.tripleQuotedStrings?d.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?d.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):d.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]);a.verbatimStrings&&g.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var b=a.hashComments;b&&(a.cStyleComments?(b>1?d.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):d.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),g.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,q])):d.push(["com",/^#[^\n\r]*/,q,"#"]));a.cStyleComments&&(g.push(["com",/^\/\/[^\n\r]*/,q]),g.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q]));if(b=a.regexLiterals){var s=(b=b>1?"":"\n\r")?".":"[\\S\\s]";g.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+("/(?=[^/*"+b+"])(?:[^/\\x5B\\x5C"+b+"]|\\x5C"+s+"|\\x5B(?:[^\\x5C\\x5D"+b+"]|\\x5C"+s+")*(?:\\x5D|$))+/")+")")])}(b=a.types)&&g.push(["typ",b]);b=(""+a.keywords).replace(/^ | $/g,"");b.length&&g.push(["kwd",RegExp("^(?:"+b.replace(/[\s,]+/g,"|")+")\\b"),q]);d.push(["pln",/^\s+/,q," \r\n  "]);b="^.[^\\s\\w.$@'\"`/\\\\]*";
a.regexLiterals&&(b+="(?!s*/)");g.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",RegExp(b),q]);return C(d,g)}function J(a,d,g){function b(a){var c=a.nodeType;if(c==1&&!x.test(a.className))if("br"===a.nodeName)s(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)b(a);else if((c==3||c==4)&&g){var d=a.nodeValue,i=d.match(m);if(i)c=d.substring(0,i.index),a.nodeValue=c,(d=d.substring(i.index+i[0].length))&&a.parentNode.insertBefore(j.createTextNode(d),a.nextSibling),s(a),c||a.parentNode.removeChild(a)}}function s(a){function b(a,c){var d=c?a.cloneNode(!1):a,e=a.parentNode;if(e){var e=b(e,1),g=a.nextSibling;e.appendChild(d);for(var i=g;i;i=g)g=i.nextSibling,e.appendChild(i)}return d}for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),d;(d=a.parentNode)&&d.nodeType===1;)a=d;c.push(a)}for(var x=/(?:^|\s)nocode(?:\s|$)/,m=/\r\n?|\n/,j=a.ownerDocument,k=j.createElement("li");a.firstChild;)k.appendChild(a.firstChild);for(var c=[k],i=0;i<c.length;++i)b(c[i]);d===(d|0)&&c[0].setAttribute("value",d);var r=j.createElement("ol");r.className="linenums";for(var d=Math.max(0,d-1|0)||0,i=0,n=c.length;i<n;++i)k=c[i],k.className="L"+(i+d)%10,k.firstChild||k.appendChild(j.createTextNode(" ")),r.appendChild(k);a.appendChild(r)}function p(a,d){for(var g=d.length;--g>=0;){var b=d[g];F.hasOwnProperty(b)?D.console&&console.warn("cannot override language handler %s",b):F[b]=a}}function I(a,d){if(!a||!F.hasOwnProperty(a))a=/^\s*</.test(d)?"default-markup":"default-code";return F[a]}function K(a){var d=a.h;try{var g=T(a.c,a.i),b=g.a;a.a=b;a.d=g.d;a.e=0;I(d,b)(a);var s=/\bMSIE\s(\d+)/.exec(navigator.userAgent),s=s&&+s[1]<=8,d=/\n/g,x=a.a,m=x.length,g=0,j=a.d,k=j.length,b=0,c=a.g,i=c.length,r=0;c[i]=m;var n,e;for(e=n=0;e<i;)c[e]!==c[e+2]?(c[n++]=c[e++],c[n++]=c[e++]):e+=2;i=n;for(e=n=0;e<i;){for(var p=c[e],w=c[e+1],t=e+2;t+2<=i&&c[t+1]===w;)t+=2;c[n++]=p;c[n++]=w;e=t}c.length=n;var f=a.c,h;if(f)h=f.style.display,f.style.display="none";try{for(;b<k;){var l=j[b+2]||m,B=c[r+2]||m,t=Math.min(l,B),A=j[b+1],G;if(A.nodeType!==1&&(G=x.substring(g,t))){s&&(G=G.replace(d,"\r"));A.nodeValue=G;var L=A.ownerDocument,o=L.createElement("span");o.className=c[r+1];var v=A.parentNode;v.replaceChild(o,A);o.appendChild(A);g<l&&(j[b+1]=A=L.createTextNode(x.substring(t,l)),v.insertBefore(A,o.nextSibling))}g=t;g>=l&&(b+=2);g>=B&&(r+=2)}}finally{if(f)f.style.display=h}}catch(u){D.console&&console.log(u&&u.stack||u)}}var D=window,y=["break,continue,do,else,for,if,return,while"],E=[[y,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],M=[E,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],N=[E,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],O=[N,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],E=[E,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],P=[y,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],Q=[y,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],W=[y,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],y=[y,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],R=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,V=/\S/,X=v({keywords:[M,O,E,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",P,Q,y],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),F={};p(X,["default-code"]);p(C([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);p(C([["pln",/^\s+/,q,"  \r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);p(C([],[["atv",/^[\S\s]+/]]),["uq.val"]);p(v({keywords:M,hashComments:!0,cStyleComments:!0,types:R}),["c","cc","cpp","cxx","cyc","m"]);p(v({keywords:"null,true,false"}),["json"]);p(v({keywords:O,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:R}),["cs"]);p(v({keywords:N,cStyleComments:!0}),["java"]);p(v({keywords:y,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]);p(v({keywords:P,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]);p(v({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]);p(v({keywords:Q,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]);p(v({keywords:E,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]);p(v({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);p(v({keywords:W,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]);p(C([],[["str",/^[\S\s]+/]]),["regex"]);var Y=D.PR={createSimpleLexer:C,registerLangHandler:p,sourceDecorator:v,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:D.prettyPrintOne=function(a,d,g){var b=document.createElement("div");b.innerHTML="<pre>"+a+"</pre>";b=b.firstChild;g&&J(b,g,!0);K({h:d,j:g,c:b,i:1});return b.innerHTML},prettyPrint:D.prettyPrint=function(a,d){function g(){for(var b=D.PR_SHOULD_USE_CONTINUATION?c.now()+250:Infinity;i<p.length&&c.now()<b;i++){for(var d=p[i],j=h,k=d;k=k.previousSibling;){var m=k.nodeType,o=(m===7||m===8)&&k.nodeValue;if(o?!/^\??prettify\b/.test(o):m!==3||/\S/.test(k.nodeValue))break;if(o){j={};o.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(a,b,c){j[b]=c});break}}k=d.className;if((j!==h||e.test(k))&&!v.test(k)){m=!1;for(o=d.parentNode;o;o=o.parentNode)if(f.test(o.tagName)&&o.className&&e.test(o.className)){m=!0;break}if(!m){d.className+=" prettyprinted";m=j.lang;if(!m){var m=k.match(n),y;if(!m&&(y=U(d))&&t.test(y.tagName))m=y.className.match(n);m&&(m=m[1])}if(w.test(d.tagName))o=1;else var o=d.currentStyle,u=s.defaultView,o=(o=o?o.whiteSpace:u&&u.getComputedStyle?u.getComputedStyle(d,q).getPropertyValue("white-space"):0)&&"pre"===o.substring(0,3);u=j.linenums;if(!(u=u==="true"||+u))u=(u=k.match(/\blinenums\b(?::(\d+))?/))?u[1]&&u[1].length?+u[1]:!0:!1;u&&J(d,u,o);r={h:m,c:d,j:u,i:o};K(r)}}}i<p.length?setTimeout(g,250):"function"===typeof a&&a()}for(var b=d||document.body,s=b.ownerDocument||document,b=[b.getElementsByTagName("pre"),b.getElementsByTagName("code"),b.getElementsByTagName("xmp")],p=[],m=0;m<b.length;++m)for(var j=0,k=b[m].length;j<k;++j)p.push(b[m][j]);var b=q,c=Date;c.now||(c={now:function(){return+new Date}});var i=0,r,n=/\blang(?:uage)?-([\w.]+)(?!\S)/,e=/\bprettyprint\b/,v=/\bprettyprinted\b/,w=/pre|xmp/i,t=/^code$/i,f=/^(?:pre|code|xmp)$/i,h={};g()}};typeof define==="function"&&define.amd&&define("google-code-prettify",[],function(){return Y})})()}();var ns=Y.namespace("prettify"),sub=Y.Lang.sub;ns.prettyPrint=prettyPrint;ns.renderPrettyPrintedFile=function(container,code){var template='<pre class="prettyprint linenums hidden">{code}</pre>',content=sub(template,{code:code});container.setHTML(content);ns.prettyPrint();Y.one(".prettyprint").removeClass("hidden")}},"4-march-13",{requires:["base"]});YUI.add("reconnecting-websocket",function(Y){function ReconnectingWebSocket(url,protocols){this.debug=false;this.reconnectInterval=1e3;this.timeoutInterval=2e3;var self=this;var ws;var forcedClose=false;var timedOut=false;this.url=url;this.protocols=protocols;this.readyState=WebSocket.CONNECTING;this.URL=url;this.onopen=function(event){};this.onclose=function(event){};this.onmessage=function(event){};this.onerror=function(event){};function connect(reconnectAttempt){ws=new WebSocket(url,protocols);if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","attempt-connect",url)}var localWs=ws;var timeout=setTimeout(function(){if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","connection-timeout",url)}timedOut=true;localWs.close();timedOut=false},self.timeoutInterval);ws.onopen=function(event){clearTimeout(timeout);if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","onopen",url)}self.readyState=WebSocket.OPEN;reconnectAttempt=false;self.onopen(event)};ws.onclose=function(event){clearTimeout(timeout);ws=null;if(forcedClose){self.readyState=WebSocket.CLOSED;self.onclose(event)}else{self.readyState=WebSocket.CONNECTING;if(!reconnectAttempt&&!timedOut){if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","onclose",url)}self.onclose(event)}setTimeout(function(){connect(true)},self.reconnectInterval)}};ws.onmessage=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","onmessage",url,event.data)}Y.fire("websocketReceive",event.data);self.onmessage(event)};ws.onerror=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","onerror",url,event)}self.onerror(event)}}connect(url);this.send=function(data){if(ws){if(self.debug||ReconnectingWebSocket.debugAll){console.debug("ReconnectingWebSocket","send",url,data)}Y.fire("websocketSend",data);return ws.send(data)}else{throw"INVALID_STATE_ERR : Pausing to reconnect websocket"}};this.close=function(){if(ws){forcedClose=true;ws.close()}};this.refresh=function(){if(ws){ws.close()}}}ReconnectingWebSocket.debugAll=false;Y.ReconnectingWebSocket=ReconnectingWebSocket},"0.1.0",{requires:["base"]});"use strict";YUI.add("resizing-textarea",function(Y){var module=Y.namespace("juju.plugins"),ResizingTextarea=function(cfg){ResizingTextarea.superclass.constructor.apply(this,arguments)};ResizingTextarea.NAME="resizingTextarea";ResizingTextarea.NS="resizingTextarea";ResizingTextarea.ATTRS={height:{readOnly:true,getter:function(){return this.t_area.getStyle("height")}},min_height:{value:10,valueFn:function(){var target=this.get("host");var css_height=target.getStyle("height");return!Y.Lang.isUndefined(css_height)?this._clean_size(css_height):undefined}},max_height:{value:450},single_line:{value:false},skip_animations:{value:false}};Y.extend(ResizingTextarea,Y.Plugin.Base,{CLONE_CSS:{position:"absolute",height:"1em",top:-9999,left:-9999,opacity:0,overflow:"hidden",resize:"none"},_prev_scroll_height:0,_clean_size:function(val){if(Y.Lang.isString(val)&&val.indexOf("px")===-1){val.replace("px","")}return parseInt(val,10)},_get_single_line_height:function(node){var clone_one=this._prep_clone(node);clone_one.set("value","one");node.get("parentNode").appendChild(clone_one);var height=clone_one.get("scrollHeight");clone_one.remove(true);return height},_prep_clone:function(node){var clone=node.cloneNode(true);clone.setStyles(this.CLONE_CSS);clone.removeAttribute("id");clone.removeAttribute("name");clone.generateID();clone.setAttrs({tabIndex:-1});return clone},_run_change:function(new_value){this.clone.set("value",new_value);this.resize()},_setup_clone:function(node){this.clone=this._prep_clone(node);this._update_clone_width();node.get("parentNode").append(this.clone);return this.clone},_setup_css:function(){this.t_area.setStyle("resize","none");this.t_area.setStyle("overflow","hidden");if(!this.get("skip_animations")){this.t_area.setStyle("transition","height 0.3s ease");this.t_area.setStyle("-webkit-transition","height 0.3s ease");this.t_area.setStyle("-moz-transition","height 0.3s ease")}},_update_clone_width:function(){this.clone.setStyle("width",this.t_area.getComputedStyle("width"))},initializer:function(cfg){var that=this;this.t_area=this.get("host");this.hasFocus=false;this.set("min_height",this._clean_size(this.get("min_height")));this.set("max_height",this._clean_size(this.get("max_height")));this._setup_css(this.t_area);this._setup_clone(this.t_area);this.t_area.on("valueChange",function(e){this._run_change(e.newVal)},this);this.t_area.on("focus",function(e){var value=this.t_area.get("value");this.hasFocus=true;this.resize()},this);this.t_area.on("blur",function(e){this._prev_scroll_height=0;this.hasFocus=false;this.resize()},this);Y.on("windowresize",function(e){that._run_change(that.t_area.get("value"))},this);if(this.get("single_line")){this._single_line_height=this._get_single_line_height(this.t_area)}this.resize()},resize:function(){this._update_clone_width();var scroll_height=this.clone.get("scrollHeight");if(this.hasFocus){scroll_height+=this._single_line_height}if(this.get("single_line")&&this._single_line_height>=scroll_height&&scroll_height>0){this.t_area.setStyles({height:this.get("single_line"),overflow:"hidden"})}else if(this._prev_scroll_height!==scroll_height){var new_height=Math.max(this.get("min_height"),Math.min(scroll_height,this.get("max_height")));this.t_area.setStyle("height",new_height);this.set_overflow();this._prev_scroll_height=scroll_height}else if(this._prev_scroll_height<this.get("min_height")){this.t_area.setStyle("height",this.get("min_height"));this.set_overflow();this._prev_scroll_height=this.get("min_height")}},set_overflow:function(){var overflow="hidden";if(this.clone.get("scrollHeight")>=this.get("max_height")){overflow="auto"}this.t_area.setStyle("overflow",overflow)}});module.ResizingTextarea=ResizingTextarea},"0.1",{requires:["plugin","node","event-valuechange","event-resize"]});"use strict";YUI.add("spinner",function(Y){(function(t,e){if(typeof exports=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else t.Spinner=e()})(this,function(){"use strict";var t=["webkit","Moz","ms","O"],e={},i;function o(t,e){var i=document.createElement(t||"div"),o;for(o in e)i[o]=e[o];return i}function n(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var r=function(){var t=o("style",{type:"text/css"});n(document.getElementsByTagName("head")[0],t);return t.sheet||t.styleSheet}();function s(t,o,n,s){var a=["opacity",o,~~(t*100),n,s].join("-"),f=.01+n/s*100,l=Math.max(1-(1-t)/o*(100-f),t),d=i.substring(0,i.indexOf("Animation")).toLowerCase(),u=d&&"-"+d+"-"||"";if(!e[a]){r.insertRule("@"+u+"keyframes "+a+"{"+"0%{opacity:"+l+"}"+f+"%{opacity:"+t+"}"+(f+.01)+"%{opacity:1}"+(f+o)%100+"%{opacity:"+t+"}"+"100%{opacity:"+l+"}"+"}",r.cssRules.length);e[a]=1}return a}function a(e,i){var o=e.style,n,r;if(o[i]!==undefined)return i;i=i.charAt(0).toUpperCase()+i.slice(1);for(r=0;r<t.length;r++){n=t[r]+i;if(o[n]!==undefined)return n}}function f(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)if(t[o]===undefined)t[o]=i[o]}return t}function d(t){var e={x:t.offsetLeft,y:t.offsetTop};while(t=t.offsetParent)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var u={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function p(t){if(typeof this=="undefined")return new p(t);this.opts=l(t||{},p.defaults,u)}p.defaults={};l(p.prototype,{spin:function(t){this.stop();var e=this,n=e.opts,r=e.el=f(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width,a,l;if(t){t.insertBefore(r,t.firstChild||null);l=d(t);a=d(r);f(r,{left:(n.left=="auto"?l.x-a.x+(t.offsetWidth>>1):parseInt(n.left,10)+s)+"px",top:(n.top=="auto"?l.y-a.y+(t.offsetHeight>>1):parseInt(n.top,10)+s)+"px"})}r.setAttribute("role","progressbar");e.lines(r,e.opts);if(!i){var u=0,p=(n.lines-1)*(1-n.direction)/2,c,h=n.fps,m=h/n.speed,y=(1-n.opacity)/(m*n.trail/100),g=m/n.lines;(function v(){u++;for(var t=0;t<n.lines;t++){c=Math.max(1-(u+(n.lines-t)*g)%m*y,n.opacity);e.opacity(r,t*n.direction+p,c,n)}e.timeout=e.el&&setTimeout(v,~~(1e3/h))})()}return e},stop:function(){var t=this.el;if(t){clearTimeout(this.timeout);if(t.parentNode)t.parentNode.removeChild(t);this.el=undefined}return this},lines:function(t,e){var r=0,a=(e.lines-1)*(1-e.direction)/2,l;function d(t,i){return f(o(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*r+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(;r<e.lines;r++){l=f(o(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:i&&s(e.opacity,e.trail,a+r*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"});if(e.shadow)n(l,f(d("#000","0 0 4px "+"#000"),{top:2+"px"}));n(t,n(l,d(e.color,"0 0 1px rgba(0,0,0,.1)")))}return t},opacity:function(t,e,i){if(e<t.childNodes.length)t.childNodes[e].style.opacity=i}});function c(){function t(t,e){return o("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}r.addRule(".spin-vml","behavior:url(#default#VML)");p.prototype.lines=function(e,i){var o=i.length+i.width,r=2*o;function s(){return f(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}var a=-(i.width+i.length)*2+"px",l=f(s(),{position:"absolute",top:a,left:a}),d;function u(e,r,a){n(l,n(f(s(),{rotation:360/i.lines*e+"deg",left:~~r}),n(f(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(d=1;d<=i.lines;d++)u(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=i.lines;d++)u(d);return n(e,l)};p.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0;if(n&&e+o<n.childNodes.length){n=n.childNodes[e+o];n=n&&n.firstChild;n=n&&n.firstChild;if(n)n.opacity=i}}}var h=f(o("group"),{behavior:"url(#default#VML)"});if(!a(h,"transform")&&h.adj)c();else i=a(h,"animation");return p});var ns=Y.namespace("spinner"),sub=Y.Lang.sub;ns.Spinner=Spinner;ns.getSpinner=function(opts){var defaults={lines:17,length:0,width:3,radius:30,corners:1,rotate:14,color:"#000",speed:1.3,trail:60,shadow:false,hwaccel:true,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};return new Spinner(Y.merge(defaults,opts))}},"0.1.0",{requires:[]});"use strict";YUI.add("sub-app",function(Y){var SubApp=Y.Base.create("sub-app",Y.App.Base,[],{initializer:function(){this.publish("subNavigate",{emitFacade:true,broadcast:1})},verifyRendered:function(){if(this.get("rendered")===false){this.render()}},navigate:function(url,options){this.fire("subNavigate",{url:url,options:options,namespace:this.get("urlNamespace")})},render:function(){SubApp.superclass.render.call(this);this.set("rendered",true)},_afterHistoryChange:function(){},getSubAppRoutes:function(){var routes=this.get("routes"),namespace=this.get("urlNamespace"),i;Y.Array.each(routes,function(route){route.namespace=namespace});return routes},destructor:function(){}},{ATTRS:{urlNamespace:{},rendered:{value:false}}});Y.namespace("juju").SubApp=SubApp},"0.1.0",{requires:["app-base","base-build"]});YUI.add("unscaled-pack-layout",function(Y){function d3_layout_hierarchyRebind(object,hierarchy){d3.rebind(object,hierarchy,"sort","children","value");object.links=d3_layout_hierarchyLinks;object.nodes=function(d){d3_layout_hierarchyInline=true;return(object.nodes=object)(d)};return object}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}var d3_layout_hierarchyInline=false;function d3_layout_treeVisitAfter(node,callback){function visit(node,previousSibling){var children=node.children;if(children&&(n=children.length)){var child,previousChild=null,i=-1,n;while(++i<n){child=children[i];visit(child,previousChild);previousChild=child}}callback(node,previousSibling)}visit(node,null)}d3.layout.unscaledPack=function(){var hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1];function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0];root.x=0;root.y=0;d3_layout_treeVisitAfter(root,function(d){d.r=Math.sqrt(d.value)});d3_layout_treeVisitAfter(root,d3_layout_packSiblings);var w=size[0],h=size[1],k=1;if(padding>0){var dr=padding*k/2;d3_layout_treeVisitAfter(root,function(d){d.r+=dr});d3_layout_treeVisitAfter(root,d3_layout_packSiblings);d3_layout_treeVisitAfter(root,function(d){d.r-=dr})}d3_layout_packTransform(root,(w+padding)/2,(h+padding/2)/2,1/k);nodes.forEach(function(d){if(d.data&&d.data._modelName){d.data.x=d.x;d.data.y=d.y;d.data.r=d.r;d=d.data}});return nodes}pack.size=function(x){if(!arguments.length)return size;size=x;return pack};pack.padding=function(_){if(!arguments.length)return padding;padding=+_;return pack};return d3_layout_hierarchyRebind(pack,hierarchy)};function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b;b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return dr*dr-dx*dx-dy*dy>.001}function d3_layout_packSiblings(node){if(!(nodes=node.children)||!(n=nodes.length))return;var nodes,xMin=Infinity,xMax=-Infinity,yMin=Infinity,yMax=-Infinity,a,b,c,i,j,k,n;function bound(node){xMin=Math.min(node.x-node.r,xMin);xMax=Math.max(node.x+node.r,xMax);yMin=Math.min(node.y-node.r,yMin);yMax=Math.max(node.y+node.r,yMax)}nodes.forEach(d3_layout_packLink);a=nodes[0];a.x=-a.r;a.y=0;bound(a);if(n>1){b=nodes[1];b.x=b.r;b.y=0;bound(b);if(n>2){c=nodes[2];d3_layout_packPlace(a,b,c);bound(c);d3_layout_packInsert(a,c);a._pack_prev=c;d3_layout_packInsert(c,b);b=a._pack_next;for(i=3;i<n;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++){if(d3_layout_packIntersects(j,c)){isect=1;break}}if(isect==1){for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,s2++){if(d3_layout_packIntersects(k,c)){break}}}if(isect){if(s1<s2||s1==s2&&b.r<a.r)d3_layout_packSplice(a,b=j);else d3_layout_packSplice(a=k,b);i--}else{d3_layout_packInsert(a,c);b=c;bound(c)}}}}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;i<n;i++){c=nodes[i];c.x-=cx;c.y-=cy;cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y))}node.r=cr;nodes.forEach(d3_layout_packUnlink)}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next;delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;node.x=x+=k*node.x;node.y=y+=k*node.y;node.r*=k;if(children){var i=-1,n=children.length;while(++i<n)d3_layout_packTransform(children[i],x,y,k)}}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da;db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy;c.y=a.y+x*dy-y*dx}else{c.x=a.x+db;c.y=a.y}}},"0.0.1",{requires:["d3"]});"use strict";if(!Object.observe){(function(extend,global){var isCallable=function(toString){var s=toString.call(toString),u=typeof u;return typeof global.alert==="object"?function(f){return s===toString.call(f)||!!f&&typeof f.toString==u&&typeof f.valueOf==u&&/^\s*\bfunction\b/.test(""+f)}:function(f){return s===toString.call(f)}}(extend.prototype.toString);var isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};var sameValue=function(x,y){if(x===y){return x!==0||1/x===1/y}return x!==x&&y!==y};var isAccessorDescriptor=function(desc){if(typeof desc==="undefined"){return false}return"get"in desc||"set"in desc};var isDataDescriptor=function(desc){if(typeof desc==="undefined"){return false}return"value"in desc||"writable"in desc};var validateArguments=function(O,callback){if(typeof O!=="object"){throw new TypeError("Object.observeObject called on non-object")}if(isCallable(callback)===false){throw new TypeError("Object.observeObject: Expecting function")}if(Object.isFrozen(callback)===true){throw new TypeError("Object.observeObject: Expecting unfrozen function")}};var Observer=function(){var wraped=[];var Observer=function(O,callback){validateArguments(O,callback);Object.getNotifier(O).addListener(callback);if(wraped.indexOf(O)===-1){wraped.push(O)}else{Object.getNotifier(O)._checkPropertyListing()}};Observer.prototype.deliverChangeRecords=function(O){Object.getNotifier(O).deliverChangeRecords()};wraped.lastScanned=0;var f=function(wrapped){return function(){var i=0,l=wrapped.length,startTime=new Date,takingTooLong=false;for(i=wrapped.lastScanned;i<l&&!takingTooLong;i++){Object.getNotifier(wrapped[i])._checkPropertyListing();takingTooLong=new Date-startTime>100}wrapped.lastScanned=i<l?i:0;setTimeout(f,100)}}(wraped);setTimeout(f,100);return Observer}();var Notifier=function(watching){var _listeners=[],_updates=[],_updater=false,properties=[],values=[];var self=this;Object.defineProperty(self,"_watching",{get:function(watched){return function(){return watched}}(watching)});var wrapProperty=function(object,prop){var propType=typeof object[prop],descriptor=Object.getOwnPropertyDescriptor(object,prop);if(prop==="getNotifier"||isAccessorDescriptor(descriptor)||!descriptor.enumerable){return false}if(object instanceof Array&&isNumeric(prop)){var idx=properties.length;properties[idx]=prop;values[idx]=object[prop];return true}(function(idx,prop){properties[idx]=prop;values[idx]=object[prop];Object.defineProperty(object,prop,{enumerable:true,get:function(){return values[idx]},set:function(value){if(!sameValue(values[idx],value)){Object.getNotifier(object).queueUpdate(object,prop,"updated",values[idx]);values[idx]=value}}})})(properties.length,prop);return true};self._checkPropertyListing=function(dontQueueUpdates){var object=self._watching,keys=Object.keys(object),i=0,l=keys.length;var newKeys=[],oldKeys=properties.slice(0),updates=[];var prop,queueUpdates=!dontQueueUpdates,propType,value,idx;for(i=0;i<l;i++){prop=keys[i];value=object[prop];propType=typeof value;if((idx=properties.indexOf(prop))===-1){if(wrapProperty(object,prop)&&queueUpdates){self.queueUpdate(object,prop,"new",null,object[prop])}}else{if(object instanceof Array&&isNumeric(prop)){if(values[idx]!==value){if(queueUpdates){self.queueUpdate(object,prop,"updated",values[idx],value)}values[idx]=value}}oldKeys.splice(oldKeys.indexOf(prop),1)}}if(queueUpdates){l=oldKeys.length;for(i=0;i<l;i++){idx=properties.indexOf(oldKeys[i]);self.queueUpdate(object,oldKeys[i],"deleted",values[idx]);properties.splice(idx,1);values.splice(idx,1)}}};self.addListener=function(callback){var idx=_listeners.indexOf(callback);if(idx===-1){_listeners.push(callback)}};self.removeListener=function(callback){var idx=_listeners.indexOf(callback);if(idx>-1){_listeners.splice(idx,1)}};self.listeners=function(){return _listeners};self.queueUpdate=function(what,prop,type,was){this.queueUpdates([{type:type,object:what,name:prop,oldValue:was}])};self.queueUpdates=function(updates){var self=this,i=0,l=updates.length||0,update;for(i=0;i<l;i++){update=updates[i];_updates.push(update)}if(_updater){clearTimeout(_updater)}_updater=setTimeout(function(){_updater=false;self.deliverChangeRecords()},100)};self.deliverChangeRecords=function(){var i=0,l=_listeners.length,keepRunning=true;for(i=0;i<l&&keepRunning;i++){if(typeof _listeners[i]==="function"){if(_listeners[i]===console.log){console.log(_updates)}else{keepRunning=!_listeners[i](_updates)}}}_updates=[]};self._checkPropertyListing(true)};var _notifiers=[],_indexes=[];extend.getNotifier=function(O){var idx=_indexes.indexOf(O),notifier=idx>-1?_notifiers[idx]:false;if(!notifier){idx=_indexes.length;_indexes[idx]=O;notifier=_notifiers[idx]=new Notifier(O)}return notifier};extend.observe=function(O,callback){return new Observer(O,callback)};extend.unobserve=function(O,callback){validateArguments(O,callback);extend.getNotifier(O).removeListener(callback)}})(Object,this)}
//@ sourceMappingURL=all-yui.js.map